/*! For license information please see openmrs-esm-styleguide.js.LICENSE.txt */
System.register(["@openmrs/esm-error-handling","@openmrs/esm-extensions","@openmrs/esm-navigation","@openmrs/esm-react-utils","@openmrs/esm-state","@openmrs/esm-translations","dayjs","i18next","react","react-dom","react-i18next","rxjs"],(function(e,t){var n={},r={},o={},i={},a={},s={},u={},c={},l={},f={},h={},d={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(f,"__esModule",{value:!0}),{setters:[function(){},function(e){r.getExtensionInternalStore=e.getExtensionInternalStore,r.getExtensionStore=e.getExtensionStore},function(){},function(){},function(e){a.createGlobalStore=e.createGlobalStore,a.getGlobalStore=e.getGlobalStore},function(){},function(e){u.default=e.default},function(e){c.default=e.default},function(e){Object.keys(e).forEach((function(t){l[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){f[t]=e[t]}))},function(){},function(e){d.BehaviorSubject=e.BehaviorSubject,d.Subject=e.Subject}],execute:function(){e((()=>{var e={976:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e,t=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var a=void 0===i?"undefined":(e=i)&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e;if("string"===a||"number"===a)t.push(i);else if(Array.isArray(i)){if(i.length){var s=o.apply(null,i);s&&t.push(s)}}else if("object"===a){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){t.push(i.toString());continue}for(var u in i)r.call(i,u)&&i[u]&&t.push(u)}}}return t.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},701:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},353:(e,t,n)=>{!function(t){"use strict";var r=function(e){return function(t,n){return"object"==typeof t&&(n=t,t=null),null==t&&(t=(new Date).toString()),n||(n={}),e.call(this,t,n)}},o=n(42),i=e.exports={generate:r((function(e,t){return new o(e,t)}))};t&&(t.fn.geopattern=r((function(e,n){return this.each((function(){var r=t(this).attr("data-title-sha");r&&(n=t.extend({hash:r},n));var o=i.generate(e,n);t(this).css("background-image",o.toDataUrl())}))})))}("undefined"!=typeof jQuery?jQuery:null)},851:e=>{"use strict";e.exports={hex2rgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgb2hex:function(e){return"#"+["r","g","b"].map((function(t){return("0"+e[t].toString(16)).slice(-2)})).join("")},rgb2hsl:function(e){var t=e.r,n=e.g,r=e.b;t/=255,n/=255,r/=255;var o,i,a=Math.max(t,n,r),s=Math.min(t,n,r),u=(a+s)/2;if(a===s)o=i=0;else{var c=a-s;switch(i=u>.5?c/(2-a-s):c/(a+s),a){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4}o/=6}return{h:o,s:i,l:u}},hsl2rgb:function(e){var t,n,r,o=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},i=e.h,a=e.s,s=e.l;if(0===a)t=n=r=s;else{var u=s<.5?s*(1+a):s+a-s*a,c=2*s-u;t=o(c,u,i+1/3),n=o(c,u,i),r=o(c,u,i-1/3)}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*r)}},rgb2rgbString:function(e){return"rgb("+[e.r,e.g,e.b].join(",")+")"}}},42:(e,t,n)=>{"use strict";var r=n(495),o=n(851),i=n(451),a=n(138),s={baseColor:"#933c3c"},u=["octogons","overlappingCircles","plusSigns","xes","sineWaves","hexagons","overlappingRings","plaid","triangles","squares","concentricCircles","diamonds","tessellation","nestedSquares","mosaicSquares","chevrons"],c="#222",l="#ddd",f="#000",h=.02,d=.02,p=.15;function v(e,t,n){return parseInt(e.substr(t,n||1),16)}function y(e,t,n,r,o){return(parseFloat(e)-t)*(o-r)/(n-t)+r}function m(e){return e%2==0?l:c}function g(e){return y(e,0,15,d,p)}var b=e.exports=function(e,t){return this.opts=r({},s,t),this.hash=t.hash||i(e),this.svg=new a,this.generateBackground(),this.generatePattern(),this};function w(e){return[[e,0,e,3*e],[0,e,3*e,e]]}function _(e){return[0,0,e,e,0,e,0,0].join(",")}function S(e,t,n,r,o){var i=_(r),a=g(o[0]),s=m(o[0]),u={stroke:f,"stroke-opacity":h,"fill-opacity":a,fill:s};e.polyline(i,u).transform({translate:[t+r,n],scale:[-1,1]}),e.polyline(i,u).transform({translate:[t+r,n+2*r],scale:[1,-1]}),a=g(o[1]),s=m(o[1]),u={stroke:f,"stroke-opacity":h,"fill-opacity":a,fill:s},e.polyline(i,u).transform({translate:[t+r,n+2*r],scale:[-1,-1]}),e.polyline(i,u).transform({translate:[t+r,n],scale:[1,1]})}function O(e,t,n,r,o){var i=g(o),a=m(o),s=_(r),u={stroke:f,"stroke-opacity":h,"fill-opacity":i,fill:a};e.polyline(s,u).transform({translate:[t,n+r],scale:[1,-1]}),e.polyline(s,u).transform({translate:[t+2*r,n+r],scale:[-1,-1]}),e.polyline(s,u).transform({translate:[t,n+r],scale:[1,1]}),e.polyline(s,u).transform({translate:[t+2*r,n+r],scale:[-1,1]})}b.prototype.toSvg=function(){return this.svg.toString()},b.prototype.toString=function(){return this.toSvg()},b.prototype.toBase64=function(){var e=this.toSvg();return"undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(e):new Buffer(e).toString("base64")},b.prototype.toDataUri=function(){return"data:image/svg+xml;base64,"+this.toBase64()},b.prototype.toDataUrl=function(){return'url("'+this.toDataUri()+'")'},b.prototype.generateBackground=function(){var e,t,n,r;this.opts.color?n=o.hex2rgb(this.opts.color):(t=y(v(this.hash,14,3),0,4095,0,359),r=v(this.hash,17),(e=o.rgb2hsl(o.hex2rgb(this.opts.baseColor))).h=(360*e.h-t+360)%360/360,e.s=r%2==0?Math.min(1,(100*e.s+r)/100):Math.max(0,(100*e.s-r)/100),n=o.hsl2rgb(e)),this.color=o.rgb2hex(n),this.svg.rect(0,0,"100%","100%",{fill:o.rgb2rgbString(n)})},b.prototype.generatePattern=function(){var e=this.opts.generator;if(e){if(u.indexOf(e)<0)throw new Error("The generator "+e+" does not exist.")}else e=u[v(this.hash,20)];return this["geo"+e.slice(0,1).toUpperCase()+e.slice(1)]()},b.prototype.geoHexagons=function(){var e,t,n,r,o,i,a,s=y(v(this.hash,0),0,15,8,60),u=s*Math.sqrt(3),c=2*s,l=function(e){var t=e,n=t/2,r=Math.sin(60*Math.PI/180)*t;return[0,r,n,0,n+t,0,2*t,r,n+t,2*r,n,2*r,0,r].join(",")}(s);for(this.svg.setWidth(3*c+3*s),this.svg.setHeight(6*u),t=0,a=0;a<6;a++)for(i=0;i<6;i++)e=i%2==0?a*u:a*u+u/2,n=g(o=v(this.hash,t)),r={fill:m(o),"fill-opacity":n,stroke:f,"stroke-opacity":h},this.svg.polyline(l,r).transform({translate:[i*s*1.5-c/2,e-u/2]}),0===i&&this.svg.polyline(l,r).transform({translate:[6*s*1.5-c/2,e-u/2]}),0===a&&(e=i%2==0?6*u:6*u+u/2,this.svg.polyline(l,r).transform({translate:[i*s*1.5-c/2,e-u/2]})),0===i&&0===a&&this.svg.polyline(l,r).transform({translate:[6*s*1.5-c/2,5*u+u/2]}),t++},b.prototype.geoSineWaves=function(){var e,t,n,r,o,i,a=Math.floor(y(v(this.hash,0),0,15,100,400)),s=Math.floor(y(v(this.hash,1),0,15,30,100)),u=Math.floor(y(v(this.hash,2),0,15,3,30));for(this.svg.setWidth(a),this.svg.setHeight(36*u),e=0;e<36;e++)t=g(o=v(this.hash,e)),r={fill:"none",stroke:m(o),opacity:t,"stroke-width":u+"px"},n="M0 "+s+" C "+(i=a/4*.7)+" 0, "+(a/2-i)+" 0, "+a/2+" "+s+" S "+(a-i)+" "+2*s+", "+a+" "+s+" S "+(1.5*a-i)+" 0, "+1.5*a+", "+s,this.svg.path(n,r).transform({translate:[-a/4,u*e-1.5*s]}),this.svg.path(n,r).transform({translate:[-a/4,u*e-1.5*s+36*u]})},b.prototype.geoChevrons=function(){var e,t,n,r,o,i,a,s,u,c,l=y(v(this.hash,0),0,15,30,80),d=y(v(this.hash,0),0,15,30,80),p=[[0,0,(e=l)/2,(t=d)-(n=.66*t),e/2,t,0,n,0,0],[e/2,t-n,e,0,e,n,e/2,t,e/2,t-n]].map((function(e){return e.join(",")}));for(this.svg.setWidth(6*l),this.svg.setHeight(6*d*.66),o=0,c=0;c<6;c++)for(u=0;u<6;u++)i=g(s=v(this.hash,o)),r=m(s),a={stroke:f,"stroke-opacity":h,fill:r,"fill-opacity":i,"stroke-width":1},this.svg.group(a).transform({translate:[u*l,c*d*.66-d/2]}).polyline(p).end(),0===c&&this.svg.group(a).transform({translate:[u*l,6*d*.66-d/2]}).polyline(p).end(),o+=1},b.prototype.geoPlusSigns=function(){var e,t,n,r,o,i,a,s=y(v(this.hash,0),0,15,10,25),u=3*s,c=w(s);for(this.svg.setWidth(12*s),this.svg.setHeight(12*s),t=0,a=0;a<6;a++)for(i=0;i<6;i++)n=g(o=v(this.hash,t)),e=a%2==0?0:1,r={fill:m(o),stroke:f,"stroke-opacity":h,"fill-opacity":n},this.svg.group(r).transform({translate:[i*u-i*s+e*s-s,a*u-a*s-u/2]}).rect(c).end(),0===i&&this.svg.group(r).transform({translate:[4*u-i*s+e*s-s,a*u-a*s-u/2]}).rect(c).end(),0===a&&this.svg.group(r).transform({translate:[i*u-i*s+e*s-s,4*u-a*s-u/2]}).rect(c).end(),0===i&&0===a&&this.svg.group(r).transform({translate:[4*u-i*s+e*s-s,4*u-a*s-u/2]}).rect(c).end(),t++},b.prototype.geoXes=function(){var e,t,n,r,o,i,a,s=y(v(this.hash,0),0,15,10,25),u=w(s),c=3*s*.943;for(this.svg.setWidth(3*c),this.svg.setHeight(3*c),t=0,a=0;a<6;a++)for(i=0;i<6;i++)n=g(o=v(this.hash,t)),e=i%2==0?a*c-.5*c:a*c-.5*c+c/4,r={fill:m(o),opacity:n},this.svg.group(r).transform({translate:[i*c/2-c/2,e-a*c/2],rotate:[45,c/2,c/2]}).rect(u).end(),0===i&&this.svg.group(r).transform({translate:[6*c/2-c/2,e-a*c/2],rotate:[45,c/2,c/2]}).rect(u).end(),0===a&&(e=i%2==0?6*c-c/2:6*c-c/2+c/4,this.svg.group(r).transform({translate:[i*c/2-c/2,e-6*c/2],rotate:[45,c/2,c/2]}).rect(u).end()),5===a&&this.svg.group(r).transform({translate:[i*c/2-c/2,e-11*c/2],rotate:[45,c/2,c/2]}).rect(u).end(),0===i&&0===a&&this.svg.group(r).transform({translate:[6*c/2-c/2,e-6*c/2],rotate:[45,c/2,c/2]}).rect(u).end(),t++},b.prototype.geoOverlappingCircles=function(){var e,t,n,r,o,i,a=y(v(this.hash,0),0,15,25,200)/2;for(this.svg.setWidth(6*a),this.svg.setHeight(6*a),e=0,i=0;i<6;i++)for(o=0;o<6;o++)t=g(r=v(this.hash,e)),n={fill:m(r),opacity:t},this.svg.circle(o*a,i*a,a,n),0===o&&this.svg.circle(6*a,i*a,a,n),0===i&&this.svg.circle(o*a,6*a,a,n),0===o&&0===i&&this.svg.circle(6*a,6*a,a,n),e++},b.prototype.geoOctogons=function(){var e,t,n,r,o,i,a=y(v(this.hash,0),0,15,10,60),s=function(e){var t=.33*e;return[t,0,e-t,0,e,t,e,e-t,e-t,e,t,e,0,e-t,0,t,t,0].join(",")}(a);for(this.svg.setWidth(6*a),this.svg.setHeight(6*a),t=0,i=0;i<6;i++)for(o=0;o<6;o++)n=g(r=v(this.hash,t)),e=m(r),this.svg.polyline(s,{fill:e,"fill-opacity":n,stroke:f,"stroke-opacity":h}).transform({translate:[o*a,i*a]}),t+=1},b.prototype.geoSquares=function(){var e,t,n,r,o,i,a=y(v(this.hash,0),0,15,10,60);for(this.svg.setWidth(6*a),this.svg.setHeight(6*a),t=0,i=0;i<6;i++)for(o=0;o<6;o++)n=g(r=v(this.hash,t)),e=m(r),this.svg.rect(o*a,i*a,a,a,{fill:e,"fill-opacity":n,stroke:f,"stroke-opacity":h}),t+=1},b.prototype.geoConcentricCircles=function(){var e,t,n,r,o,i,a=y(v(this.hash,0),0,15,10,60),s=a/5;for(this.svg.setWidth(6*(a+s)),this.svg.setHeight(6*(a+s)),t=0,i=0;i<6;i++)for(o=0;o<6;o++)n=g(r=v(this.hash,t)),e=m(r),this.svg.circle(o*a+o*s+(a+s)/2,i*a+i*s+(a+s)/2,a/2,{fill:"none",stroke:e,opacity:n,"stroke-width":s+"px"}),n=g(r=v(this.hash,39-t)),e=m(r),this.svg.circle(o*a+o*s+(a+s)/2,i*a+i*s+(a+s)/2,a/4,{fill:e,"fill-opacity":n}),t+=1},b.prototype.geoOverlappingRings=function(){var e,t,n,r,o,i,a=y(v(this.hash,0),0,15,10,60),s=a/4;for(this.svg.setWidth(6*a),this.svg.setHeight(6*a),e=0,i=0;i<6;i++)for(o=0;o<6;o++)t=g(r=v(this.hash,e)),n={fill:"none",stroke:m(r),opacity:t,"stroke-width":s+"px"},this.svg.circle(o*a,i*a,a-s/2,n),0===o&&this.svg.circle(6*a,i*a,a-s/2,n),0===i&&this.svg.circle(o*a,6*a,a-s/2,n),0===o&&0===i&&this.svg.circle(6*a,6*a,a-s/2,n),e+=1},b.prototype.geoTriangles=function(){var e,t,n,r,o,i,a,s=y(v(this.hash,0),0,15,15,80),u=s/2*Math.sqrt(3),c=function(e,t){var n=e/2;return[n,0,e,t,0,t,n,0].join(",")}(s,u);for(this.svg.setWidth(3*s),this.svg.setHeight(6*u),e=0,a=0;a<6;a++)for(i=0;i<6;i++)t=g(o=v(this.hash,e)),r={fill:m(o),"fill-opacity":t,stroke:f,"stroke-opacity":h},n=a%2==0?i%2==0?180:0:i%2!=0?180:0,this.svg.polyline(c,r).transform({translate:[i*s*.5-s/2,u*a],rotate:[n,s/2,u/2]}),0===i&&this.svg.polyline(c,r).transform({translate:[6*s*.5-s/2,u*a],rotate:[n,s/2,u/2]}),e+=1},b.prototype.geoDiamonds=function(){var e,t,n,r,o,i,a,s,u,c=y(v(this.hash,0),0,15,10,50),l=y(v(this.hash,1),0,15,10,50),d=[(e=c)/2,0,e,(t=l)/2,e/2,t,0,t/2].join(",");for(this.svg.setWidth(6*c),this.svg.setHeight(3*l),r=0,u=0;u<6;u++)for(s=0;s<6;s++)o=g(a=v(this.hash,r)),i={fill:m(a),"fill-opacity":o,stroke:f,"stroke-opacity":h},n=u%2==0?0:c/2,this.svg.polyline(d,i).transform({translate:[s*c-c/2+n,l/2*u-l/2]}),0===s&&this.svg.polyline(d,i).transform({translate:[6*c-c/2+n,l/2*u-l/2]}),0===u&&this.svg.polyline(d,i).transform({translate:[s*c-c/2+n,l/2*6-l/2]}),0===s&&0===u&&this.svg.polyline(d,i).transform({translate:[6*c-c/2+n,l/2*6-l/2]}),r+=1},b.prototype.geoNestedSquares=function(){var e,t,n,r,o,i,a=y(v(this.hash,0),0,15,4,12),s=7*a;for(this.svg.setWidth(6*(s+a)+6*a),this.svg.setHeight(6*(s+a)+6*a),e=0,i=0;i<6;i++)for(o=0;o<6;o++)t=g(r=v(this.hash,e)),n={fill:"none",stroke:m(r),opacity:t,"stroke-width":a+"px"},this.svg.rect(o*s+o*a*2+a/2,i*s+i*a*2+a/2,s,s,n),t=g(r=v(this.hash,39-e)),n={fill:"none",stroke:m(r),opacity:t,"stroke-width":a+"px"},this.svg.rect(o*s+o*a*2+a/2+2*a,i*s+i*a*2+a/2+2*a,3*a,3*a,n),e+=1},b.prototype.geoMosaicSquares=function(){var e,t,n,r=y(v(this.hash,0),0,15,15,50);for(this.svg.setWidth(8*r),this.svg.setHeight(8*r),e=0,n=0;n<4;n++)for(t=0;t<4;t++)t%2==0?n%2==0?O(this.svg,t*r*2,n*r*2,r,v(this.hash,e)):S(this.svg,t*r*2,n*r*2,r,[v(this.hash,e),v(this.hash,e+1)]):n%2==0?S(this.svg,t*r*2,n*r*2,r,[v(this.hash,e),v(this.hash,e+1)]):O(this.svg,t*r*2,n*r*2,r,v(this.hash,e)),e+=1},b.prototype.geoPlaid=function(){var e,t,n,r,o,i,a=0,s=0;for(t=0;t<36;)a+=v(this.hash,t)+5,n=g(i=v(this.hash,t+1)),e=m(i),r=i+5,this.svg.rect(0,a,"100%",r,{opacity:n,fill:e}),a+=r,t+=2;for(t=0;t<36;)s+=v(this.hash,t)+5,n=g(i=v(this.hash,t+1)),e=m(i),o=i+5,this.svg.rect(s,0,o,"100%",{opacity:n,fill:e}),s+=o,t+=2;this.svg.setWidth(s),this.svg.setHeight(a)},b.prototype.geoTessellation=function(){var e,t,n,r,o,i=y(v(this.hash,0),0,15,5,40),a=i*Math.sqrt(3),s=2*i,u=i/2*Math.sqrt(3),c=function(e,t){return[0,0,t,e/2,0,e,0,0].join(",")}(i,u),l=3*i+2*u,d=2*a+2*i;for(this.svg.setWidth(l),this.svg.setHeight(d),t=0;t<20;t++)switch(n=g(o=v(this.hash,t)),e=m(o),r={stroke:f,"stroke-opacity":h,fill:e,"fill-opacity":n,"stroke-width":1},t){case 0:this.svg.rect(-i/2,-i/2,i,i,r),this.svg.rect(l-i/2,-i/2,i,i,r),this.svg.rect(-i/2,d-i/2,i,i,r),this.svg.rect(l-i/2,d-i/2,i,i,r);break;case 1:this.svg.rect(s/2+u,a/2,i,i,r);break;case 2:this.svg.rect(-i/2,d/2-i/2,i,i,r),this.svg.rect(l-i/2,d/2-i/2,i,i,r);break;case 3:this.svg.rect(s/2+u,1.5*a+i,i,i,r);break;case 4:this.svg.polyline(c,r).transform({translate:[i/2,-i/2],rotate:[0,i/2,u/2]}),this.svg.polyline(c,r).transform({translate:[i/2,d- -i/2],rotate:[0,i/2,u/2],scale:[1,-1]});break;case 5:this.svg.polyline(c,r).transform({translate:[l-i/2,-i/2],rotate:[0,i/2,u/2],scale:[-1,1]}),this.svg.polyline(c,r).transform({translate:[l-i/2,d+i/2],rotate:[0,i/2,u/2],scale:[-1,-1]});break;case 6:this.svg.polyline(c,r).transform({translate:[l/2+i/2,a/2]});break;case 7:this.svg.polyline(c,r).transform({translate:[l-l/2-i/2,a/2],scale:[-1,1]});break;case 8:this.svg.polyline(c,r).transform({translate:[l/2+i/2,d-a/2],scale:[1,-1]});break;case 9:this.svg.polyline(c,r).transform({translate:[l-l/2-i/2,d-a/2],scale:[-1,-1]});break;case 10:this.svg.polyline(c,r).transform({translate:[i/2,d/2-i/2]});break;case 11:this.svg.polyline(c,r).transform({translate:[l-i/2,d/2-i/2],scale:[-1,1]});break;case 12:this.svg.rect(0,0,i,i,r).transform({translate:[i/2,i/2],rotate:[-30,0,0]});break;case 13:this.svg.rect(0,0,i,i,r).transform({scale:[-1,1],translate:[i/2-l,i/2],rotate:[-30,0,0]});break;case 14:this.svg.rect(0,0,i,i,r).transform({translate:[i/2,d/2-i/2-i],rotate:[30,0,i]});break;case 15:this.svg.rect(0,0,i,i,r).transform({scale:[-1,1],translate:[i/2-l,d/2-i/2-i],rotate:[30,0,i]});break;case 16:this.svg.rect(0,0,i,i,r).transform({scale:[1,-1],translate:[i/2,d/2-d-i/2-i],rotate:[30,0,i]});break;case 17:this.svg.rect(0,0,i,i,r).transform({scale:[-1,-1],translate:[i/2-l,d/2-d-i/2-i],rotate:[30,0,i]});break;case 18:this.svg.rect(0,0,i,i,r).transform({scale:[1,-1],translate:[i/2,i/2-d],rotate:[-30,0,0]});break;case 19:this.svg.rect(0,0,i,i,r).transform({scale:[-1,-1],translate:[i/2-l,i/2-d],rotate:[-30,0,0]})}}},451:e=>{"use strict";function t(){var e=function(){for(var e=16;e<80;e++){var t=u[e-3]^u[e-8]^u[e-14]^u[e-16];u[e]=t<<1|t>>>31}var n,l,f=r,h=o,d=i,p=a,v=s;for(e=0;e<80;e++){e<20?(n=p^h&(d^p),l=1518500249):e<40?(n=h^d^p,l=1859775393):e<60?(n=h&d|p&(h|d),l=2400959708):(n=h^d^p,l=3395469782);var y=(f<<5|f>>>27)+n+v+l+(0|u[e]);v=p,p=d,d=h<<30|h>>>2,h=f,f=y}for(r=r+f|0,o=o+h|0,i=i+d|0,a=a+p|0,s=s+v|0,c=0,e=0;e<16;e++)u[e]=0},t=function(t){u[c]|=(255&t)<<l,l?l-=8:(c++,l=24),16===c&&e()},n=function(e){for(var t="",n=28;n>=0;n-=4)t+=(e>>n&15).toString(16);return t},r=1732584193,o=4023233417,i=2562383102,a=271733878,s=3285377520,u=new Uint32Array(80),c=0,l=24,f=0;return{update:function(e){if("string"==typeof e)return function(e){var n=e.length;f+=8*n;for(var r=0;r<n;r++)t(e.charCodeAt(r))}(e);var n=e.length;f+=8*n;for(var r=0;r<n;r++)t(e[r])},digest:function(){t(128),(c>14||14===c&&l<24)&&e(),c=14,l=24,t(0),t(0),t(f>0xffffffffff?f/1099511627776:0),t(f>4294967295?f/4294967296:0);for(var u=24;u>=0;u-=8)t(f>>u);return n(r)+n(o)+n(i)+n(a)+n(s)}}}e.exports=function(e){if(void 0===e)return t();var n=t();return n.update(e),n.digest()}},138:(e,t,n)=>{"use strict";var r=n(495),o=n(97);function i(){return this.width=100,this.height=100,this.svg=o("svg"),this.context=[],this.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height}),this}e.exports=i,i.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},i.prototype.end=function(){return this.context.pop(),this},i.prototype.currentNode=function(){var e=this.currentContext();return e.lastChild||e},i.prototype.transform=function(e){return this.currentNode().setAttribute("transform",Object.keys(e).map((function(t){return t+"("+e[t].join(",")+")"})).join(" ")),this},i.prototype.setAttributes=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))},i.prototype.setWidth=function(e){this.svg.setAttribute("width",Math.floor(e))},i.prototype.setHeight=function(e){this.svg.setAttribute("height",Math.floor(e))},i.prototype.toString=function(){return this.svg.toString()},i.prototype.rect=function(e,t,n,i,a){var s=this;if(Array.isArray(e))return e.forEach((function(e){s.rect.apply(s,e.concat(a))})),this;var u=o("rect");return this.currentContext().appendChild(u),this.setAttributes(u,r({x:e,y:t,width:n,height:i},a)),this},i.prototype.circle=function(e,t,n,i){var a=o("circle");return this.currentContext().appendChild(a),this.setAttributes(a,r({cx:e,cy:t,r:n},i)),this},i.prototype.path=function(e,t){var n=o("path");return this.currentContext().appendChild(n),this.setAttributes(n,r({d:e},t)),this},i.prototype.polyline=function(e,t){var n=this;if(Array.isArray(e))return e.forEach((function(e){n.polyline(e,t)})),this;var i=o("polyline");return this.currentContext().appendChild(i),this.setAttributes(i,r({points:e},t)),this},i.prototype.group=function(e){var t=o("g");return this.currentContext().appendChild(t),this.context.push(t),this.setAttributes(t,r({},e)),this}},97:e=>{"use strict";var t=e.exports=function(e){return this,(null!=(n=t)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](this):this instanceof n)?(this.tagName=e,this.attributes=Object.create(null),this.children=[],this.lastChild=null,this):new t(e);var n};t.prototype.appendChild=function(e){return this.children.push(e),this.lastChild=e,this},t.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this},t.prototype.toString=function(){var e=this;return["<",e.tagName,Object.keys(e.attributes).map((function(t){return[" ",t,'="',e.attributes[t],'"'].join("")})).join(""),">",e.children.map((function(e){return e.toString()})).join(""),"</",e.tagName,">"].join("")}},495:e=>{var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;function r(e){if(!e||"[object Object]"!==n.call(e)||e.nodeType||e.setInterval)return!1;var r,o=t.call(e,"constructor"),i=t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)}e.exports=function e(){var t,n,o,i,a,s,u=arguments[0]||{},c=1,l=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},c=2),"object"!=typeof u&&"function"!=typeof u&&(u={});c<l;c++)if(null!=(t=arguments[c]))for(n in t)o=u[n],u!==(i=t[n])&&(f&&i&&(r(i)||(a=Array.isArray(i)))?(a?(a=!1,s=o&&Array.isArray(o)?o:[]):s=o&&r(o)?o:{},u[n]=e(f,s,i)):void 0!==i&&(u[n]=i));return u}},279:(e,t,n)=>{"use strict";var r=n(493);r.createRoot,r.hydrateRoot},978:(e,t,n)=>{"use strict";var r=n(954),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&l({inst:o})}),[e,n,t]),a((function(){return c(o)&&l({inst:o}),e((function(){c(o)&&l({inst:o})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},921:(e,t,n)=>{"use strict";e.exports=n(978)},641:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}System.register(["@openmrs/esm-config","@openmrs/esm-navigation","@openmrs/esm-error-handling","@openmrs/esm-offline"],(function(e,t){var s={},u={},c={},l={};return{setters:[function(e){s.Type=e.Type,s.defineConfigSchema=e.defineConfigSchema,s.getConfig=e.getConfig,s.validators=e.validators},function(e){u.navigate=e.navigate},function(e){c.reportError=e.reportError},function(e){l.getSynchronizationItems=e.getSynchronizationItems}],execute:function(){e(function(){var e={385:function(){System.register([],(function(e,t){return{execute:function(){e(function(){"use strict";var e=function(e,t){var n=u[e];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(t,!0),n.active=!0,n.value;var r=s()((function(){return t}));return u[e]={value:r,active:!0},r},t=function(e,t){var n=u[e];return n?(n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value=t,n.active=!0,n.value):(u[e]={value:t,active:!0},t)},n=function(e,t){var n=u[e];if(!n){var r=s()((function(){return null!=t?t:{}}));return u[e]={value:r,active:!1},r}return n.value},r=function(e,t,n){var r=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==r&&(r=o,n(o))}))},o={d:function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},i={};o.r(i),o.d(i,{createGlobalStore:function(){return e},getGlobalStore:function(){return n},registerGlobalStore:function(){return t},subscribeTo:function(){return r}});var a=function(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(!Object.is(o,t)){var i=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((function(e){return e(t,i)}))}},o=function(){return t},i={setState:r,getState:o,getInitialState:function(){return a},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},s=function(e){return e?a(e):a},u={};return setTimeout((function(){"development"===window.spaEnv&&(window.stores=u)}),1e3),i}())}}}))},824:function(e){"use strict";e.exports=s},254:function(e){"use strict";e.exports=c},513:function(e){"use strict";e.exports=u},738:function(e){"use strict";e.exports=l}},t={};function f(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,f),o.exports}f.d=function(e,t){for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var h={};return function(){"use strict";var e=function(e,t){function n(){this.constructor=e}ut(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},t=function(e){return"function"==typeof e},s=function(e){setTimeout((function(){throw e}),0)},u=function(e){return null!==e&&"object"==typeof e},c=function(e){return e.reduce((function(e,t){return e.concat(i(t,pt)?t.errors:t)}),[])},l=function(e){return e},d=function(e){if(e||(e=lt.Promise||Promise),!e)throw new Error("no Promise impl found");return e},p=function(e,t,n){var r=g(e,t,n);Ht.length?Ht.forEach((function(e){return e(r)})):setTimeout((function(){throw r}))},v=function(e){if("function"!=typeof e)throw Error(m(28,!1));Ht.push(e)},y=function(e){if("function"!=typeof e)throw Error(m(29,!1));var t=!1;return Ht=Ht.filter((function(n){var r=n===e;return t=t||r,!r})),t},m=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(e,": ").concat(t?t+" ":"","See https://single-spa.js.org/error/?code=").concat(e).concat(r.length?"&arg=".concat(r.join("&arg=")):"")},g=function(e,t,n){var r,o="".concat(O(t)," '").concat(_(t),"' died in status ").concat(t.status,": ");if(i(e,Error)){try{e.message=o+e.message}catch(e){}r=e}else{console.warn(m(30,!1,t.status,_(t)));try{r=Error(o+JSON.stringify(e))}catch(t){r=e}}return r.appOrParcelName=_(t),t.status=n,r},b=function(e){return e.status===Xt},w=function(e){try{return e.activeWhen(window.location)}catch(t){return p(t,e,nn),!1}},_=function(e){return e.name},S=function(e){return Boolean(e.unmountThisParcel)},O=function(e){return S(e)?"parcel":"application"},E=function(){for(var e=arguments.length-1;e>0;e--)for(var t in arguments[e])"__proto__"!==t&&(arguments[e-1][t]=arguments[e][t]);return arguments[0]},x=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},k=function(e){return e&&("function"==typeof e||(t=e,Array.isArray(t)&&!x(t,(function(e){return"function"!=typeof e}))));var t},P=function(e,t){var n=e[t]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=O(e),o=_(e);return function(e){return n.reduce((function(n,i,a){return n.then((function(){var n=i(e);return A(n)?n:Promise.reject(m(15,!1,r,o,t,a))}))}),Promise.resolve())}},A=function(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch},j=function(e,t){return Promise.resolve().then((function(){return e.status!==Gt?e:(e.status=$t,e.bootstrap?K(e,"bootstrap").then(n).catch((function(n){if(t)throw g(n,e,nn);return p(n,e,nn),e})):Promise.resolve().then(n))}));function n(){return e.status=Qt,e}},C=function(e,t){return Promise.resolve().then((function(){if(e.status!==Xt)return e;e.status=Zt;var n=Object.keys(e.parcels).map((function(t){return e.parcels[t].unmountThisParcel()}));return Promise.all(n).then(r,(function(n){return r().then((function(){var r=Error(n.message);if(t)throw g(r,e,nn);p(r,e,nn)}))})).then((function(){return e}));function r(){return K(e,"unmount").then((function(){e.status=Qt}),(function(n){if(t)throw g(n,e,nn);p(n,e,nn)}))}}))},T=function(e,t){return Promise.resolve().then((function(){return e.status!==Qt?e:(on||(window.dispatchEvent(new Ft("single-spa:before-first-mount")),on=!0),e.status=Yt,K(e,"mount").then((function(){return e.status=Xt,an||(window.dispatchEvent(new Ft("single-spa:first-mount")),an=!0),e})).catch((function(n){return e.status=Xt,C(e,!0).then(r,r);function r(){if(t)throw g(n,e,nn);return p(n,e,nn),e}})))}))},M=function(){return D.apply(un,arguments)},D=function(e,t){var n=this;if(!e||"object"!=typeof e&&"function"!=typeof e)throw Error(m(2,!1));if(e.name&&"string"!=typeof e.name)throw Error(m(3,!1,a(e.name)));var r=sn++,o=e.name||"parcel-".concat(r);if("object"!=typeof t)throw Error(m(4,!1,o,void 0===t?"undefined":a(t)));if(!t.domElement)throw Error(m(5,!1,o));var i,s="function"==typeof e,u=s?e:function(){return Promise.resolve(e)},c={id:r,parcels:{},status:s?Wt:Gt,customProps:t,parentName:_(n),unmountThisParcel:function(){return p.then((function(){if(c.status!==Xt)throw Error(m(6,!1,o,c.status));return C(c,!0)})).then((function(e){return c.parentName&&delete n.parcels[c.id],e})).then((function(e){return f(e),e})).catch((function(e){throw c.status=nn,h(e),e}))}};n.parcels[r]=c;var l=u();if(!l||"function"!=typeof l.then)throw Error(m(7,!1));l=l.then((function(e){if(!e)throw Error(m(8,!1));if(o=e.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!k(e.bootstrap))throw Error(m(9,!1,o));if(!k(e.mount))throw Error(m(10,!1,o));if(!k(e.unmount))throw Error(m(11,!1,o));if(e.update&&!k(e.update))throw Error(m(12,!1,o));var t=P(e,"bootstrap"),n=P(e,"mount"),a=P(e,"unmount");c.status=Gt,c.name=o,c.bootstrap=t,c.mount=n,c.unmount=a,c.timeouts=U(e.timeouts),e.update&&(c.update=P(e,"update"),i.update=function(e){return c.customProps=e,I((t=c,Promise.resolve().then((function(){if(t.status!==Xt)throw Error(m(32,!1,_(t)));return t.status=Jt,K(t,"update").then((function(){return t.status=Xt,t})).catch((function(e){throw g(e,t,nn)}))}))));var t})}));var f,h,d=l.then((function(){return j(c,!0)})),p=d.then((function(){return T(c,!0)})),v=new Promise((function(e,t){f=e,h=t}));return i={mount:function(){return I(Promise.resolve().then((function(){if(c.status!==Qt)throw Error(m(13,!1,o,c.status));return n.parcels[r]=c,T(c)})))},unmount:function(){return I(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:I(l),bootstrapPromise:I(d),mountPromise:I(p),unmountPromise:I(v)}},I=function(e){return e.then((function(){return null}))},R=function(e){var t=_(e),n="function"==typeof e.customProps?e.customProps(t,window.location):e.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(m(40,!1),t,n));var r=E({},n,{name:t,mountParcel:D.bind(e),singleSpa:Ut});return S(e)&&(r.unmountSelf=e.unmountThisParcel),r},N=function(e,t,n){if("number"!=typeof e||e<=0)throw Error(m(16,!1));cn.bootstrap={millis:e,dieOnTimeout:t,warningMillis:n||1e3}},B=function(e,t,n){if("number"!=typeof e||e<=0)throw Error(m(17,!1));cn.mount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}},L=function(e,t,n){if("number"!=typeof e||e<=0)throw Error(m(18,!1));cn.unmount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}},z=function(e,t,n){if("number"!=typeof e||e<=0)throw Error(m(19,!1));cn.unload={millis:e,dieOnTimeout:t,warningMillis:n||1e3}},K=function(e,t){var n=e.timeouts[t],r=n.warningMillis,o=O(e);return new Promise((function(i,a){var s=!1,u=!1;e[t](R(e)).then((function(e){s=!0,i(e)})).catch((function(e){s=!0,a(e)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=m(31,!1,t,o,_(e),n.millis);function l(e){if(!s)if(!0===e)u=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!u){var t=e,o=t*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(t+1)}),r)}}}))},U=function(e){var t={};for(var n in cn)t[n]=E({},cn[n],e&&e[n]||{});return t},V=function(e){return Promise.resolve().then((function(){return e.loadPromise?e.loadPromise:e.status!==qt&&e.status!==tn?e:(e.status=Wt,e.loadPromise=Promise.resolve().then((function(){var r=e.loadApp(R(e));if(!A(r))throw n=!0,Error(m(33,!1,_(e)));return r.then((function(n){var r;e.loadErrorTime=null,"object"!=typeof(t=n)&&(r=34),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!k(t.bootstrap)&&(r=35),k(t.mount)||(r=36),k(t.unmount)||(r=37);var o=O(t);if(r){var i;try{i=JSON.stringify(t)}catch(e){}return console.error(m(r,!1,o,_(e),i),t),p(void 0,e,nn),e}return t.devtools&&t.devtools.overlays&&(e.devtools.overlays=E({},e.devtools.overlays,t.devtools.overlays)),e.status=Gt,e.bootstrap=P(t,"bootstrap"),e.mount=P(t,"mount"),e.unmount=P(t,"unmount"),e.unload=P(t,"unload"),e.timeouts=U(t.timeouts),delete e.loadPromise,e}))})).catch((function(t){var r;return delete e.loadPromise,n?r=nn:(r=tn,e.loadErrorTime=(new Date).getTime()),p(t,e,r),e})));var t,n}))},F=function(e){var t;if("string"==typeof e)t=e;else if(this&&this.href)t=this.href;else{if(!(e&&e.currentTarget&&e.currentTarget.href&&e.preventDefault))throw Error(m(14,!1));t=e.currentTarget.href,e.preventDefault()}var n=$(window.location.href),r=$(t);0===t.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=t:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,t)},H=function(e){var t=this;if(e){var n=e[0].type;hn.indexOf(n)>=0&&fn[n].forEach((function(n){try{n.apply(t,e)}catch(e){setTimeout((function(){throw e}))}}))}},q=function(){Sn([],arguments)},W=function(e,t){return function(){var n=window.location.href,r=e.apply(this,arguments),o=window.location.href;return Kt&&n===o||window.dispatchEvent(function(e,t){var n;try{n=new PopStateEvent("popstate",{state:e})}catch(t){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,e)}return n.singleSpa=!0,n.singleSpaTrigger=t,n}(window.history.state,t)),r}},G=function(e){if(pn)throw Error(m(43,!1));Kt=!e||!e.hasOwnProperty("urlRerouteOnly")||e.urlRerouteOnly,pn=!0,dn=window.history.replaceState,window.addEventListener("hashchange",q),window.addEventListener("popstate",q);var t=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(e,n){if(!("function"==typeof n&&hn.indexOf(e)>=0)||x(fn[e],(function(e){return e===n})))return t.apply(this,arguments);fn[e].push(n)},window.removeEventListener=function(e,t){if(!("function"==typeof t&&hn.indexOf(e)>=0))return n.apply(this,arguments);fn[e]=fn[e].filter((function(e){return e!==t}))},window.history.pushState=W(window.history.pushState,"pushState"),window.history.replaceState=W(dn,"replaceState")},$=function(e){var t=document.createElement("a");return t.href=e,t},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!vn){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return Y.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return Y.call(this,n,window.removeEventListener,e,t,arguments)},vn=!0}},Y=function(e,t,n,r,o){return"string"!=typeof n?e.apply(this,o):(n.split(/\s+/).forEach((function(e){hn.indexOf(e)>=0&&(t(e,r),n=n.replace(e,""))})),""===n.trim()?this:e.apply(this,o))},X=function(e){return Promise.resolve().then((function(){var t=yn[_(e)];if(!t)return e;if(e.status===qt)return J(e,t),e;if(e.status===en)return t.promise.then((function(){return e}));if(e.status!==Qt&&e.status!==tn)return e;var n=e.status===tn?Promise.resolve():K(e,"unload");return e.status=en,n.then((function(){return J(e,t),e})).catch((function(n){return function(e,t,n){delete yn[_(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,p(n,e,nn),t.reject(n)}(e,t,n),e}))}))},J=function(e,t){delete yn[_(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,e.status=qt,t.resolve()},Z=function(e,t,n,r){yn[_(e)]={app:e,resolve:n,reject:r},Object.defineProperty(yn[_(e)],"promise",{get:t})},ee=function(e){return yn[e]},te=function(){return mn.filter(b).map(_)},ne=function(){return mn.map(_)},re=function(e){var t=x(mn,(function(t){return _(t)===e}));return t?t.status:null},oe=function(e,t,n,r){var o=function(e,t,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof e?(function(e){if(Array.isArray(e)||null===e)throw Error(m(39,!1));var t=["name","app","activeWhen","customProps"],n=Object.keys(e).reduce((function(e,n){return t.indexOf(n)>=0?e:e.concat(n)}),[]);if(0!==n.length)throw Error(m(38,!1,t.join(", "),n.join(", ")));if("string"!=typeof e.name||0===e.name.length)throw Error(m(20,!1));if("object"!=typeof e.app&&"function"!=typeof e.app)throw Error(m(20,!1));var r=function(e){return"string"==typeof e||"function"==typeof e};if(!(r(e.activeWhen)||Array.isArray(e.activeWhen)&&e.activeWhen.every(r)))throw Error(m(24,!1));if(!ce(e.customProps))throw Error(m(22,!1))}(e),i.name=e.name,i.loadApp=e.app,i.activeWhen=e.activeWhen,i.customProps=e.customProps):(function(e,t,n,r){if("string"!=typeof e||0===e.length)throw Error(m(20,!1));if(!t)throw Error(m(23,!1));if("function"!=typeof n)throw Error(m(24,!1));if(!ce(r))throw Error(m(22,!1))}(e,t,n,r),i.name=e,i.loadApp=t,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(e){return e||{}}(i.customProps),i.activeWhen=function(e){var t=Array.isArray(e)?e:[e];return t=t.map((function(e){return"function"==typeof e?e:le(e)})),function(e){return t.some((function(t){return t(e)}))}}(i.activeWhen),i}(e,t,n,r);if(pe()||gn||(gn=!0,setTimeout((function(){pe()||console.warn(m(1,!1))}),5e3)),-1!==ne().indexOf(o.name))throw Error(m(21,!1,o.name));mn.push(E({loadErrorTime:null,status:qt,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),ln&&(Q(),Sn())},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return mn.filter((function(t){return t.activeWhen(e)})).map(_)},ae=function(e){if(0===mn.filter((function(t){return _(t)===e})).length)throw Error(m(25,!1,e));return(ln?se(e,{waitForUnmount:!1}):Promise.resolve()).then((function(){var t=mn.map(_).indexOf(e);mn.splice(t,1)}))},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof e)throw Error(m(26,!1));var n=x(mn,(function(t){return _(t)===e}));if(!n)throw Error(m(27,!1,e));var r,o=ee(_(n));if(t&&t.waitForUnmount){if(o)return o.promise;var i=new Promise((function(e,t){Z(n,(function(){return i}),e,t)}));return i}return o?(r=o.promise,ue(n,o.resolve,o.reject)):r=new Promise((function(e,t){Z(n,(function(){return r}),e,t),ue(n,e,t)})),r},ue=function(e,t,n){Promise.resolve().then((function(){if(x(ie(),(function(t){return t===_(e)})))return fe()})).then((function(){return C(e).then(X).then((function(){t(),setTimeout((function(){Sn()}))}))})).catch(n)},ce=function(e){return!e||"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},le=function(e,t){var n=function(e,t){var n=0,r=!1,o="^";"/"!==e[0]&&(e="/"+e);for(var i=0;i<e.length;i++){var a=e[i];(!r&&":"===a||r&&"/"===a)&&s(i)}return s(e.length),new RegExp(o,"i");function s(i){var a=e.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(o+=r?"[^/]+/?":a,i===e.length)if(r)t&&(o+="$");else{var s=t?"":".*";o="/"===o.charAt(o.length-1)?"".concat(o).concat(s,"$"):"".concat(o,"(/").concat(s,")?(#.*)?$")}r=!r,n=i}}(e,t);return function(e){var t=e.origin;t||(t="".concat(e.protocol,"//").concat(e.host));var r=e.href.replace(t,"").replace(e.search,"").split("?")[0];return n.test(r)}},fe=function(){return Sn()},he=function(e,t){return w(e)?j(e).then((function(e){return t.then((function(){return w(e)?T(e):e}))})):t.then((function(){return e}))},de=function(e){On=!0,ln&&(G(e),Sn())},pe=function(){return On},ve=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},ye=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},me=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ge=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},be=function(e){return e&&e.startsWith("http")?e:("/"!==e[0]&&(e="/"+e),window.openmrsBase+e)},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof t)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");var n=be(e);if(t.headers||(t.headers={}),Nt(t.body)&&(t.body=JSON.stringify(t.body)),void 0===t.headers.Accept&&(t.headers.Accept="application/json"),null===t.headers.Accept&&delete t.headers.Accept,e.startsWith(Cn)&&void 0===t.headers["Disable-WWW-Authenticate"]&&(t.headers["Disable-WWW-Authenticate"]="true"),e.startsWith(Tn)){var r=new URL(n,window.location.toString());r.searchParams.has("_summary")||(r.searchParams.set("_summary","data"),n=r.toString())}var o,i,a=Error();return window.fetch(n,t).then((o=function(e){var t,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(o){switch(o.label){case 0:return(t=e).ok?204===t.status?(t.data=null,[2,t]):[2,t.clone().text().then((function(e){try{e&&(t.data=JSON.parse(e))}catch(e){}return t}))]:[3,1];case 1:return[4,(0,Bt.getConfig)("@openmrs/esm-api")];case 2:return r=o.sent().redirectAuthFailure,n===be(Mn)&&403===t.status||r.enabled&&r.errors.includes(t.status)?(sessionStorage.removeItem(xn),(0,Lt.navigate)({to:r.url}),[2,r.resolvePromise?Promise.resolve():new Promise((function(){}))]):[2,t.clone().text().then((function(e){var r=e;try{r=JSON.parse(e)}catch(e){}throw new Dn(n,t,r,a)}),(function(e){throw new Dn(n,t,null,a)}))];case 3:return[2]}}))},i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){ye(i,n,r,a,s,"next",e)}function s(e){ye(i,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)}))},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");var n=new AbortController;return t.signal=n.signal,new wt((function(r){var o=!1;return we(e,t).then((function(e){o=!0,r.next(e),r.complete()}),(function(e){o=!0,r.error(e)})),function(){o||n.abort()}}))},Se=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},Oe=function(e,t){return we("".concat(In,"/").concat(e),{signal:t.signal})},Ee=function(e,t,n){return we("".concat(In,"?patient=").concat(e,"&includeEncounterless=").concat(t),{signal:n.signal})},xe=function(e,t){return Rn.apply(this,arguments)},ke=function(e,t){return we("".concat(In,"/").concat(e),{method:"DELETE",signal:t.signal})},Pe=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},Ae=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Pe(i,r,o,a,s,"next",e)}function s(e){Pe(i,r,o,a,s,"throw",e)}a(void 0)}))}},je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeAuthStatus:!0};return(zn<Date.now()-6e4||!Ln.getState().loaded)&&De(),new wt((function(t){var n=function(n){var r;n.loaded&&(e.includeAuthStatus?t.next(n.session):t.next(null===(r=n.session)||void 0===r?void 0:r.user))};return n(Ln.getState()),Ln.subscribe(n)}))},Te=function(){return(zn<Date.now()-6e4||!Ln.getState().loaded)&&De(),Ln},Me=function(e){var t,n,r,o=null!==(r=null==e||null===(t=e.user)||void 0===t||null===(n=t.userProperties)||void 0===n?void 0:n.defaultLocale)&&void 0!==r?r:e.locale,i=document.documentElement.getAttribute("lang");(function(e){if(void 0===e||"string"!=typeof e)return!1;try{new Intl.Locale(e)}catch(e){return!1}return!0})(o)&&o!==i&&document.documentElement.setAttribute("lang",o)},De=function(e,t){zn=Date.now();var n={};return e&&t&&(n.Authorization="Basic ".concat(window.btoa("".concat(e,":").concat(t)))),Ke(we(Mn,{headers:n}))},Ie=function(){Ln.setState({loaded:!0,session:{authenticated:!1,sessionId:""}})},Re=function(e,t){return void 0===t?Boolean(e):!Boolean(e)||function(e,t){return"string"==typeof e?!Bn(t.privileges.find((function(t){return e===t.display}))):Array.isArray(e)?e.every((function(e){return!Bn(t.privileges.find((function(t){return e===t.display})))})):(Bn(e)||console.error('Could not understand privileges "'.concat(e,'"')),!0)}(e,t)||function(e){return!Bn(e.roles.find((function(e){return"System Developer"===e.display})))}(t)},Ne=function(){var e,t;return new Promise((function(n){var r=function(r){r.loaded&&r.session.user&&(e=r.session.user,n(r.session.user),t&&t())};r(Ln.getState()),e||(t=Ln.subscribe(r))}))},Be=function(){return new Promise((function(e,t){Ce().subscribe((function(t){e(t.sessionLocation)}),t).unsubscribe()}))},Le=function(e,t){return Kn.apply(this,arguments)},ze=function(e,t,n){return Un.apply(this,arguments)},Ke=function(e){return new Promise((function(t,n){e.then((function(e){var r;"object"==typeof(null==e?void 0:e.data)?(r={loaded:!0,session:e.data},Ln.setState(r),t(r)):(r={loaded:!1,session:null},Ln.setState(r),n(r))})).catch((function(e){(0,Nn.reportError)("Failed to fetch new session information: ".concat(e));var t={loaded:!1,session:null};Ln.setState(t),n(t)}))}))},Ue=function(){(0,Bt.defineConfigSchema)("@openmrs/esm-api",{redirectAuthFailure:{enabled:{_type:Bt.Type.Boolean,_default:!0,_description:"Whether to redirect logged-out users to `redirectAuthFailure.url`"},url:{_type:Bt.Type.String,_default:"${openmrsSpaBase}/login",_validators:[Bt.validators.isUrl]},errors:{_type:Bt.Type.Array,_default:[401],_elements:{_type:Bt.Type.Number,_validators:[Bt.validators.inRange(100,600)]},_description:"The HTTP error codes for which users will be redirected"},resolvePromise:{_type:Bt.Type.Boolean,_default:!1,_description:"Changes how requests that fail authentication are handled. Try messing with this if redirects to the login page aren't working correctly."}}}),De()},Ve=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Fe=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},He=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fe(i,r,o,a,s,"next",e)}function s(e){Fe(i,r,o,a,s,"throw",e)}a(void 0)}))}},qe=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},We=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ge=function(e,t){return Fn.apply(this,arguments)},$e=function(e){return Hn.apply(this,arguments)},Qe=function(e){return function(t){return 0===e?Jn:t.lift(new Zn(e))}},Ye=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new tr(e,t))}},Xe=function(){return(0,zt.getGlobalStore)("visit",or)},Je=function(e,t){Xe().setState({patientUuid:e,manuallySetVisitUuid:t})},Ze=function(e,t,n){var r=null!=n?n:rr;return _e("".concat(Cn,"/visit?patient=").concat(e,"&v=").concat(r),{signal:t.signal,method:"GET",headers:{"Content-type":"application/json"}}).pipe(Qe(1)).pipe(Ye((function(e){return e})))},et=function(e,t){return _e("".concat(Cn,"/visit"),{signal:t.signal,method:"POST",headers:{"Content-type":"application/json"},body:e})},tt=function(e,t,n){return _e("".concat(Cn,"/visit/").concat(e),{signal:n.signal,method:"POST",headers:{"Content-type":"application/json"},body:t})},nt=function(e){return{uuid:e.uuid,display:e.display,name:e.name}},rt=function(){return _e("".concat(Cn,"/visittype")).pipe(Ye((function(e){return e.data.results.map(nt)}))).pipe(Qe(1))},ot=function(e){return{uuid:e.uuid,display:e.display}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _e("".concat(Cn,"/location")+(e?"?tag="+e:"")).pipe(Ye((function(e){return e.data.results.map(ot)}))).pipe(Qe(1))};f.r(h),f.d(h,{OpenmrsFetchError:function(){return Dn},VisitMode:function(){return ir},VisitStatus:function(){return ar},attachmentUrl:function(){return In},backendDependencies:function(){return ur},clearCurrentUser:function(){return Ie},createAttachment:function(){return xe},defaultVisitCustomRepresentation:function(){return rr},deleteAttachmentPermanently:function(){return ke},fetchCurrentPatient:function(){return Ge},fhirBaseUrl:function(){return Tn},getAttachmentByUuid:function(){return Oe},getAttachments:function(){return Ee},getCurrentUser:function(){return Ce},getLocations:function(){return it},getLoggedInUser:function(){return Ne},getSessionLocation:function(){return Be},getSessionStore:function(){return Te},getStartedVisit:function(){return sr},getVisitStore:function(){return Xe},getVisitTypes:function(){return rt},getVisitsForPatient:function(){return Ze},makeUrl:function(){return be},openmrsFetch:function(){return we},openmrsObservableFetch:function(){return _e},refetchCurrentUser:function(){return De},restBaseUrl:function(){return Cn},saveVisit:function(){return et},sessionEndpoint:function(){return Mn},setCurrentVisit:function(){return Je},setSessionLocation:function(){return Le},setUserLanguage:function(){return Me},setUserProperties:function(){return ze},setupApiModule:function(){return Ue},toLocationObject:function(){return ot},toVisitTypeObject:function(){return nt},updateVisit:function(){return tt},userHasAccess:function(){return Re}});var at,st,ut=function(e,t){return ut=Object.setPrototypeOf||i({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ut(e,t)},ct=!1,lt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,ct=e},get useDeprecatedSynchronousErrorHandling(){return ct}},ft={closed:!0,next:function(e){},error:function(e){if(lt.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete:function(){}},ht=Array.isArray||function(e){return e&&"number"==typeof e.length},dt=function(){var e=function(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this};return e.prototype=Object.create(Error.prototype),e}(),pt=dt,vt=function(){var e=function(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)};return e.prototype.unsubscribe=function(){var n;if(!this.closed){var r=this,o=r._parentOrParents,a=r._ctorUnsubscribe,s=r._unsubscribe,l=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i(o,e))o.remove(this);else if(null!==o)for(var f=0;f<o.length;++f)o[f].remove(this);if(t(s)){a&&(this._unsubscribe=void 0);try{s.call(this)}catch(e){n=i(e,pt)?c(e.errors):[e]}}if(ht(l)){f=-1;for(var h=l.length;++f<h;){var d=l[f];if(u(d))try{d.unsubscribe()}catch(e){n=n||[],i(e,pt)?n=n.concat(c(e.errors)):n.push(e)}}}if(n)throw new pt(n)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(void 0===t?"undefined":a(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!i(n,e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(i(o,e)){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),yt="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),mt=function(t){function n(e,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=ft;break;case 1:if(!e){a.destination=ft;break}if("object"==typeof e){i(e,n)?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(a)):(a.syncErrorThrowable=!0,a.destination=new gt(a,e));break}default:a.syncErrorThrowable=!0,a.destination=new gt(a,e,r,o)}return a}return e(n,t),n.prototype[yt]=function(){return this},n.create=function(e,t,r){var o=new n(e,t,r);return o.syncErrorThrowable=!1,o},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},n}(vt),gt=function(n){var r=function(e,r,o,i){var a,s=n.call(this)||this;s._parentSubscriber=e;var u=s;return t(r)?a=r:r&&(a=r.next,o=r.error,i=r.complete,r!==ft&&(t((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=a,s._error=o,s._complete=i,s};return e(r,n),r.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;lt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},r.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=lt.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}},r.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};lt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),lt.useDeprecatedSynchronousErrorHandling)throw e;s(e)}},r.prototype.__tryOrSetError=function(e,t,n){if(!lt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return lt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(s(t),!0)}return!1},r.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},r}(mt),bt="function"==typeof Symbol&&Symbol.observable||"@@observable",wt=function(){var e=function(e){this._isScalar=!1,e&&(this._subscribe=e)};return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(i(e,mt))return e;if(e[yt])return e[yt]()}return e||t||n?new mt(e,t,n):new mt(ft)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||lt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),lt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){lt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&i(r,mt)?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[bt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0===(n=e).length?l:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}(),_t="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,St="object"==typeof self&&self&&self.Object===Object&&self,Ot=(_t||St||Function("return this")()).Symbol,Et=Object.prototype,xt=Et.hasOwnProperty,kt=Et.toString,Pt=Ot?Ot.toStringTag:void 0,At=Object.prototype.toString,jt=Ot?Ot.toStringTag:void 0,Ct=(at=Object.getPrototypeOf,st=Object,function(e){return at(st(e))}),Tt=Function.prototype,Mt=Object.prototype,Dt=Tt.toString,It=Mt.hasOwnProperty,Rt=Dt.call(Object),Nt=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jt&&jt in Object(e)?function(e){var t=xt.call(e,Pt),n=e[Pt];try{e[Pt]=void 0;var r=!0}catch(e){}var o=kt.call(e);return r&&(t?e[Pt]=n:delete e[Pt]),o}(e):function(e){return At.call(e)}(e)}(e))return!1;var t=Ct(e);if(null===t)return!0;var n=It.call(t,"constructor")&&t.constructor;return"function"==typeof n&&i(n,n)&&Dt.call(n)==Rt},Bt=f(824),Lt=f(513),zt=f(385);(0,zt.createGlobalStore)("breadcrumbs",[]);var Kt,Ut=Object.freeze({__proto__:null,get start(){return de},get ensureJQuerySupport(){return Q},get setBootstrapMaxTime(){return N},get setMountMaxTime(){return B},get setUnmountMaxTime(){return L},get setUnloadMaxTime(){return z},get registerApplication(){return oe},get unregisterApplication(){return ae},get getMountedApps(){return te},get getAppStatus(){return re},get unloadApplication(){return se},get checkActivityFunctions(){return ie},get getAppNames(){return ne},get pathToActiveWhen(){return le},get navigateToUrl(){return F},get patchHistoryApi(){return G},get triggerAppChange(){return fe},get addErrorHandler(){return v},get removeErrorHandler(){return y},get mountRootParcel(){return M},get NOT_LOADED(){return qt},get LOADING_SOURCE_CODE(){return Wt},get NOT_BOOTSTRAPPED(){return Gt},get BOOTSTRAPPING(){return $t},get NOT_MOUNTED(){return Qt},get MOUNTING(){return Yt},get UPDATING(){return Jt},get LOAD_ERROR(){return tn},get MOUNTED(){return Xt},get UNLOADING(){return en},get UNMOUNTING(){return Zt},get SKIP_BECAUSE_BROKEN(){return nn}}),Vt=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,Ft=function(){try{var e=new Vt("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?Vt:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},Ht=[],qt="NOT_LOADED",Wt="LOADING_SOURCE_CODE",Gt="NOT_BOOTSTRAPPED",$t="BOOTSTRAPPING",Qt="NOT_MOUNTED",Yt="MOUNTING",Xt="MOUNTED",Jt="UPDATING",Zt="UNMOUNTING",en="UNLOADING",tn="LOAD_ERROR",nn="SKIP_BECAUSE_BROKEN",rn=[],on=!1,an=!1,sn=0,un={parcels:{}},cn={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}},ln="undefined"!=typeof window,fn={hashchange:[],popstate:[]},hn=["hashchange","popstate"],dn=null,pn=!1;ln&&(window.singleSpaNavigate?console.warn(m(41,!1)):window.singleSpaNavigate=F);var vn=!1,yn={},mn=[],gn=!1,bn=!1,wn=[],_n=ln&&window.location.href;function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bn)return new Promise((function(e,n){wn.push({resolve:e,reject:n,eventArguments:t})}));var r,i=function(){var e=[],t=[],n=[],r=[],o=(new Date).getTime();return mn.forEach((function(i){var a=i.status!==nn&&w(i);switch(i.status){case tn:a&&o-i.loadErrorTime>=200&&n.push(i);break;case qt:case Wt:a&&n.push(i);break;case Gt:case Qt:!a&&ee(_(i))?e.push(i):a&&r.push(i);break;case Xt:a||t.push(i)}})),{appsToUnload:e,appsToUnmount:t,appsToLoad:n,appsToMount:r}}(),a=i.appsToUnload,s=i.appsToUnmount,u=i.appsToLoad,c=i.appsToMount,l=[],f=_n,h=_n=window.location.href;return pe()?(bn=!0,r=a.concat(u,s,c),Promise.resolve().then((function(){return g(0===r.length?"before-no-app-change":"before-app-change",y(!0)),g("before-routing-event",y(!0,{cancelNavigation:d})),Promise.all(l).then((function(n){if(n.some((function(e){return e})))return dn.call(window.history,history.state,"",f.substring(location.origin.length)),_n=location.href,bn=!1,Sn(e,t,!0);var r=a.map(X),o=s.map(C).map((function(e){return e.then(X)})).concat(r),i=Promise.all(o);i.then((function(){g("before-mount-routing-event",y(!0))}),(function(e){throw e}));var l=u.map((function(e){return V(e).then((function(e){return he(e,i)}))})),h=c.filter((function(e){return u.indexOf(e)<0})).map((function(e){return he(e,i)}));return i.catch((function(e){throw v(),e})).then((function(){return v(),Promise.all(l.concat(h)).catch((function(t){throw e.forEach((function(e){return e.reject(t)})),t})).then(p).then((function(){}),(function(e){throw e}))}))}))}))):(r=u,Promise.resolve().then((function(){var e=u.map(V);return Promise.all(e).then(v).then((function(){return[]})).catch((function(e){throw v(),e})).finally((function(){}))})));function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="function"==typeof(null==e?void 0:e.then)?e:Promise.resolve(e);l.push(t.catch((function(e){return console.warn(Error(m(42,!1))),console.warn(e),!1})))}function p(){var t=te();e.forEach((function(e){return e.resolve(t)}));try{g(0===r.length?"no-app-change":"app-change",y()),g("routing-event",y())}catch(e){setTimeout((function(){throw e}))}if(bn=!1,wn.length>0){var n=wn;wn=[],Sn(n)}return t}function v(){n||(e.forEach((function(e){H(e.eventArguments)})),H(t))}function y(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,l={},d=(o(e={},Xt,[]),o(e,Qt,[]),o(e,qt,[]),o(e,nn,[]),e);n?(u.concat(c).forEach((function(e,t){v(e,Xt)})),a.forEach((function(e){v(e,qt)})),s.forEach((function(e){v(e,Qt)}))):r.forEach((function(e){v(e)}));var p={detail:{newAppStatuses:l,appsByNewStatus:d,totalAppChanges:r.length,originalEvent:null==t?void 0:t[0],oldUrl:f,newUrl:h}};return i&&E(p.detail,i),p;function v(e,t){var n=_(e);t=t||re(n),l[n]=t,(d[t]=d[t]||[]).push(n)}}function g(e,t){n||window.dispatchEvent(new Ft("single-spa:".concat(e),t))}}var On=!1,En={getRawAppData:function(){return function(e){if(Array.isArray(e))return r(e)}(e=mn)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e},reroute:Sn,NOT_LOADED:qt,toLoadPromise:V,toBootstrapPromise:j,unregisterApplication:ae,getProfilerData:function(){return rn}};ln&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=En);var xn="openmrs:history";function kn(e,t,n){return kn=ge()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&An(o,n.prototype),o},kn.apply(null,arguments)}function Pn(e){return Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pn(e)}function An(e,t){return An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},An(e,t)}function jn(e){var t="function"==typeof Map?new Map:void 0;return jn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return kn(e,arguments,Pn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),An(r,e)},jn(e)}var Cn="/ws/rest/v1",Tn="/ws/fhir2/R4",Mn="".concat(Cn,"/session"),Dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(o,e);var t,n,r=(t=o,n=ge(),function(){var e,r=Pn(t);if(n){var o=Pn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":a(n))&&"function"!=typeof t?ve(e):t;var n}(this,e)});function o(e,t,n,a){var s;return function(e,t){if(!i(e,t))throw new TypeError("Cannot call a class as a function")}(this,o),me(ve(s=r.call(this)),"response",void 0),me(ve(s),"responseBody",void 0),s.message="Server responded with ".concat(t.status," (").concat(t.statusText,") for url ").concat(e,". Check err.responseBody or network tab in dev tools for more info"),a.message=s.message,s.responseBody=n,s.response=t,s.stack="Stacktrace for outgoing request:\n".concat(a.stack,"\nStacktrace for incoming response:\n").concat(s.stack),s}return o}(jn(Error)),In="".concat(Cn,"/attachment");function Rn(){var e;return e=function(e,t){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){return(n=new FormData).append("fileCaption",t.fileDescription),n.append("patient",e),t.file?n.append("file",t.file):(n.append("file",new File([""],t.fileName),t.fileName),n.append("base64Content",t.base64Content)),[2,we("".concat(In),{method:"POST",body:n})]}))},Rn=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Se(i,r,o,a,s,"next",e)}function s(e){Se(i,r,o,a,s,"throw",e)}a(void 0)}))},Rn.apply(this,arguments)}var Nn=f(254),Bn=function(e){return void 0===e},Ln=(0,zt.createGlobalStore)("session",{loaded:!1,session:null}),zn=0;function Kn(){return(Kn=Ae((function(e,t){return je(this,(function(n){return[2,Ke(we(Mn,{method:"POST",body:{sessionLocation:e},headers:{"Content-Type":"application/json"},signal:t.signal}))]}))}))).apply(this,arguments)}function Un(){return(Un=Ae((function(e,t,n){return je(this,(function(r){switch(r.label){case 0:return n||(n=new AbortController),[4,we("".concat(Cn,"/user/").concat(e),{method:"POST",body:{userProperties:t},headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return r.sent(),[2,De()]}}))}))).apply(this,arguments)}Ln.subscribe((function(e){return e.session&&Me(e.session)}));var Vn=f(738);function Fn(){return Fn=He((function(e,t){var n,r,o,i,a,s=arguments;return We(this,(function(u){switch(u.label){case 0:return n=!(s.length>2&&void 0!==s[2])||s[2],e?(r=null,[4,Promise.all([we("".concat(Tn,"/Patient/").concat(e),t).catch((function(e){return r=e})),n?$e(e):Promise.resolve(null)])]):[3,2];case 1:if(o=qe.apply(void 0,[u.sent(),2]),i=o[0],a=o[1],i.ok)return[2,i.data];if(a)return[2,a];if(r)throw r;u.label=2;case 2:return[2,null]}}))})),Fn.apply(this,arguments)}function Hn(){return(Hn=He((function(e){var t,n,r;return We(this,(function(o){switch(o.label){case 0:return[4,(0,Vn.getSynchronizationItems)("patient-registration")];case 1:return t=o.sent(),n=t.find((function(t){return t.fhirPatient.id===e})),[2,null!==(r=null==n?void 0:n.fhirPatient)&&void 0!==r?r:null]}}))}))).apply(this,arguments)}var qn=function(){var e=function(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this};return e.prototype=Object.create(Error.prototype),e}(),Wn=function(t){var n=function(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r};return e(n,t),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},n}(vt),Gn=function(t){var n=function(e){var n=t.call(this,e)||this;return n.destination=e,n};return e(n,t),n}(mt),$n=function(t){var n=function(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e};return e(n,t),n.prototype[yt]=function(){return new Gn(this)},n.prototype.lift=function(e){var t=new Qn(this,this);return t.operator=e,t},n.prototype.next=function(e){if(this.closed)throw new qn;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},n.prototype.error=function(e){if(this.closed)throw new qn;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new qn;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(e){if(this.closed)throw new qn;return t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(e){if(this.closed)throw new qn;return this.hasError?(e.error(this.thrownError),vt.EMPTY):this.isStopped?(e.complete(),vt.EMPTY):(this.observers.push(e),new Wn(this,e))},n.prototype.asObservable=function(){var e=new wt;return e.source=this,e},n.create=function(e,t){return new Qn(e,t)},n}(wt),Qn=function(t){var n=function(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r};return e(n,t),n.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},n.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},n.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},n.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):vt.EMPTY},n}($n),Yn=function(t){var n=function(e){var n=t.call(this)||this;return n._value=e,n};return e(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qn;return this._value},n.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},n}($n),Xn=function(){var e=function(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this};return e.prototype=Object.create(Error.prototype),e}(),Jn=new wt((function(e){return e.complete()})),Zn=function(){var e=function(e){if(this.total=e,this.total<0)throw new Xn};return e.prototype.call=function(e,t){return t.subscribe(new er(e,this.total))},e}(),er=function(t){var n=function(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r};return e(n,t),n.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},n}(mt),tr=function(){var e=function(e,t){this.project=e,this.thisArg=t};return e.prototype.call=function(e,t){return t.subscribe(new nr(e,this.project,this.thisArg))},e}(),nr=function(t){var n=function(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o};return e(n,t),n.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},n}(mt),rr="custom:(uuid,display,voided,indication,startDatetime,stopDatetime,encounters:(uuid,display,encounterDatetime,form:(uuid,name),location:ref,encounterType:ref,encounterProviders:(uuid,display,provider:(uuid,display))),patient:(uuid,display),visitType:(uuid,name,display),attributes:(uuid,display,attributeType:(name,datatypeClassname,uuid),value),location:(uuid,name,display))",or=function(){try{return JSON.parse(localStorage.getItem("openmrs:visitStoreState")||"null")}catch(e){return null}}()||{patientUuid:null,manuallySetVisitUuid:null};Xe().subscribe((function(e){var t;t=e,localStorage.setItem("openmrs:visitStoreState",JSON.stringify(t))}));var ir,ar,sr=new Yn(null);!function(e){e.NEWVISIT="startVisit",e.EDITVISIT="editVisit",e.LOADING="loadingVisit"}(ir||(ir={})),function(e){e.NOTSTARTED="notStarted",e.ONGOING="ongoing"}(ar||(ar={}));var ur={"webservices.rest":"2.24.0",fhir2:"1.0.0-SNAPSHOT"}}(),h}())}}}))},714:()=>{function e(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}System.register(["@openmrs/esm-state","@openmrs/esm-utils"],(function(t,n){var r={},o={};return{setters:[function(e){r.createGlobalStore=e.createGlobalStore,r.getGlobalStore=e.getGlobalStore},function(e){o.shallowEqual=e.shallowEqual}],execute:function(){t(function(){"use strict";var t={685:function(e){e.exports=r},618:function(e){e.exports=o}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){var t=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]},n=function(e){return function n(r){return 0===arguments.length||t(r)?n:e.apply(this,arguments)}},r=function(e){return function r(o,i){switch(arguments.length){case 0:return r;case 1:return t(o)?r:n((function(t){return e(o,t)}));default:return t(o)&&t(i)?r:t(o)?n((function(t){return e(t,i)})):t(i)?n((function(t){return e(o,t)})):e(o,i)}}},o=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},s=function(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1},u=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},c=function(e,t,n,r){var i=o(e);function a(e,t){return fe(e,t,n.slice(),r.slice())}return!s((function(e,t){return!s(a,t,e)}),o(t),i)},l=function(e){return function o(i,a,s){switch(arguments.length){case 0:return o;case 1:return t(i)?o:r((function(t,n){return e(i,t,n)}));case 2:return t(i)&&t(a)?o:t(i)?r((function(t,n){return e(t,a,n)})):t(a)?r((function(t,n){return e(i,t,n)})):n((function(t){return e(i,a,t)}));default:return t(i)&&t(a)&&t(s)?o:t(i)&&t(a)?r((function(t,n){return e(t,n,s)})):t(i)&&t(s)?r((function(t,n){return e(t,a,n)})):t(a)&&t(s)?r((function(t,n){return e(i,t,n)})):t(i)?n((function(t){return e(t,a,s)})):t(a)?n((function(t){return e(i,t,s)})):t(s)?n((function(t){return e(i,a,t)})):e(i,a,s)}}},f=function(e){return"[object Object]"===Object.prototype.toString.call(e)},h=function(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)},d=function(e,t,n,r){return e["@@transducer/result"](n[r](Ee(e["@@transducer/step"],e),t))},p=function(e,t){return function(n){if(!e(n))return"function"==typeof t?t(n):t}},v=function(e){return(0,De.getGlobalStore)("config-module-".concat(e),{config:null,loaded:!1,translationOverridesLoaded:!1})},y=function(){return(0,De.getGlobalStore)("config-extension-slots",{slots:{}})},m=function(e){return g(y().getState(),e)},g=function(e,t){var n=e.slots[t];return null!=n?n:{loaded:!1,config:{}}},b=function(){return(0,De.getGlobalStore)("config-extensions",{configs:{}})},w=function(e,t){if("string"!=typeof e||"string"!=typeof t||"__proto__"===e||"__proto__"===t||"constructor"===e||"constructor"===t||"prototype"===e||"prototype"===t)throw new Error("Attempted to call `getExtensionConfig()` with invalid argument");var n=b(),r=function(n){var r;return null===(r=n.configs[e])||void 0===r?void 0:r[t]};return{getInitialState:function(){return r(n.getInitialState())},getState:function(){var e;return null!==(e=r(n.getState()))&&void 0!==e?e:{loaded:!1,config:null}},setState:function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.setState((function(n){n.configs[e]||(n.configs[e]={});var i="function"==typeof r?r(n.configs.slotName[t]):r;return n.configs[e][t]=o?Object.assign({},i):Object.assign({},n.configs[e][t],i),n}))},subscribe:function(e){return n.subscribe((function(t,n){var o=r(t),i=r(n);(0,Ie.shallowEqual)(o,i)||e(o,i)}))},destroy:function(){}}},_=function(e,t,n){var r,o=null===(r=e.configs[t])||void 0===r?void 0:r[n];return null!=o?o:{loaded:!1,config:null}},S=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},O=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e},x=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e},k=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},P=function(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},A=function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}},j=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=v(s);if(e.moduleLoaded[s]){var c=H(s,e,t);u.setState({translationOverridesLoaded:!0,loaded:!0,config:c})}else{var l=q(s,e,t);u.setState({translationOverridesLoaded:!0,loaded:!1,config:l})}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},C=function(e,t){var n,r,o=(n=G(F(e,t)),function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=k(o.value,2),s=a[0],u=a[1],c=!0,l=!1,f=void 0;try{for(var h,d=Object.entries(u)[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=k(h.value,2),v=p[0];V(p[1],s,v)}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(e,t){var r,o;return(null===(r=n[t])||void 0===r?void 0:r.extensionSlots)&&(e[t]=null===(o=n[t])||void 0===o?void 0:o.extensionSlots),e}),{})),Object.keys(r).reduce((function(e,t){return E({},e,r[t])}),{})),i=Object.fromEntries(Object.entries(o).map((function(e){var t=k(e,2);return[t[0],{loaded:!0,config:t[1]}]}))),a=y(),s=a.getState(),u={slots:E({},s.slots,i)};he(s,u)||a.setState(u)},T=function(e,t){var n=function(e,t){var n=ze(be(e.schemas)),r=P(e.providedConfigs.map((function(e){return[e.config,e.source]}))).concat([[t.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=k(s.value,2);n=G([n,Ke(c[0],c[1])])}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t);Le.setState({config:n})},M=function(e,t,n){var r={},o=!0,i=!1,a=void 0;try{for(var s,u=t.mountedExtensions[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=U(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,e,n);r[c.slotName]=x(E({},r[c.slotName]),O({},c.extensionId,{config:l,loaded:!0}))}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}b().setState({configs:r})},D=function(e,t){Ue(e,t);var n=ve(t,Ge);Re.setState((function(t){return x(E({},t),{schemas:x(E({},t.schemas),O({},e,n)),moduleLoaded:x(E({},t.moduleLoaded),O({},e,!0))})}))},I=function(e){var t=Re.getState();Re.setState({schemas:x(E({},t.schemas),O({},e,Ge))})},R=function(e){var t=Re.getState();Re.setState({schemas:x(E({},t.schemas),O({},e,We))})},N=function(e,t){Ue(e,t);var n=ve(t,Ge),r=Re.getState();r.schemas[e]&&console.error("Config schema for extension ".concat(e," already exists. If there are multiple extensions with this same name, one will probably crash.")),Re.setState({schemas:x(E({},r.schemas),O({},e,n))})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"provided";Re.setState((function(n){return x(E({},n),{providedConfigs:P(n.providedConfigs).concat([{source:t,config:e}])})}))},L=function(e){return new Promise((function(t){var n=function(e){if(e.loaded&&e.config){var n=ye(["Display conditions","Translation overrides"],e.config);t(n),o&&o()}},r=v(e);n(r.getState());var o=r.subscribe(n)}))},z=function(e,t,n){var r=[new Promise((function(t){var n=function(e){if(e.translationOverridesLoaded&&e.config){var n,r=null!==(n=e.config["Translation overrides"])&&void 0!==n?n:{};t(r),o&&o()}},r=v(e);n(r.getState());var o=r.subscribe(n)}))];return t&&n&&r.push(new Promise((function(e){var r=function(t){if(t.loaded&&t.config){var n,r=null!==(n=t.config["Translation overrides"])&&void 0!==n?n:{};e(r),i&&i()}},o=w(t,n);r(o.getState());var i=o.subscribe(r)}))),Promise.all(r)},K=function(e,t,n){$(e,t,n);var r=He(e,t);return Fe(e,r,n),r},U=function(e,t,n,r,o,i){var a,s,u,c,l=function(e){return k(e.split("#"),1)[0]}(r),f=o.schemas[l],h=f?l:t,d=F(o,i),p=W(e,d),v=null!==(c=null==p||null===(a=p.extensionSlots)||void 0===a||null===(s=a[n])||void 0===s||null===(u=s.configure)||void 0===u?void 0:u[r])&&void 0!==c?c:{},y=G([W(h,d),v]),m=null!=f?f:o.schemas[t];$(m,y,h);var g=He(m,y);return Fe(m,g,h),delete g.extensionSlots,g},V=function(e,t,n){var r="".concat(t,".extensionSlots.").concat(n),o="Extension slot config '".concat(r,"'"),i=Object.keys(e).filter((function(e){return!["add","remove","order","configure"].includes(e)}));i.length&&Z(r,o+"' contains invalid keys '".concat(i.join("', '"),"'")),e.add&&(Array.isArray(e.add)&&e.add.every((function(e){return"string"==typeof e}))||Z(r,o+".add' is invalid. Must be an array of strings (extension IDs)")),e.remove&&(Array.isArray(e.remove)&&e.remove.every((function(e){return"string"==typeof e}))||Z(r,o+".remove' is invalid. Must be an array of strings (extension IDs)")),e.order&&(Array.isArray(e.order)&&e.order.every((function(e){return"string"==typeof e}))||Z(r,o+".order' is invalid. Must be an array of strings (extension IDs)")),e.configure&&(J(e.configure)||Z(r,o+".configure' is invalid. Must be an object with extension IDs for keys"))},F=function(e,t){return P(e.providedConfigs.map((function(e){return e.config}))).concat([t.config])},H=function(e,t,n){var r=t.schemas[e],o=W(e,F(t,n));$(r,o,e);var i=He(r,o);return Fe(r,i,e),delete i.extensionSlots,i},q=function(e,t,n){var r=W(e,F(t,n)),o=He(Ge,r);return Fe(Ge,o,e),delete o.extensionSlots,o},W=function(e,t){return G(t.map((function(t){return t[e]})).filter((function(e){return!!e})))},G=function(e){return ke(ve)({},e)},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t[u],l=n+"."+u,f=e[u];e.hasOwnProperty(u)?Ve(f,c,l):"extensionSlots"===u&&""!==n||Z(l,"Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}},Q=function(e,t,n){return!t||Y(e,[{Array:Pe,Boolean:Ae,ConceptUuid:Me,Number:je,Object:Te,String:Ce,UUID:Me,PersonAttributeTypeUuid:Me,PatientIdentifierTypeUuid:Me}[t]],n)},Y=function(e,t,n){var r=!0;if(t)try{var o=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=(0,s.value)(n);"string"==typeof c&&(Z(e,"object"==typeof n?"Invalid configuration for ".concat(e,": ").concat(c):"Invalid configuration value ".concat(n," for ").concat(e,": ").concat(c)),r=!1)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}catch(t){console.error('Skipping invalid validator at "'.concat(e,'". Encountered error\n\t').concat(t))}return r},X=function(e){return!!e&&Object.keys(e).filter((function(e){return!["_default","_validators"].includes(e)})).length>0},J=function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e},Z=function(e,t){var n="".concat(e,":::").concat(t);qe.has(n)||(console.error(t),qe.add(n))},ee=function(e){e?qe.forEach((function(t){t.startsWith(e)&&qe.delete(t)})):qe.clear()};i.r(a),i.d(a,{Type:function(){return ge},clearConfigErrors:function(){return ee},configExtensionStore:function(){return Be},configInternalStore:function(){return Re},defineConfigSchema:function(){return D},defineExtensionConfigSchema:function(){return N},getConfig:function(){return L},getConfigStore:function(){return v},getExtensionConfig:function(){return w},getExtensionConfigFromStore:function(){return _},getExtensionSlotConfig:function(){return m},getExtensionSlotConfigFromStore:function(){return g},getExtensionSlotsConfigStore:function(){return y},getExtensionsConfigStore:function(){return b},getTranslationOverrides:function(){return z},implementerToolsConfigStore:function(){return Le},inRange:function(){return $e},isUrl:function(){return Ye},isUrlWithTemplateParameters:function(){return Qe},oneOf:function(){return Xe},processConfig:function(){return K},provide:function(){return B},registerModuleWithConfigSystem:function(){return I},registerTranslationNamespace:function(){return R},temporaryConfigStore:function(){return Ne},validator:function(){return p},validators:function(){return Je}});var te="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},ne=Object.prototype.toString,re=function(){return"[object Arguments]"===ne.call(arguments)?function(e){return"[object Arguments]"===ne.call(e)}:function(e){return u("callee",e)}}(),oe=re,ie=!{toString:null}.propertyIsEnumerable("toString"),ae=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],se=function(){return arguments.propertyIsEnumerable("length")}(),ue=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},ce="function"!=typeof Object.keys||se?n((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=se&&oe(e);for(t in e)!u(t,e)||o&&"length"===t||(r[r.length]=t);if(ie)for(n=ae.length-1;n>=0;)u(t=ae[n],e)&&!ue(r,t)&&(r[r.length]=t),n-=1;return r})):n((function(e){return Object(e)!==e?[]:Object.keys(e)})),le=n((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function fe(t,n,r,o){if(te(t,n))return!0;var i,a,s=le(t);if(s!==le(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(i=t.constructor,null==(a=String(i).match(/^function (\w*)/))?"":a[1]))return t===n;break;case"Boolean":case"Number":case"String":if((void 0===t?"undefined":e(t))!=(void 0===n?"undefined":e(n))||!te(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!te(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var l=r.length-1;l>=0;){if(r[l]===t)return o[l]===n;l-=1}switch(s){case"Map":return t.size===n.size&&c(t.entries(),n.entries(),r.concat([t]),o.concat([n]));case"Set":return t.size===n.size&&c(t.values(),n.values(),r.concat([t]),o.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=ce(t);if(f.length!==ce(n).length)return!1;var h=r.concat([t]),d=o.concat([n]);for(l=f.length-1;l>=0;){var p=f[l];if(!u(p,n)||!fe(n[p],t[p],h,d))return!1;l-=1}return!0}var he=r((function(e,t){return fe(e,t,[],[])})),de=l((function(e,t,n){var r,o={};for(r in t)u(r,t)&&(o[r]=u(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)u(r,n)&&!u(r,o)&&(o[r]=n[r]);return o})),pe=l((function e(t,n,r){return de((function(n,r,o){return f(r)&&f(o)?e(t,r,o):t(n,r,o)}),n,r)})),ve=r((function(e,t){return pe((function(e,t,n){return n}),e,t)})),ye=r((function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}));function me(e,t,n,r){var o,i=function(o){for(var i=t.length,a=0;a<i;){if(e===t[a])return n[a];a+=1}for(var s in t[a+1]=e,n[a+1]=o,e)o[s]=r?me(e[s],t,n,!0):e[s];return o};switch(le(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return o=e,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return e}}var ge,be=n((function(e){return null!=e&&"function"==typeof e.clone?e.clone():me(e,[],[],!0)})),we=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},_e=n((function(e){return!!we(e)||!!e&&"object"==typeof e&&!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),Se=function(){var e=function(e){this.f=e};return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}(),Oe=r((function(e,t){return function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,s,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,s,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(e.length,(function(){return e.apply(t,arguments)}))})),Ee=Oe,xe="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",ke=l((function(e,t,n){if("function"==typeof e&&(e=function(e){return new Se(e)}(e)),_e(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return d(e,t,n,"fantasy-land/reduce");if(null!=n[xe])return h(e,t,n[xe]());if("function"==typeof n.next)return h(e,t,n);if("function"==typeof n.reduce)return d(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}));!function(e){e.Array="Array",e.Boolean="Boolean",e.ConceptUuid="ConceptUuid",e.Number="Number",e.Object="Object",e.String="String",e.UUID="UUID",e.PersonAttributeTypeUuid="PersonAttributeTypeUuid",e.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid"}(ge||(ge={}));var Pe=p((function(e){return Array.isArray(e)}),"must be an array"),Ae=p((function(e){return"boolean"==typeof e}),"must be a boolean"),je=p((function(e){return"number"==typeof e}),"must be a number"),Ce=p((function(e){return"string"==typeof e}),"must be a string"),Te=p((function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}),"must be an object (not an array or null)"),Me=p((function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^[0-9a-f]{36}$/i.test(e)}),"must be a valid UUID or a 36-character hexadecimal string"),De=i(685),Ie=i(618),Re=(0,De.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{},moduleLoaded:{}}),Ne=(0,De.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(e){return{}}}()});Ne.subscribe((function(e){var t;t=e.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(t))}));var Be=(0,De.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]}),Le=(0,De.createGlobalStore)("config-implementer-tools",{config:{}});function ze(e){return e.hasOwnProperty("_default")?x(E({},e),{_value:e._default,_source:"default"}):J(e)?Object.keys(e).reduce((function(t,n){return t[n]=ze(e[n]),t}),{}):{}}function Ke(e,t){return J(e)?Object.keys(e).reduce((function(n,r){return n[r]=Ke(e[r],t),n}),{}):{_value:e,_source:t}}function Ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="Please verify that you are running the latest version and, if so, alert the maintainer.",o=!0,i=!1,a=void 0;try{for(var s,u=function(){var o=s.value,i=n+(n&&".")+o,a=t[o];if("Display conditions"===i&&console.error("".concat(e,' declares a configuration option called "Display conditions"; the "Display conditions" option is a reserved name. ').concat(r)),"Translation overrides"===i&&console.error("".concat(e,' declares a configuration option called "Translation overrides"; the "Translation overrides" option is a reserved name. ').concat(r)),!J(a))return console.error("".concat(e," has bad config schema definition for key '").concat(i,"'. ").concat(r)),"continue";a.hasOwnProperty("_default")||Ue(e,a,i);var u=a._elements;if(X(u)&&Ue(e,u,i+"._elements"),a._validators){var c=!0,l=!1,f=void 0;try{for(var h,d=a._validators[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;"function"!=typeof p&&console.error("".concat(e," has invalid validator for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: validators must be functions that return either "+"undefined or an error string. Received ".concat(p,"."))}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}var v=a._type;v&&!Object.values(ge).includes(v)&&console.error("".concat(e," has invalid type for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: the allowed types are ".concat(Object.values(ge).join(", "),". ")+"Received '".concat(v,"'")),Object.keys(a).every((function(e){return["_description","_validators","_elements","_type"].includes(e)}))&&!n.includes("._elements")&&console.error("".concat(e," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: all config elements must have a default. "+"Received ".concat(JSON.stringify(a))),u&&v&&![ge.Array,ge.Object].includes(v)&&console.error("".concat(e," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: the 'elements' key only works with '_type' equal to 'Array' or 'Object'. "+"Received ".concat(JSON.stringify(v)))},c=Object.keys(t).filter((function(e){return!e.startsWith("_")}))[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)u()}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}function Ve(e,t,n){Q(n,e._type,t),J(t)?e._type===ge.Object?function(e,t,n){if(e._elements){var r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t[u];$(e._elements,c,"".concat(n,".").concat(u))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}(e,t,n):e.hasOwnProperty("_default")||e.hasOwnProperty("_type")||$(e,t,n):e._type===ge.Array&&function(e,t,n){if(Q(n,ge.Array,t)){if(X(e._elements))for(var r=0;r<t.length;r++)Ve(e._elements,t[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<t.length;o++){var i;Q("".concat(n,"[").concat(o,"]"),null===(i=e._elements)||void 0===i?void 0:i._type,t[o])}}}(e,t,n)}function Fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e)if(t!==e._default&&Y(n,e._validators,t),J(t)){var r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t[u],l=n+"."+u,f=e[u];e._type===ge.Object&&e._elements?Fe(e._elements,c,l):Fe(f,c,l)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}else if(Array.isArray(t)&&e._elements)for(var h=0;h<t.length;h++)Fe(e._elements,t[h],"".concat(n,"[").concat(h,"]"))}j(Re.getState(),Ne.getState()),Re.subscribe((function(e){return j(e,Ne.getState())})),Ne.subscribe((function(e){return j(Re.getState(),e)})),T(Re.getState(),Ne.getState()),Re.subscribe((function(e){return T(e,Ne.getState())})),Ne.subscribe((function(e){return T(Re.getState(),e)})),C(Re.getState(),Ne.getState()),Re.subscribe((function(e){return C(e,Ne.getState())})),Ne.subscribe((function(e){return C(Re.getState(),e)})),M(Re.getState(),Be.getState(),Ne.getState()),Re.subscribe((function(e){M(e,Be.getState(),Ne.getState())})),Be.subscribe((function(e){M(Re.getState(),e,Ne.getState())})),Ne.subscribe((function(e){M(Re.getState(),Be.getState(),e)}));var He=function(e,t){var n=be(t);if(!e)return n;var r=!0,o=!1,i=void 0;try{for(var a,s=function(){var t=a.value,r=n[t],o=e[t];if(o&&(o.hasOwnProperty("_type")||o.hasOwnProperty("_default"))){n.hasOwnProperty(t)||(n[t]=o._default);var i=o._elements;if(r&&X(i))if(o._type===ge.Array&&Array.isArray(r)){var s=r.map((function(e){return He(i,e)}));n[t]=s}else if(o._type===ge.Object){var u=!0,c=!1,l=void 0;try{for(var f,h=Object.keys(r)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;r[d]=He(i,r[d])}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}}else if(J(o)){var p=null!=r?r:{};J(p)&&(n[t]=He(o,p))}},u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)s()}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n},qe=new Set,We={"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:ge.Object,_default:{},_validators:[p((function(e){return Object.keys(e).every((function(e){return/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(e)}))}),(function(e){var t=Object.keys(e).filter((function(e){return!/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(e)}));return"The 'Translation overrides' object should have language codes for keys. Language codes must be in the form of a two-to-three letter language code optionally followed by a hyphen and a two-to-three letter country code. The following keys do not conform: ".concat(t.join(", "),".")}))]}},Ge=E({"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:ge.Array,_default:[]}}},We),$e=function(e,t){return p((function(n){return e<=n&&n<=t}),"must be between ".concat(e," and ").concat(t))},Qe=function(e){var t=e.concat(["openmrsBase","openmrsSpaBase"]);return p((function(e){if(!e||"string"!=typeof e)return!1;for(var n=/\${(.*?)}/g,r=n.exec(e);r;){if(!t.includes(r[1]))return!1;r=n.exec(e)}return!0}),"Should be a URL or path. The allowed template parameters are "+t.map((function(e){return"${"+e+"}"})).join(", "))},Ye=Qe([]),Xe=function(e){return p((function(t){return e.includes(t)}),"Must be one of the following: '".concat(e.join("', '"),"'."))},Je={inRange:$e,isUrl:Ye,isUrlWithTemplateParameters:Qe,oneOf:Xe}}(),a}())}}}))},863:()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}System.register([],(function(e,n){return{execute:function(){e(function(){"use strict";var e=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},n=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},a=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,u,"next",e)}function u(e){n(a,o,i,s,u,"throw",e)}s(void 0)}))}},s=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},u=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):(n=e,null!=(r=t)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](n):n instanceof r);var n,r},c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e},l=function(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){return g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_)},d=function(e){return K.apply(this,arguments)},p=function(e){return g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S)},v=function(e){return b(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S)},y=function(e){return g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O)},m=function(e){return g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!("string"==typeof e||"object"==typeof e&&e&&"type"in e))throw"Unknown expression type ".concat(e,". Expressions must either be a string or pre-compiled string.");null==t&&(t={});var r=function(e){return E(e,G)}(t),o=V("string"==typeof e?T(e):e,r);if(n(o))return o;throw{type:"Invalid result",message:"string"==typeof e?"The expression ".concat(e," did not produce a valid result"):"The expression did not produce a valid result"}},b=function(e){return U.apply(this,arguments)},w=function(e){return T(e)},_=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null==e||u(e,Date)},S=function(e){return"boolean"==typeof e},O=function(e){return"number"==typeof e},E=function(e,t){var n={thisObj:void 0,variables:c({},e),globals:c({},t),addVariables:function(e){return this.variables=c({},this.variables,e),this}};return n.addVariables.bind(n),n},x=function(e){return function(t){return null===t?null:V(t,e)}},k=function(e){if("__proto__"===e||"prototype"===e||"constructor"===e)throw{type:"Illegal property access",message:"Cannot access the ".concat(e," property of objects")}},P={d:function(e,t){for(var n in t)P.o(t,n)&&!P.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},A={};P.r(A),P.d(A,{compile:function(){return w},evaluate:function(){return h},evaluateAsBoolean:function(){return p},evaluateAsBooleanAsync:function(){return v},evaluateAsNumber:function(){return y},evaluateAsNumberAsync:function(){return m},evaluateAsType:function(){return g},evaluateAsTypeAsync:function(){return b},evaluateAsync:function(){return d}});var j=function(){function e(n){t(this,e),this.expr=n,this.index=0}return r(e,[{key:"char",get:function(){return this.expr.charAt(this.index)}},{key:"code",get:function(){return this.expr.charCodeAt(this.index)}},{key:"throwError",value:function(e){var t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}},{key:"runHook",value:function(t,n){if(e.hooks[t]){var r={context:this,node:n};return e.hooks.run(t,r),r.node}return n}},{key:"searchHook",value:function(t){if(e.hooks[t]){var n={context:this};return e.hooks[t].find((function(e){return e.call(n.context,n),n.node})),n.node}}},{key:"gobbleSpaces",value:function(){for(var t=this.code;t===e.SPACE_CODE||t===e.TAB_CODE||t===e.LF_CODE||t===e.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}},{key:"parse",value:function(){this.runHook("before-all");var t=this.gobbleExpressions(),n=1===t.length?t[0]:{type:e.COMPOUND,body:t};return this.runHook("after-all",n)}},{key:"gobbleExpressions",value:function(t){for(var n,r,o=[];this.index<this.expr.length;)if((n=this.code)===e.SEMCOL_CODE||n===e.COMMA_CODE)this.index++;else if(r=this.gobbleExpression())o.push(r);else if(this.index<this.expr.length){if(n===t)break;this.throwError('Unexpected "'+this.char+'"')}return o}},{key:"gobbleExpression",value:function(){var e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}},{key:"gobbleBinaryOp",value:function(){this.gobbleSpaces();for(var t=this.expr.substr(this.index,e.max_binop_len),n=t.length;n>0;){if(e.binary_ops.hasOwnProperty(t)&&(!e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=n,t;t=t.substr(0,--n)}return!1}},{key:"gobbleBinaryExpression",value:function(){var t,n,r,o,i,a,s,u,c;if(!(a=this.gobbleToken()))return a;if(!(n=this.gobbleBinaryOp()))return a;for(i={value:n,prec:e.binaryPrecedence(n),right_a:e.right_associative.has(n)},(s=this.gobbleToken())||this.throwError("Expected expression after "+n),o=[a,i,s];n=this.gobbleBinaryOp();){if(0===(r=e.binaryPrecedence(n))){this.index-=n.length;break}i={value:n,prec:r,right_a:e.right_associative.has(n)},c=n;for(var l=function(e){return i.right_a&&e.right_a?r>e.prec:r<=e.prec};o.length>2&&l(o[o.length-2]);)s=o.pop(),n=o.pop().value,a=o.pop(),t={type:e.BINARY_EXP,operator:n,left:a,right:s},o.push(t);(t=this.gobbleToken())||this.throwError("Expected expression after "+c),o.push(i,t)}for(t=o[u=o.length-1];u>1;)t={type:e.BINARY_EXP,operator:o[u-1].value,left:o[u-2],right:t},u-=2;return t}},{key:"gobbleToken",value:function(){var t,n,r,o;if(this.gobbleSpaces(),o=this.searchHook("gobble-token"))return this.runHook("after-token",o);if(t=this.code,e.isDecimalDigit(t)||t===e.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===e.SQUOTE_CODE||t===e.DQUOTE_CODE)o=this.gobbleStringLiteral();else if(t===e.OBRACK_CODE)o=this.gobbleArray();else{for(r=(n=this.expr.substr(this.index,e.max_unop_len)).length;r>0;){if(e.unary_ops.hasOwnProperty(n)&&(!e.isIdentifierStart(this.code)||this.index+n.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+n.length)))){this.index+=r;var i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:e.UNARY_EXP,operator:n,argument:i,prefix:!0})}n=n.substr(0,--r)}e.isIdentifierStart(t)?(o=this.gobbleIdentifier(),e.literals.hasOwnProperty(o.name)?o={type:e.LITERAL,value:e.literals[o.name],raw:o.name}:o.name===e.this_str&&(o={type:e.THIS_EXP})):t===e.OPAREN_CODE&&(o=this.gobbleGroup())}return o?(o=this.gobbleTokenProperty(o),this.runHook("after-token",o)):this.runHook("after-token",!1)}},{key:"gobbleTokenProperty",value:function(t){this.gobbleSpaces();for(var n=this.code;n===e.PERIOD_CODE||n===e.OBRACK_CODE||n===e.OPAREN_CODE||n===e.QUMARK_CODE;){var r=void 0;if(n===e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==e.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),n=this.code}this.index++,n===e.OBRACK_CODE?((t={type:e.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()}).property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),(n=this.code)!==e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):n===e.OPAREN_CODE?t={type:e.CALL_EXP,arguments:this.gobbleArguments(e.CPAREN_CODE),callee:t}:(n===e.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),t={type:e.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),r&&(t.optional=!0),this.gobbleSpaces(),n=this.code}return t}},{key:"gobbleNumericLiteral",value:function(){for(var t,n,r="";e.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);if(this.code===e.PERIOD_CODE)for(r+=this.expr.charAt(this.index++);e.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);if("e"===(t=this.char)||"E"===t){for(r+=this.expr.charAt(this.index++),"+"!==(t=this.char)&&"-"!==t||(r+=this.expr.charAt(this.index++));e.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+r+this.char+")")}return n=this.code,e.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+r+this.char+")"):(n===e.PERIOD_CODE||1===r.length&&r.charCodeAt(0)===e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:e.LITERAL,value:parseFloat(r),raw:r}}},{key:"gobbleStringLiteral",value:function(){for(var t="",n=this.index,r=this.expr.charAt(this.index++),o=!1;this.index<this.expr.length;){var i=this.expr.charAt(this.index++);if(i===r){o=!0;break}if("\\"===i)switch(i=this.expr.charAt(this.index++),i){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=i}else t+=i}return o||this.throwError('Unclosed quote after "'+t+'"'),{type:e.LITERAL,value:t,raw:this.expr.substring(n,this.index)}}},{key:"gobbleIdentifier",value:function(){var t=this.code,n=this.index;for(e.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,e.isIdentifierPart(t));)this.index++;return{type:e.IDENTIFIER,name:this.expr.slice(n,this.index)}}},{key:"gobbleArguments",value:function(t){for(var n=[],r=!1,o=0;this.index<this.expr.length;){this.gobbleSpaces();var i=this.code;if(i===t){r=!0,this.index++,t===e.CPAREN_CODE&&o&&o>=n.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}if(i===e.COMMA_CODE){if(this.index++,++o!==n.length)if(t===e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===e.CBRACK_CODE)for(var a=n.length;a<o;a++)n.push(null)}else if(n.length!==o&&0!==o)this.throwError("Expected comma");else{var s=this.gobbleExpression();s&&s.type!==e.COMPOUND||this.throwError("Expected comma"),n.push(s)}}return r||this.throwError("Expected "+String.fromCharCode(t)),n}},{key:"gobbleGroup",value:function(){this.index++;var t=this.gobbleExpressions(e.CPAREN_CODE);if(this.code===e.CPAREN_CODE)return this.index++,1===t.length?t[0]:!!t.length&&{type:e.SEQUENCE_EXP,expressions:t};this.throwError("Unclosed (")}},{key:"gobbleArray",value:function(){return this.index++,{type:e.ARRAY_EXP,elements:this.gobbleArguments(e.CBRACK_CODE)}}}],[{key:"version",get:function(){return"1.3.9"}},{key:"toString",value:function(){return"JavaScript Expression Parser (JSEP) v"+e.version}},{key:"addUnaryOp",value:function(t){return e.max_unop_len=Math.max(t.length,e.max_unop_len),e.unary_ops[t]=1,e}},{key:"addBinaryOp",value:function(t,n,r){return e.max_binop_len=Math.max(t.length,e.max_binop_len),e.binary_ops[t]=n,r?e.right_associative.add(t):e.right_associative.delete(t),e}},{key:"addIdentifierChar",value:function(t){return e.additional_identifier_chars.add(t),e}},{key:"addLiteral",value:function(t,n){return e.literals[t]=n,e}},{key:"removeUnaryOp",value:function(t){return delete e.unary_ops[t],t.length===e.max_unop_len&&(e.max_unop_len=e.getMaxKeyLen(e.unary_ops)),e}},{key:"removeAllUnaryOps",value:function(){return e.unary_ops={},e.max_unop_len=0,e}},{key:"removeIdentifierChar",value:function(t){return e.additional_identifier_chars.delete(t),e}},{key:"removeBinaryOp",value:function(t){return delete e.binary_ops[t],t.length===e.max_binop_len&&(e.max_binop_len=e.getMaxKeyLen(e.binary_ops)),e.right_associative.delete(t),e}},{key:"removeAllBinaryOps",value:function(){return e.binary_ops={},e.max_binop_len=0,e}},{key:"removeLiteral",value:function(t){return delete e.literals[t],e}},{key:"removeAllLiterals",value:function(){return e.literals={},e}},{key:"parse",value:function(t){return new e(t).parse()}},{key:"getMaxKeyLen",value:function(e){var t;return(t=Math).max.apply(t,[0].concat(o(Object.keys(e).map((function(e){return e.length})))))}},{key:"isDecimalDigit",value:function(e){return e>=48&&e<=57}},{key:"binaryPrecedence",value:function(t){return e.binary_ops[t]||0}},{key:"isIdentifierStart",value:function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!e.binary_ops[String.fromCharCode(t)]||e.additional_identifier_chars.has(String.fromCharCode(t))}},{key:"isIdentifierPart",value:function(t){return e.isIdentifierStart(t)||e.isDecimalDigit(t)}}]),e}(),C=new(function(){function e(){t(this,e)}return r(e,[{key:"add",value:function(e,t,n){if("string"!=typeof arguments[0])for(var r in arguments[0])this.add(r,arguments[0][r],arguments[1]);else(Array.isArray(e)?e:[e]).forEach((function(e){this[e]=this[e]||[],t&&this[e][n?"unshift":"push"](t)}),this)}},{key:"run",value:function(e,t){this[e]=this[e]||[],this[e].forEach((function(e){e.call(t&&t.context?t.context:t,t)}))}}]),e}());Object.assign(j,{hooks:C,plugins:new(function(){function e(n){t(this,e),this.jsep=n,this.registered={}}return r(e,[{key:"register",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this;t.forEach((function(e){if("object"!=typeof e||!e.name||!e.init)throw new Error("Invalid JSEP plugin format");r.registered[e.name]||(e.init(r.jsep),r.registered[e.name]=e)}))}}]),e}())(j),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),j.max_unop_len=j.getMaxKeyLen(j.unary_ops),j.max_binop_len=j.getMaxKeyLen(j.binary_ops);var T=function(e){return new j(e).parse()},M=Object.getOwnPropertyNames((function e(){t(this,e)}));Object.getOwnPropertyNames(j).filter((function(e){return!M.includes(e)&&void 0===T[e]})).forEach((function(e){T[e]=j[e]})),T.Jsep=j,T.plugins.register({name:"ternary",init:function(e){e.hooks.add("after-expression",(function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;var n=t.node,r=this.gobbleExpression();if(r||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;var o=this.gobbleExpression();if(o||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:n,consequent:r,alternate:o},n.operator&&e.binary_ops[n.operator]<=.9){for(var i=n;i.right.operator&&e.binary_ops[i.right.operator]<=.9;)i=i.right;t.node.test=i.right,i.right=t.node,t.node=n}}else this.throwError("Expected :")}}))}});var D="ArrowFunctionExpression",I={name:"arrow",init:function(e){function t(n){n&&(Object.values(n).forEach((function(e){e&&"object"==typeof e&&t(e)})),"=>"===n.operator&&(n.type=D,n.params=n.left?[n.left]:null,n.body=n.right,n.params&&n.params[0].type===e.SEQUENCE_EXP&&(n.params=n.params[0].expressions),delete n.left,delete n.right,delete n.operator))}e.addBinaryOp("=>",.1,!0),e.hooks.add("gobble-expression",(function(t){if(this.gobbleSpaces(),this.code===e.OPAREN_CODE){var n=this.index;if(this.index++,this.gobbleSpaces(),this.code===e.CPAREN_CODE){this.index++;var r=this.gobbleBinaryOp();if("=>"===r){var o=this.gobbleBinaryExpression();return o||this.throwError("Expected expression after "+r),void(t.node={type:D,params:null,body:o})}}this.index=n}})),e.hooks.add("after-expression",(function(e){t(e.node)}))}},R={name:"numbers",init:function(e){var t=function(e){return"x"===e||"X"===e?(this.index+=2,[[48,57],[65,70],[97,102]]):"b"===e||"B"===e?(this.index+=2,[[48,49]]):"o"===e||"O"===e||e>="0"&&e<="7"?(this.index+=e<="7"?1:2,[[48,55]]):null},n=function(e){return"x"===e||"X"===e?16:"b"===e||"B"===e?2:8},r=function(e,t){return 95===e||t.some((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0],o=n[1];return e>=r&&e<=o}))},o=function(t){var n=this,r=this.index,o="",i=function(){for(;e.isDecimalDigit(n.code)||95===n.code;)95===n.code?n.index++:o+=n.expr.charAt(n.index++)};i(),this.code===e.PERIOD_CODE&&(o+=this.expr.charAt(this.index++),i());var a=this.char;"e"!==a&&"E"!==a||(o+=this.expr.charAt(this.index++),"+"!==(a=this.char)&&"-"!==a||(o+=this.expr.charAt(this.index++)),i(),e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+o+this.char+")"));var s=this.code;if(e.isIdentifierStart(s))this.throwError("Variable names cannot start with a number ("+o+this.char+")");else if(s===e.PERIOD_CODE)return o.length>1&&this.throwError("Unexpected period ".concat(JSON.stringify({chCode:s,number:o},null,2))),void(this.index=r);t.node={type:e.LITERAL,value:parseFloat(o),raw:this.expr.substring(r,this.index)}};e.hooks.add("gobble-token",(function(i){if(48===this.code){var a=this.index,s=this.expr.charAt(this.index+1),u=t.call(this,s);if(!u)return;for(var c="";r(this.code,u);)95===this.code?this.index++:c+=this.expr.charAt(this.index++);if(e.isIdentifierPart(this.code)){if(e.isDecimalDigit(this.code)&&e.isDecimalDigit(s.charCodeAt(0)))return this.index=a+1,void o.call(this,i);this.throwError("unexpected char within number")}i.node={type:e.LITERAL,value:parseInt(c,n(s)),raw:this.expr.substring(a,this.index)}}else(e.isDecimalDigit(this.code)||this.code===e.PERIOD_CODE)&&o.call(this,i)}))}},N={name:"regex",init:function(e){e.hooks.add("gobble-token",(function(t){if(47===this.code){for(var n=++this.index,r=!1;this.index<this.expr.length;){if(47===this.code&&!r){for(var o=this.expr.slice(n,this.index),i=void 0,a="";++this.index<this.expr.length;){var s=this.code;if(!(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57))break;a+=this.char}try{i=new RegExp(o,a)}catch(e){this.throwError(e.message)}return t.node={type:e.LITERAL,value:i,raw:this.expr.slice(n-1,this.index)},t.node=this.gobbleTokenProperty(t.node),t.node}this.code===e.OBRACK_CODE?r=!0:r&&this.code===e.CBRACK_CODE&&(r=!1),this.index+=92===this.code?2:1}this.throwError("Unclosed Regex")}}))}},B={name:"jsepTemplateLiteral",init:function(e){var t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(96===this.code){for(var n={type:"TemplateLiteral",quasis:[],expressions:[]},r="",i="",a=!1,s=this.expr.length,u=function(){return n.quasis.push({type:"TemplateElement",value:{raw:i,cooked:r},tail:a})};this.index<s;){var c,l=this.expr.charAt(++this.index);if("`"===l)return this.index+=1,a=!0,u(),e.node=n,t&&(e.node=this.gobbleTokenProperty(e.node)),e.node;if("$"===l&&"{"===this.expr.charAt(this.index+1))this.index+=2,u(),i="",r="",(c=n.expressions).push.apply(c,o(this.gobbleExpressions(125))),125!==this.code&&this.throwError("unclosed ${");else if("\\"===l)switch(i+=l,l=this.expr.charAt(++this.index),i+=l,l){case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:r+=l}else r+=l,i+=l}this.throwError("Unclosed `")}};e.hooks.add("gobble-token",t),e.hooks.add("after-token",(function(n){if((n.node.type===e.IDENTIFIER||n.node.type===e.MEMBER_EXP)&&96===this.code)return n.node={type:"TaggedTemplateExpression",tag:n.node,quasi:t.bind(this)(n,!1)},n.node=this.gobbleTokenProperty(n.node),n.node}))}};function L(e,t,n){return L=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&z(o,n.prototype),o},L.apply(null,arguments)}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function K(){return K=a((function(e){var t=arguments;return f(this,(function(n){return[2,b(e,t.length>1&&void 0!==t[1]?t[1]:{},_)]}))})),K.apply(this,arguments)}function U(){return U=a((function(e){var t,n,r,o=arguments;return f(this,(function(i){return t=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2?o[2]:void 0,"string"==typeof e||"object"==typeof e&&e&&"type"in e?(null==t&&(t={}),r=function(e){return E(e,$)}(t),[2,Promise.resolve(V("string"==typeof e?T(e):e,r)).then((function(t){if(n(t))return t;throw{type:"Invalid result",message:"string"==typeof e?"The expression ".concat(e," did not produce a valid result"):"The expression did not produce a valid result"}}))]):[2,Promise.reject("Unknown expression type ".concat(e,". Expressions must either be a string or pre-compiled string."))]}))})),U.apply(this,arguments)}function V(e,t){switch(e.type){case"UnaryExpression":return function(e,t){var n=V(e.argument,t);switch(e.operator){case"+":return+n;case"-":return-n;case"~":return~n;case"!":return!n;default:throw"Expression evaluator does not support operator '".concat(e.operator,"''")}}(e,t);case"BinaryExpression":return function(e,t){var n=V(e.left,t),r=V(e.right,t);switch(e.operator){case"+":return n+r;case"-":return n-r;case"*":return n*r;case"/":return n/r;case"%":return n%r;case"**":return Math.pow(n,r);case"==":return n==r;case"===":return n===r;case"!=":return n!=r;case"!==":return n!==r;case">":return n>r;case">=":return n>=r;case"<":return n<r;case"<=":return n<=r;case"in":return n in r;case"&&":return n&&r;case"||":return n||r;case"??":return null!=n?n:r;default:throw"Expression evaluator does not support operator '".concat(e.operator,"' operator")}}(e,t);case"ConditionalExpression":return function(e,t){var n=V(e.test,t);return V(n?e.consequent:e.alternate,t)}(e,t);case"CallExpression":return function(e,t){var n,r=null===(n=e.arguments)||void 0===n?void 0:n.map(x(t)),o=V(e.callee,t);if(!o)throw"No function named ".concat(e.callee," is defined in this context");if(!u(o,Function))throw"".concat(e.callee," is not a function");return o.apply(void 0,l(r))}(e,t);case"ArrowFunctionExpression":return function(e,t){var n,r,o,i=null!==(r=null===(n=e.params)||void 0===n?void 0:n.map((function(e){if("Identifier"===e.type)return e.name;throw"Cannot handle parameter of type ".concat(e.type)})))&&void 0!==r?r:[];return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length<i.length)throw"Required argument(s) ".concat(i.slice(r.length,-1).join(", ")," were not provided");var a=Object.fromEntries(i.reduce((function(e,t,n){var o=r[n];return H(o)&&e.push([t,o]),e}),[]));return V(e.body,t.addVariables(a))}.bind(null!==(o=t.thisObj)&&void 0!==o?o:null)}(e,t);case"MemberExpression":return function(e,t){var n=V(e.object,t);if(void 0===n)switch(e.object.type){case"Identifier":var r=F(e.object,t);throw ReferenceError("ReferenceError: ".concat(r," is not defined"));case"MemberExpression":var o=F(e.property,t);throw TypeError("TypeError: cannot read properties of undefined (reading '".concat(o,"')"));default:throw"VisitMemberExpression does not support operator '".concat(e.object.type,"' type")}var i,a=n;if("string"==typeof n)a=String.prototype;else if("number"==typeof n)a=Number.prototype;else if("function"==typeof n);else if("object"!=typeof n)throw"VisitMemberExpression does not support member access on type ".concat(void 0===n?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t;var t}(n));switch(t.thisObj=a,e.property.type){case"Identifier":case"MemberExpression":i=V(e.property,t);break;default:var s=V(e.property,t);if(void 0===s)throw{type:"Illegal property access",message:"No property was supplied to the property access"};k(s),i=n[s]}return"function"==typeof i?i.bind(n):i}(e,t);case"ArrayExpression":return function(e,t){var n;return null===(n=e.elements)||void 0===n?void 0:n.map(x(t))}(e,t);case"SequenceExpression":return function(e,t){var n=e.expressions.map(x(t));return n[n.length-1]}(e,t);case"NewExpression":return function(e,t){if(!e.callee||"Identifier"!==e.callee.type)throw e.callee?"new must be called with either Date or RegExp":'Could not handle "new" without a specified class';var n,r=null===(n=e.arguments)||void 0===n?void 0:n.map(x(t));switch(e.callee.name){case"Date":return L(Date,l(r));case"RegExp":return L(RegExp,l(r));default:throw"Cannot instantiate object of type ".concat(e.callee.name)}}(e,t);case"Literal":return function(e,t){return k(e.value),e.value}(e);case"Identifier":return function(e,t){k(e.name);var n=t.thisObj;if(n&&("object"==typeof n||"function"==typeof n)&&e.name in n){var r=n[e.name];return k(r),r}if(t.variables&&e.name in t.variables){var o=t.variables[e.name];return k(o),o}return e.name in t.globals?t.globals[e.name]:void 0}(e,t);case"TemplateLiteral":return function(e,t){var n,r,o,i,a=null!==(o=null===(n=e.expressions)||void 0===n?void 0:n.map(x(t)))&&void 0!==o?o:[],s=null!==(i=null===(r=e.quasis)||void 0===r?void 0:r.map(x(t)))&&void 0!==i?i:[];return s.filter((function(e){return!e.tail})).map((function(e){return e.value})).join("")+a.join("")+s.filter((function(e){return e.tail})).map((function(e){return e.value})).join("")}(e,t);case"TemplateElement":return function(e,t){return{value:e.cooked,tail:e.tail}}(e);default:throw"Expression evaluator does not support expression of type '".concat(e.type,"'")}}function F(e,t){switch(e.type){case"Literal":return e.value;case"Identifier":return e.name;case"MemberExpression":return F(e.property,t);default:throw"VisitExpressionName does not support expression of type '".concat(e.type,"'")}}function H(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||"function"==typeof e||null===e||u(e,RegExp))return!0;if("object"==typeof e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)if(!H(e[o.value]))return!1}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}if(Array.isArray(e)){var a=!0,s=!1,c=void 0;try{for(var l,f=e[Symbol.iterator]();!(a=(l=f.next()).done);a=!0)if(!H(l.value))return!1}catch(e){s=!0,c=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw c}}}return!1}T.plugins.register(I),T.plugins.register({name:"new",init:function(e){e.addUnaryOp("new"),e.hooks.add("after-token",(function(t){var n=t.node;if(n&&"new"===n.operator){n.argument&&[e.CALL_EXP,e.MEMBER_EXP].includes(n.argument.type)||this.throwError("Expected new function()"),t.node=n.argument;for(var r=t.node;r.type===e.MEMBER_EXP||r.type===e.CALL_EXP&&r.callee.type===e.MEMBER_EXP;)r=r.type===e.MEMBER_EXP?r.object:r.callee.object;r.type="NewExpression"}}))}}),T.plugins.register(R),T.plugins.register(N),T.plugins.register({name:"ternary",init:function(e){e.hooks.add("after-expression",(function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;var n=t.node,r=this.gobbleExpression();if(r||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;var o=this.gobbleExpression();if(o||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:n,consequent:r,alternate:o},n.operator&&e.binary_ops[n.operator]<=.9){for(var i=n;i.right.operator&&e.binary_ops[i.right.operator]<=.9;)i=i.right;t.node.test=i.right,i.right=t.node,t.node=n}}else this.throwError("Expected :")}}))}}),T.plugins.register(B),T.addBinaryOp("in",7),T.addBinaryOp("??",1);var q,W,G={Array,Boolean,Symbol,Infinity:1/0,NaN:NaN,Math,Number,BigInt,String,RegExp,JSON,isFinite,isNaN,parseFloat,parseInt,decodeURI,encodeURI,encodeURIComponent,Object:{__proto__:void 0,assign:Object.assign.bind(null),fromEntries:Object.fromEntries.bind(null),hasOwn:Object.hasOwn.bind(null),keys:Object.keys.bind(null),is:Object.is.bind(null),values:Object.values.bind(null)}},$=(q=c({},G),W=null!=(W={Promise})?W:{},Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(W)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(W)).forEach((function(e){Object.defineProperty(q,e,Object.getOwnPropertyDescriptor(W,e))})),q);return A}())}}}))},570:()=>{System.register(["@openmrs/esm-state"],(function(e,t){var n={};return{setters:[function(e){n.getGlobalStore=e.getGlobalStore}],execute:function(){e(function(){"use strict";var e={685:function(e){e.exports=n}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){var e=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},t=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(n){t(e,n,r[n])}))}return e},i=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e},a=function(e,r,o){var a;h.setState((function(s){var u;return{flags:i(n({},s.flags),t({},e,{enabled:null!==(a=null===(u=s.flags[e])||void 0===u?void 0:u.enabled)&&void 0!==a&&a,label:r,description:o}))}}))},s=function(e){return h.getState().flags[e].enabled},u=function(e,t){h.subscribe((function(n){t(n.flags[e].enabled)}))},c=function(e,r){h.setState((function(o){return{flags:i(n({},o.flags),t({},e,i(n({},o.flags[e]),{enabled:r})))}}))};r.r(o),r.d(o,{featureFlagsStore:function(){return h},getFeatureFlag:function(){return s},registerFeatureFlag:function(){return a},setFeatureFlag:function(){return c},subscribeToFeatureFlag:function(){return u}});var l=r(685),f={flags:function(){var e={},t=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(localStorage)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(s.startsWith("openmrs:feature-flag:")){var u=s.replace("openmrs:feature-flag:",""),c=JSON.parse(localStorage.getItem("openmrs:feature-flag-meta:".concat(u))||"{}");e[u]=n({enabled:"true"===localStorage.getItem(s)},c)}}}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}return e}()},h=(0,l.getGlobalStore)("feature-flags",f);h.subscribe((function(t){var n,r=!0,o=!1,i=void 0;try{for(var a,s=Object.entries(t.flags)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=function(e){if(Array.isArray(e))return e}(n=a.value)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],l=u[1];localStorage.setItem("openmrs:feature-flag:".concat(c),l.enabled.toString()),localStorage.setItem("openmrs:feature-flag-meta:".concat(c),JSON.stringify({label:l.label,description:l.description}))}}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}))}(),o}())}}}))},103:()=>{System.register([],(function(e,t){return{execute:function(){e(function(){"use strict";var e=function(e){window.dispatchEvent(new CustomEvent(v,{detail:{online:e}}))},t=function(e){if(!window.offlineEnabled)return function(){};var t=function(t){return e(t.detail)};return window.addEventListener(v,t),function(){return window.removeEventListener(v,t)}},n=function(e){return e({online:!window.offlineEnabled||navigator.onLine}),t(e)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(y,{detail:e}))},o=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(y,t),function(){return window.removeEventListener(y,t)}},i=function(e){window.dispatchEvent(new CustomEvent(m,{detail:e}))},a=function(e){window.dispatchEvent(new CustomEvent(g,{detail:e}))},s=function(e){window.dispatchEvent(new CustomEvent(w,{detail:e}))},u=function(e){window.dispatchEvent(new CustomEvent(b,{detail:e}))},c=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(m,t),function(){return window.removeEventListener(m,t)}},l=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(g,t),function(){return window.removeEventListener(g,t)}},f=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(b,t),function(){return window.removeEventListener(b,t)}},h=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(w,t),function(){return window.removeEventListener(w,t)}},d={d:function(e,t){for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},p={};d.r(p),d.d(p,{dispatchActionableNotificationShown:function(){return a},dispatchConnectivityChanged:function(){return e},dispatchNotificationShown:function(){return i},dispatchPrecacheStaticDependencies:function(){return r},dispatchSnackbarShown:function(){return s},dispatchToastShown:function(){return u},subscribeActionableNotificationShown:function(){return l},subscribeConnectivity:function(){return n},subscribeConnectivityChanged:function(){return t},subscribeNotificationShown:function(){return c},subscribePrecacheStaticDependencies:function(){return o},subscribeSnackbarShown:function(){return h},subscribeToastShown:function(){return f}});var v="openmrs:connectivity-changed",y="openmrs:precache-static-dependencies",m="openmrs:notification-shown",g="openmrs:actionable-notification-shown",b="openmrs:toast-shown",w="openmrs:snack-bar-shown";return p}())}}}))},593:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function p(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}System.register(["@openmrs/esm-api","@openmrs/esm-state"],(function(e,t){var r={},i={};return{setters:[function(e){r.getLoggedInUser=e.getLoggedInUser},function(e){i.createGlobalStore=e.createGlobalStore}],execute:function(){e(function(){"use strict";var e={766:function(e){e.exports=r},685:function(e){e.exports=i}},t={};function p(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,p),o.exports}p.d=function(e,t){for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var v={};return function(){var e=function(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])}))},t=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},r=function(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)},i=function(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href},y=function(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)},m=function(){},g=function(e,t){if(!t)return e&&e.then?e.then(m):Promise.resolve()},b=function(e,t){if(void 0!==Dn)return console.warn("The application's Service Worker has already been registered. The new service worker at ".concat(e," will not be registered.")),Dn;if(!("serviceWorker"in navigator))throw new Error("Registering the Service Worker is not possible due to missing browser capabilities.");var n=new Mn(e,t);return Dn=n.register().then((function(){return n.controlling.then((function(){return n}))}))},w=function(){return null!=Dn?Dn:Promise.resolve(void 0)},S=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},O=function(e){return Bn.apply(this,arguments)},E=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},x=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,s,"next",e)}function s(e){E(i,r,o,a,s,"throw",e)}a(void 0)}))}},k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},P=function(){return Ln.apply(this,arguments)},A=function(){return zn.apply(this,arguments)},j=function(){return Kn.apply(this,arguments)},C=function(){return Un.apply(this,arguments)},T=function(){return{current:Fn,notAvailable:"unavailable"===Fn,active:"on"===Fn}},M=function(e){"unavailable"!==Fn&&"unavailable"!==e&&(localStorage.setItem(Vn,"on"===e?"active":"disabled"),Fn=e)},D=function(){return Hn.apply(this,arguments)},I=function(e,t){return"object"!=typeof t||Wn(t).forEach((function(n){e[n]=t[n]})),e},R=function(e,t){return Qn.call(e,t)},N=function(e,t){"function"==typeof t&&(t=t($n(e))),("undefined"==typeof Reflect?Wn:Reflect.ownKeys)(t).forEach((function(n){B(e,n,t[n])}))},B=function(e,t,n,r){Yn(e,t,I(n&&R(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))},L=function(e){return{from:function(t){return e.prototype=Object.create(t.prototype),B(e.prototype,"constructor",e),{extend:N.bind(null,e.prototype)}}}},z=function(e,t,n){return Zn.call(e,t,n)},K=function(e,t){return t(e)},U=function(e){if(!e)throw new Error("Assertion Failed")},V=function(e){qn.setImmediate?setImmediate(e):setTimeout(e,0)},F=function(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})},H=function(e){var t={};for(var n in e)R(e,n)&&(t[n]=e[n]);return t},q=function(e){return nr.apply([],e)},W=function(e){ir="undefined"!=typeof WeakMap&&new WeakMap;var t=ar(e);return ir=null,t},G=function(e){return sr.call(e).slice(8,-1)},$=function(e){var t,n,r,o;if(1===arguments.length){if(Gn(e))return e.slice();if(this===lr&&"string"==typeof e)return[e];if(o=cr(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n},Q=function(e,t){hr=e,dr=t},Y=function(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(dr).map((function(e){return"\n"+e})).join("")):""},X=function(e,t){this._e=vr(),this.name=e,this.message=t},J=function(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")},Z=function(e,t,n,r){this._e=vr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=J(e,t)},ee=function(e,t){this._e=vr(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=J(e,t)},te=function(){},ne=function(e){return e},re=function(e,t){return null==e||e===ne?t:function(n){return t(e(n))}},oe=function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}},ie=function(e,t){return e===te?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?oe(r,this.onsuccess):r),o&&(this.onerror=this.onerror?oe(o,this.onerror):o),void 0!==i?i:n}},ae=function(e,t){return e===te?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?oe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?oe(r,this.onerror):r)}},se=function(e,t){return e===te?t:function(n){var r=e.apply(this,arguments);I(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?oe(o,this.onsuccess):o),i&&(this.onerror=this.onerror?oe(i,this.onerror):i),void 0===r?void 0===a?void 0:a:I(r,a)}},ue=function(e,t){return e===te?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}},ce=function(e,t){return e===te?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}},le=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=te,this._lib=!1;var t=this._PSD=Vr;if(hr&&(this._stackHolder=vr(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Er)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&he(this,this._value))}this._state=null,this._value=null,++t.ref,Gr(this,e)},fe=function(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o},he=function(e,t){if(Lr.push(t),null===e._state){var n=e._lib&&ge();t=Kr(t),e._state=!1,e._value=t,hr&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((function(){var n=Jn(t,"stack");t._promise=e,B(t,"stack",{get:function(){return Mr?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Br.some((function(t){return t._value===e._value}))||Br.push(e)}(e),de(e),n&&be()}},de=function(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)pe(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Hr&&(++Hr,Ir((function(){0==--Hr&&we()}),[]))},pe=function(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Hr,Ir(ve,[n,e,t])}else e._listeners.push(t)},ve=function(e,t,n){try{zr=t;var r,o=t._value;t._state?r=e(o):(Lr.length&&(Lr=[]),r=e(o),-1===Lr.indexOf(o)&&function(e){for(var t=Br.length;t;)if(Br[--t]._value===e._value)return void Br.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{zr=null,0==--Hr&&we(),--n.psd.ref||n.psd.finalize()}},ye=function(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)},me=function(){ge()&&be()},ge=function(){var e=Rr;return Rr=!1,Nr=!1,e},be=function(){var e,t,n;do{for(;Fr.length>0;)for(e=Fr,Fr=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Fr.length>0);Rr=!0,Nr=!0},we=function(){var e=Br;Br=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=qr.slice(0),n=t.length;n;)t[--n]()},_e=function(e){return new le(Er,!1,e)},Se=function(e,t){var n=Vr;return function(){var r=ge(),o=Vr;try{return je(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{je(o,!1),r&&be()}}},Oe=function(e,t,n,r){var o=Vr,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++eo;var a=Ur.env;i.env=Tr?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject,nthen:Ie(a.nthen,i),gthen:Ie(a.gthen,i)}:{},t&&I(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Te(i,e,n,r);return 0===i.ref&&i.finalize(),s},Ee=function(){return Qr.id||(Qr.id=++Yr),++Qr.awaits,Qr.echoes+=100,Qr.id},xe=function(){return!!Qr.awaits&&(0==--Qr.awaits&&(Qr.id=0),Qr.echoes=100*Qr.awaits,!0)},ke=function(e){return Qr.echoes&&e&&e.constructor===Cr?(Ee(),e.then((function(e){return xe(),e}),(function(e){return xe(),to(e)}))):e},Pe=function(e){++Zr,Qr.echoes&&0!=--Qr.echoes||(Qr.echoes=Qr.id=0),Xr.push(Vr),je(e,!0)},Ae=function(){var e=Xr[Xr.length-1];Xr.pop(),je(e,!1)},je=function(e,t){var n=Vr;if((t?!Qr.echoes||Jr++&&e===Vr:!Jr||--Jr&&e===Vr)||Me(t?Pe.bind(null,e):Ae),e!==Vr&&(Vr=e,n===Ur&&(Ur.env=Ce()),Tr)){var r=Ur.env.Promise,o=e.env;Pr.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(qn,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}},Ce=function(){var e=qn.Promise;return Tr?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(qn,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Pr.then,gthen:e.prototype.then}:{}},Te=function(e,t,n,r,o){var i=Vr;try{return je(e,!0),t(n,r,o)}finally{je(i,!1)}},Me=function(e){jr.call(kr,e)},De=function(e,t,n,r){return"function"!=typeof e?e:function(){var o=Vr;n&&Ee(),je(t,!0);try{return e.apply(this,arguments)}finally{je(o,!1),r&&Me(xe)}}},Ie=function(e,t){return function(n,r){return e.call(this,De(n,t),De(r,t))}},Re=function(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(qn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),I(r,o)):qn.CustomEvent&&I(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&qn.dispatchEvent&&(dispatchEvent(r),!qn.PromiseRejectionEvent&&qn.onunhandledrejection))try{qn.onunhandledrejection(r)}catch(e){}hr&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(e){}},Ne=function(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t},Be=function(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=W(t))[e],t}},Le=function(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return function(e){Wn(e).forEach((function(t){var n=e[t];if(Gn(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new _r.InvalidArgument("Invalid event config");var r=i(t,ne,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){V((function(){e.apply(null,t)}))}))}))}}))}(e);r||(r=ue),o||(o=te);var a={subscribers:[],fire:o,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,o)}};return t[e]=n[e]=a,a}},ze=function(e,t){return L(t).from({prototype:e}),t},Ke=function(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)},Ue=function(e,t){e.filter=Ne(e.filter,t)},Ve=function(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Ne(r(),t())}:t,e.justLimit=n&&!r},Fe=function(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new _r.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n},He=function(e,t,n){var r=Fe(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})},qe=function(e,t,n,r){var o=e.replayFilter?Ne(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),R(i,s)||(i[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),We(He(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return We(He(e,r,n),Ne(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)},We=function(e,t,n,r){var o=Se(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=te}),(function(t){e.fail(t),n=te}))||o(e.value,e,(function(e){return n=e})),n()}))}))},Ge=function(e){var t=void 0===e?"undefined":d(e);if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=G(e);return"ArrayBuffer"===n?"binary":n},$e=function(e){return u(e,Uint8Array)?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)},Qe=function(e,t){return e<t?-1:e===t?0:1},Ye=function(e,t){return e>t?-1:e===t?0:1},Xe=function(e,t,n){var r=u(e,yo)?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r},Je=function(e){return new e.Collection(e,(function(){return nt("")})).limit(0)},Ze=function(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var c=t[u];if(c!==r[u])return o(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[u],c)<0&&(s=u)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)},et=function(e,t,n,r){var o,i,a,s,u,c,l,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return Xe(e,"String expected.");function h(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Qe:Ye;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}h("next");var d=new e.Collection(e,(function(){return tt(s[0],u[f-1]+r)}));d._ondirectionchange=function(e){h(e)};var p=0;return d._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var h=i(o);if(t(h,u,p))return!0;for(var d=null,v=p;v<f;++v){var y=Ze(o,h,s[v],u[v],a,c);null===y&&null===d?p=v+1:(null===d||a(d,y)>0)&&(d=y)}return n(null!==d?function(){e.continue(d+l)}:r),!1})),d},tt=function(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}},nt=function(e){return{type:1,lower:e,upper:e}},rt=function(e){return Se((function(t){return ot(t),e(t.target.error),!1}))},ot=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},it=function(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+at(t)}},at=function(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""},st=function(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:F(n,(function(e){return[e.name,e]}))}},ut=function(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return er(t,e)}}(e):function(t){return er(t,e)}},ct=function(e){return[].slice.call(e)},lt=function(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")},ft=function(e,t){var n=e._novip,r=t.db,o=function(e,t,n,r){var o=n.IDBKeyRange,i=(n.indexedDB,function(e,t){return t.reduce((function(e,t){return c({},e,(0,t.create)(e))}),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}var o=function(e,t){var n=ct(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=Gn(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:ut(t)},indexes:ct(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,a={name:t,compound:Gn(o),keyPath:o,unique:n,multiEntry:r,extractKey:ut(o)};return i[lt(o)]=a,a})),getIndexByKeyPath:function(e){return i[lt(e)]}};return i[":id"]=a.primaryKey,null!=t&&(i[lt(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.schema,a=o.hasGetAll,s=i.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,o=e.type,i=e.keys,a=e.values,s=e.range;return new Promise((function(e,u){e=Se(e);var c=n.objectStore(t),l=null==c.keyPath,h="put"===o||"add"===o;if(!h&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var d,p=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var v=[],y=[],m=0,g=function(e){++m,ot(e)};if("deleteRange"===o){if(4===s.type)return e({numFailures:m,failures:y,results:[],lastResult:void 0});3===s.type?v.push(d=c.clear()):v.push(d=c.delete(r(s)))}else{var b=f(h?l?[a,i]:[a,null]:[i,null],2),w=b[0],_=b[1];if(h)for(var S=0;S<p;++S)v.push(d=_&&void 0!==_[S]?c[o](w[S],_[S]):c[o](w[S])),d.onerror=g;else for(var O=0;O<p;++O)v.push(d=c[o](w[O])),d.onerror=g}var E=function(t){var n=t.target.result;v.forEach((function(e,t){return null!=e.error&&(y[t]=e.error)})),e({numFailures:m,failures:y,results:"delete"===o?i:v.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){g(e),E(e)},d.onsuccess=E}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=Se(e);for(var i,a=n.objectStore(t),s=r.length,u=new Array(s),c=0,l=0,f=function(t){var n=t.target;u[n._pos]=n.result,++l===c&&e(u)},h=rt(o),d=0;d<s;++d)null!=r[d]&&((i=a.get(r[d]))._pos=d,i.onsuccess=f,i.onerror=h,++c);0===c&&e(u)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=Se(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=rt(o)}))},query:function(e){return function(n){return new Promise((function(o,i){o=Se(o);var a=n.trans,s=n.values,u=n.limit,c=n.query,l=u===1/0?void 0:u,f=c.index,h=c.range,d=a.objectStore(t),p=f.isPrimaryKey?d:d.index(f.name),v=r(h);if(0===u)return o({result:[]});if(e){var y=s?p.getAll(v,l):p.getAllKeys(v,l);y.onsuccess=function(e){return o({result:e.target.result})},y.onerror=rt(i)}else{var m=0,g=s||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),b=[];g.onsuccess=function(e){var t=g.result;return t?(b.push(s?t.value:t.primaryKey),++m===u?o({result:b}):void t.continue()):o({result:b})},g.onerror=rt(i)}}))}}(a),openCursor:function(e){var n=e.trans,o=e.values,i=e.query,a=e.reverse,s=e.unique;return new Promise((function(e,u){e=Se(e);var c=i.index,l=i.range,f=n.objectStore(t),h=c.isPrimaryKey?f:f.index(c.name),d=a?s?"prevunique":"prev":s?"nextunique":"next",p=o||!("openKeyCursor"in h)?h.openCursor(r(l),d):h.openKeyCursor(r(l),d);p.onerror=rt(u),p.onsuccess=Se((function(t){var r=p.result;if(r){r.___id=++wo,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),s=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Se(u),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Se(e),p.onerror=rt(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=s,e(t)}})),n=function(){if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=Se((function(e){p.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),t},e(r)}else e(null)}),u)}))},count:function(e){var n=e.query,o=e.trans,i=n.index,a=n.range;return new Promise((function(e,n){var s=o.objectStore(t),u=i.isPrimaryKey?s:s.index(i.name),c=r(a),l=c?u.count(c):u.count();l.onsuccess=Se((function(t){return e(t.target.result)})),l.onerror=rt(n)}))}}}(e)})),u={};return s.forEach((function(e){return u[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!u[e])throw new Error("Table '".concat(e,"' not found"));return u[e]},MIN_KEY:-1/0,MAX_KEY:bo(t),schema:i}}(t,o,r),e.dbcore));return{dbcore:i}}(n._middlewares,r,n._deps,t);n.core=o.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),u(n[t],n.Table)&&(n[t].core=e.core))}))},ht=function(e,t,n,r){var o=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=Jn(t,e);(!r||"value"in r&&void 0===r.value)&&(t===o.Transaction.prototype||u(t,o.Transaction)?B(t,e,{get:function(){return this.table(e)},set:function(t){Yn(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new o.Table(e,n))}))}))},dt=function(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)u(e[t],n.Table)&&delete e[t]}))},pt=function(e,t){return e._cfg.version-t._cfg.version},vt=function(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!ao)a.recreate=!0,r.change.push(a);else{var s=o.idxByName,u=i.idxByName,c=void 0;for(c in s)u[c]||a.del.push(c);for(c in u){var l=s[c],f=u[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r},yt=function(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return mt(o,e)})),o},mt=function(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})},gt=function(e,t,n){var r={};return z(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=it(at(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[],s=0;s<t.indexNames.length;++s){var u=t.index(t.indexNames[s]);o=u.keyPath;var c=it(u.name,o,!!u.unique,!!u.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(c)}r[e]=st(e,i,a)})),r},bt=function(e,t,n){for(var r=e._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],s=n.objectStore(a);r._hasGetAll="getAll"in s;for(var c=0;c<s.indexNames.length;++c){var l=s.indexNames[c],f=s.index(l).keyPath,h="string"==typeof f?f:"["+z(f).join("+")+"]";if(t[a]){var d=t[a].idxByName[h];d&&(d.name=l,delete t[a].idxByName[h],t[a].idxByName[l]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&qn.WorkerGlobalScope&&u(qn,qn.WorkerGlobalScope)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)},wt=function(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new To("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")},_t=function(e){return e&&"function"==typeof e.databases},St=function(e){return Oe((function(){return Vr.letThrough=!0,e()}))},Ot=function(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()},Et=function(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):Gn(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()},xt=function(e,t,n){var r=arguments.length;if(r<2)throw new _r.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,q(o),n]},kt=function(e,t,n){for(var r=Gn(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r},Pt=function(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===ho(t.keys[o],e[i])&&(r.push(n?W(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}},At=function(e){return!("from"in e)},jt=function(e,t){At(t)||function e(t,n){var r=n.from,o=n.to,i=n.l,a=n.r;Ao(t,r,o),i&&e(t,i),a&&e(t,a)}(e,t)},Ct=function(e){var t=At(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&ho(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||ho(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}},Tt=function(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var i="r"===o?"l":"r",a=c({},e),s=e[o];e.from=s.from,e.to=s.to,e[o]=s[o],a[o]=s[i],e[i]=a,a.d=Mt(a)}e.d=Mt(e)},Mt=function(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1},Dt=function(e,t){return Wn(t).forEach((function(n){jt(e[n]||(e[n]=new Po),t[n])})),e},It=function(e){var t=Ro;try{Ro=!0,mo.storagemutated.fire(e)}finally{Ro=t}},Rt=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},Nt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Bt=function(){return new Vo},Lt=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},zt=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},Kt=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zt(i,r,o,a,s,"next",e)}function s(e){zt(i,r,o,a,s,"throw",e)}a(void 0)}))}},Ut=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Vt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ut(e,t,n[t])}))}return e},Ft=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Ht=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},qt=function(){return qo},Wt=function(){return Wo.apply(this,arguments)},Gt=function(){return $o.apply(this,arguments)},$t=function(e,t,n,r){return Qo.apply(this,arguments)},Qt=function(e,t,n){return Yo.apply(this,arguments)},Yt=function(e,t){return Xo.apply(this,arguments)},Xt=function(e,t){return Jo.apply(this,arguments)},Jt=function(e){return Zo.apply(this,arguments)},Zt=function(e){return ei.apply(this,arguments)},en=function(e){return ti.apply(this,arguments)},tn=function(e){var t;return!!(null===(t=Ho[e])||void 0===t?void 0:t.options.onBeginEditSyncItem)},nn=function(e){return ni.apply(this,arguments)},rn=function(e){return ri.apply(this,arguments)},on=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Ho[e]={type:e,dependsOn:t,process:n,options:r}},an=function(){if(!oi&&!(oi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oi(ai)},sn=function(){return li+ci()},un=function(e){return e.startsWith(li)},cn=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},ln=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},fn=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ln(i,r,o,a,s,"next",e)}function s(e){ln(i,r,o,a,s,"throw",e)}a(void 0)}))}},hn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dn=function(){return Object.values(fi)},pn=function(e){fi[e.id]&&console.warn('[setupDynamicOfflineDataHandler] Another second handler with the ID "'.concat(e.id,'" was registered. This handler will override the previous one. This could be unintended as the previous handler might run different flows than the newly registered one. If this is the case, ensure that you are setting up the handlers with different IDs.')),fi[e.id]=e},vn=function(e){return hi.apply(this,arguments)},yn=function(e,t){return di.apply(this,arguments)},mn=function(e,t){return pi.apply(this,arguments)},gn=function(e,t,n){return vi.apply(this,arguments)},bn=function(e,t){return yi.apply(this,arguments)},wn=function(e,t,n){return mi.apply(this,arguments)},_n=function(e,t){return gi.apply(this,arguments)},Sn=function(e,t,n){return bi.apply(this,arguments)},On=function(){return wi.apply(this,arguments)},En=function(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)},xn=function(){return An(),_i},kn=function(e,t){An(),pn({type:"patient",displayName:t.displayName,id:e,isSynced:function(){return Promise.resolve(!0)},sync:function(e,n){return t.onOfflinePatientAdded({patientUuid:e,signal:null!=n?n:(new AbortController).signal})}})},Pn=function(e){return Si.apply(this,arguments)},An=function(){console.warn("The offline patient API has been deprecated and will be removed in a future release. To prevent future crashes, the functions remain available for the moment, but any invocations should be migrated ASAP.")};p.r(v),p.d(v,{activateOfflineCapability:function(){return D},beginEditSynchronizationItem:function(){return nn},canBeginEditSynchronizationItemsOfType:function(){return tn},deleteSynchronizationItem:function(){return rn},generateOfflineUuid:function(){return sn},getCurrentOfflineMode:function(){return T},getDynamicOfflineDataEntries:function(){return vn},getDynamicOfflineDataEntriesFor:function(){return yn},getDynamicOfflineDataHandlers:function(){return dn},getFullSynchronizationItems:function(){return Zt},getFullSynchronizationItemsFor:function(){return Xt},getOfflineDb:function(){return Bt},getOfflinePatientDataStore:function(){return xn},getOfflineSynchronizationStore:function(){return qt},getOmrsServiceWorker:function(){return w},getSynchronizationItem:function(){return en},getSynchronizationItems:function(){return Jt},getSynchronizationItemsFor:function(){return Yt},isOfflineUuid:function(){return un},messageOmrsServiceWorker:function(){return O},offlineUuidPrefix:function(){return li},omrsOfflineCachingStrategyHttpHeaderName:function(){return Nn},omrsOfflineResponseBodyHttpHeaderName:function(){return In},omrsOfflineResponseStatusHttpHeaderName:function(){return Rn},putDynamicOfflineData:function(){return mn},putDynamicOfflineDataFor:function(){return gn},queueSynchronizationItem:function(){return Qt},queueSynchronizationItemFor:function(){return $t},registerOfflinePatientHandler:function(){return kn},registerOmrsServiceWorker:function(){return b},removeDynamicOfflineData:function(){return bn},removeDynamicOfflineDataFor:function(){return wn},runSynchronization:function(){return Wt},setCurrentOfflineMode:function(){return M},setupDynamicOfflineDataHandler:function(){return pn},setupOfflineSync:function(){return on},syncAllDynamicOfflineData:function(){return _n},syncDynamicOfflineData:function(){return Sn},syncOfflinePatientData:function(){return Pn}});try{self["workbox:window:6.5.4"]&&_()}catch(e){}try{self["workbox:core:6.5.4"]&&_()}catch(e){}var jn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Cn=function(e,t){this.type=e,Object.assign(this,t)},Tn={type:"SKIP_WAITING"},Mn=function(t){var n,r,o=function(e,n){var r,o;return void 0===n&&(n={}),(r=t.call(this)||this).nn={},r.tn=0,r.rn=new jn,r.en=new jn,r.on=new jn,r.un=0,r.an=new Set,r.cn=function(){var e=r.fn,t=e.installing;r.tn>0||!i(t.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=t,e.removeEventListener("updatefound",r.cn)):(r.hn=t,r.an.add(t),r.rn.resolve(t)),++r.tn,t.addEventListener("statechange",r.ln)},r.ln=function(e){var t=r.fn,n=e.target,o=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:e};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new Cn(o,a)),"installed"===o?r.wn=self.setTimeout((function(){"installed"===o&&t.waiting===n&&r.dispatchEvent(new Cn("waiting",a))}),200):"activating"===o&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.dn=function(e){var t=r.hn,n=t!==navigator.serviceWorker.controller;r.dispatchEvent(new Cn("controlling",{isExternal:n,originalEvent:e,sw:t,isUpdate:r.mn})),n||r.on.resolve(t)},r.gn=(o=function(e){var t=e.data,n=e.ports,o=e.source;return y(r.getSW(),(function(){r.an.has(o)&&r.dispatchEvent(new Cn("message",{data:t,originalEvent:e,ports:n,sw:o}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(o.apply(this,e))}catch(e){return Promise.reject(e)}}),r.sn=e,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r};r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a,s=o.prototype;return s.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return g(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),y(r.bn(),(function(e){r.fn=e,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var t=r.fn.waiting;return t&&i(t.scriptURL,r.sn.toString())&&(r.hn=t,Promise.resolve().then((function(){r.dispatchEvent(new Cn("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(e){return Promise.reject(e)}},s.update=function(){try{return this.fn?g(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},s.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(t){try{return y(this.getSW(),(function(n){return e(n,t)}))}catch(e){return Promise.reject(e)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&e(this.fn.waiting,Tn)},s.pn=function(){var e=navigator.serviceWorker.controller;return e&&i(e.scriptURL,this.sn.toString())?e:void 0},s.bn=function(){try{var e=this;return function(t,n){try{var r=y(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}catch(t){return n(t)}return r&&r.then?r.then(void 0,n):r}((function(){return y(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},(a=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,a),o}(function(){var e=function(){this.Pn=new Map},t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=r(this.Sn(e.type));!(t=n()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}()),Dn=void 0,In="x-omrs-offline-response-body",Rn="x-omrs-offline-response-status",Nn="x-omrs-offline-caching-strategy";function Bn(){return Bn=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,s,"next",e)}function s(e){S(i,r,o,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return[4,w()];case 1:return(t=r.sent())?[4,t.messageSW(e)]:[3,3];case 2:return n=r.sent(),[3,4];case 3:n={success:!1,result:void 0,error:"No service worker has been registered. This is typically the case when the application has been built without offline-related features."},r.label=4;case 4:return[2,n]}}))})),Bn.apply(this,arguments)}function Ln(){return Ln=x((function(){var e;return k(this,(function(t){e=window.sessionStorage;try{e.setItem("someKeyHere","test"),e.removeItem("someKeyHere")}catch(t){if(t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length)return[2,!0]}return[2,!1]}))})),Ln.apply(this,arguments)}function zn(){return(zn=x((function(){return k(this,(function(e){return[2,!window.indexedDB]}))}))).apply(this,arguments)}function Kn(){return Kn=x((function(){return k(this,(function(e){return[2,new Promise((function(e){var t=indexedDB.open("test");t.onerror=function(){return e(!0)},t.onsuccess=function(){return e(!1)}}))]}))})),Kn.apply(this,arguments)}function Un(){return(Un=x((function(){var e,t;return k(this,(function(n){switch(n.label){case 0:return[4,j()];case 1:return(t=n.sent())?[3,3]:[4,A()];case 2:t=n.sent(),n.label=3;case 3:return(e=t)?[3,5]:[4,P()];case 4:e=n.sent(),n.label=5;case 5:return[2,e]}}))}))).apply(this,arguments)}var Vn="openmrs3:offline-mode",Fn="unavailable";function Hn(){return(Hn=x((function(){return k(this,(function(e){switch(e.label){case 0:return[4,C()];case 1:return e.sent()||(Fn="active"===localStorage.getItem(Vn)?"on":"off"),navigator.onLine,[2]}}))}))).apply(this,arguments)}var qn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,Wn=Object.keys,Gn=Array.isArray;"undefined"==typeof Promise||qn.Promise||(qn.Promise=Promise);var $n=Object.getPrototypeOf,Qn={}.hasOwnProperty,Yn=Object.defineProperty,Xn=Object.getOwnPropertyDescriptor;function Jn(e,t){var n;return Xn(e,t)||(n=$n(e))&&Jn(n,t)}var Zn=[].slice;function er(e,t){if(R(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=er(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:er(s,t.substr(a+1))}}function tr(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){U("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)tr(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),s=t.substr(i+1);if(""===s)void 0===n?Gn(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var u=e[a];u&&R(e,a)||(u=e[a]={}),tr(u,s,n)}}else void 0===n?Gn(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}var nr=[].concat,rr="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return qn[e]})),or=rr.map((function(e){return qn[e]}));F(rr,(function(e){return[e,!0]}));var ir=null;function ar(e){if(!e||"object"!=typeof e)return e;var t=ir&&ir.get(e);if(t)return t;if(Gn(e)){t=[],ir&&ir.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(ar(e[n]))}else if(or.indexOf(e.constructor)>=0)t=e;else{var o=$n(e);for(var i in t=o===Object.prototype?{}:Object.create(o),ir&&ir.set(e,t),e)R(e,i)&&(t[i]=ar(e[i]))}return t}var sr={}.toString,ur="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",cr="symbol"==(void 0===ur?"undefined":d(ur))?function(e){var t;return null!=e&&(t=e[ur])&&t.apply(e)}:function(){return null},lr={},fr="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},hr="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),dr=function(){return!0},pr=!new Error("").stack;function vr(){if(pr)try{throw vr.arguments,new Error}catch(e){return e}return new Error}var yr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(yr),gr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};L(X).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Y(this._e,2))}},toString:function(){return this.name+": "+this.message}}),L(Z).from(X),L(ee).from(X);var br=mr.reduce((function(e,t){return e[t]=t+"Error",e}),{}),wr=X,_r=mr.reduce((function(e,t){var n=function(e,n){this._e=vr(),this.name=r,e?"string"==typeof e?(this.message="".concat(e).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=gr[t]||r,this.inner=null)},r=t+"Error";return L(n).from(wr),e[t]=n,e}),{});_r.Syntax=SyntaxError,_r.Type=TypeError,_r.Range=RangeError;var Sr=yr.reduce((function(e,t){return e[t+"Error"]=_r[t],e}),{}),Or=mr.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=_r[t]),e}),{});Or.ModifyError=Z,Or.DexieError=X,Or.BulkError=ee;var Er={},xr=f("undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,$n(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,$n(t),e]}(),3),kr=xr[0],Pr=xr[1],Ar=xr[2],jr=Pr&&Pr.then,Cr=kr&&kr.constructor,Tr=!!Ar,Mr=!1,Dr=Ar?function(){Ar.then(me)}:qn.setImmediate?setImmediate.bind(null,me):qn.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){me(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(me,0)},Ir=function(e,t){Fr.push([e,t]),Nr&&(Dr(),Nr=!1)},Rr=!0,Nr=!0,Br=[],Lr=[],zr=null,Kr=ne,Ur={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Re(e[0],e[1])}catch(e){}}))}},Vr=Ur,Fr=[],Hr=0,qr=[],Wr={get:function(){var e=function(e,r){var o=this,i=!t.global&&(t!==Vr||n!==Zr),a=i&&!xe(),s=new le((function(n,s){pe(o,new fe(De(e,t,i,a),De(r,t,i,a),n,s,t))}));return hr&&ye(s,this),s},t=Vr,n=Zr;return e.prototype=Er,e},set:function(e){B(this,"then",e&&e.prototype===Er?Wr:{get:function(){return e},set:Wr.set})}};function Gr(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&ge();t&&"function"==typeof t.then?Gr(e,(function(e,n){u(t,le)?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,de(e)),n&&be()}}),he.bind(null,e))}catch(t){he(e,t)}}function $r(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Y(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return hr&&((r=Y(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&$r(e._prev,t,n)),t}N(le.prototype,{then:Wr,_then:function(e,t){pe(this,new fe(null,null,e,t,Vr))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return u(e,t)?n(e):_e(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):_e(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),_e(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Mr=!0;var e=$r(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Mr=!1}}},timeout:function(e,t){var n=this;return e<1/0?new le((function(r,o){var i=setTimeout((function(){return o(new _r.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&B(le.prototype,Symbol.toStringTag,"Dexie.Promise"),Ur.env=Ce(),N(le,{all:function(){var e=$.apply(null,arguments).map(ke);return new le((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return le.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(u(e,le))return e;if(e&&"function"==typeof e.then)return new le((function(t,n){e.then(t,n)}));var t=new le(Er,!0,e);return ye(t,zr),t},reject:_e,race:function(){var e=$.apply(null,arguments).map(ke);return new le((function(t,n){e.map((function(e){return le.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Vr},set:function(e){return Vr=e}},totalEchoes:{get:function(){return Zr}},newPSD:Oe,usePSD:Te,scheduler:{get:function(){return Ir},set:function(e){Ir=e}},rejectionMapper:{get:function(){return Kr},set:function(e){Kr=e}},follow:function(e,t){return new le((function(n,r){return Oe((function(t,n){var r=Vr;r.unhandleds=[],r.onunhandled=n,r.finalize=oe((function(){var e=this;!function(e){qr.push((function t(){e(),qr.splice(qr.indexOf(t),1)})),++Hr,Ir((function(){0==--Hr&&we()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),Cr&&(Cr.allSettled&&B(le,"allSettled",(function(){var e=$.apply(null,arguments).map(ke);return new le((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return le.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Cr.any&&"undefined"!=typeof AggregateError&&B(le,"any",(function(){var e=$.apply(null,arguments).map(ke);return new le((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return le.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var Qr={awaits:0,echoes:0,id:0},Yr=0,Xr=[],Jr=0,Zr=0,eo=0;-1===(""+jr).indexOf("[native code]")&&(Ee=xe=te);var to=le.reject;function no(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Vr.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===br.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return no(e,t,n,r)}))):to(o)}return o._promise(t,(function(e,t){return Oe((function(){return Vr.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(e._state.openComplete)return to(new _r.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return to(new _r.DatabaseClosed);e.open().catch(te)}return e._state.dbReadyPromise.then((function(){return no(e,t,n,r)}))}var ro=String.fromCharCode(65535),oo="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",io=[],ao="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),so=ao,uo=ao,co=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},lo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1},fo=function(){function e(){o(this,e)}return a(e,[{key:"_trans",value:function(e,t,n){var r=function(e,n,r){if(!r.schema[i])throw new _r.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)},o=this._tx||Vr.trans,i=this.name,a=ge();try{return o&&o.db===this.db?o===Vr.trans?o._promise(e,r,n):Oe((function(){return o._promise(e,r,n)}),{trans:o,transless:Vr.transless||Vr}):no(this.db,e,[this.name],r)}finally{a&&be()}}},{key:"get",value:function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)}},{key:"where",value:function(e){var t=function(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}};if("string"==typeof e)return new this.db.WhereClause(this,e);if(Gn(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var n=Wn(e);if(1===n.length)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&n.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return n.indexOf(e)>=0}))}))[0];if(r&&this.db._maxKey!==ro)return this.where(r.name).equals(r.keyPath.map((function(t){return e[t]})));!r&&hr&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(n.join("+"),"]"));var o=this.schema.idxByName,i=this.db._deps.indexedDB,a=f(n.reduce((function(n,r){var i=f(n,2),a=i[0],s=i[1],u=o[r],c=e[r];return[a||u,a||!u?Ne(s,u&&u.multi?function(e){var n=er(e,r);return Gn(n)&&n.some((function(e){return t(c,e)}))}:function(e){return t(c,er(e,r))}):s]}),[null,null]),2),s=a[0],u=a[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")}},{key:"filter",value:function(e){return this.toCollection().and(e)}},{key:"count",value:function(e){return this.toCollection().count(e)}},{key:"offset",value:function(e){return this.toCollection().offset(e)}},{key:"limit",value:function(e){return this.toCollection().limit(e)}},{key:"each",value:function(e){return this.toCollection().each(e)}},{key:"toArray",value:function(e){return this.toCollection().toArray(e)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(e){return new this.db.Collection(new this.db.WhereClause(this,Gn(e)?"[".concat(e.join("+"),"]"):e))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(R(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}},{key:"defineClass",value:function(){return this.mapToClass((function(e){I(this,e)}))}},{key:"add",value:function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Be(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{tr(e,i,t)}catch(e){}return t}))}},{key:"update",value:function(e,t){if("object"!=typeof e||Gn(e))return this.where(":id").equals(e).modify(t);var n=er(e,this.schema.primKey.keyPath);if(void 0===n)return to(new _r.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Wn(t).forEach((function(n){tr(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}},{key:"put",value:function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Be(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{tr(e,i,t)}catch(e){}return t}))}},{key:"delete",value:function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):void 0}))}},{key:"clear",value:function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:lo})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):void 0}))}},{key:"bulkGet",value:function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))}},{key:"bulkAdd",value:function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&o)throw new _r.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new _r.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,c=s&&a?e.map(Be(s)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:c,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new ee("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(u," operations failed"),a)}))}))}},{key:"bulkPut",value:function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&o)throw new _r.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new _r.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,c=s&&a?e.map(Be(s)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:c,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new ee("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(u," operations failed"),a)}))}))}},{key:"bulkDelete",value:function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new ee("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))}}]),e}();function ho(e,t){try{var n=Ge(e),r=Ge(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}($e(e),$e(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i){var a=ho(e[i],t[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}var po=function(){function e(){o(this,e)}return a(e,[{key:"_read",value:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,to.bind(null,n.error)):n.table._trans("readonly",e).then(t)}},{key:"_write",value:function(e){var t=this._ctx;return t.error?t.table._trans(null,to.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}},{key:"_addAlgorithm",value:function(e){var t=this._ctx;t.algorithm=Ne(t.algorithm,e)}},{key:"_iterate",value:function(e,t){return qe(this._ctx,e,t,this._ctx.table.core)}},{key:"clone",value:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&I(n,e),t._ctx=n,t}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(e){var t=this._ctx;return this._read((function(n){return qe(t,e,n,t.table.core)}))}},{key:"count",value:function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(Ke(n,!0))return r.count({trans:e,query:{index:Fe(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return qe(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)}},{key:"sortBy",value:function(e,t){var n=function(e,t){var n=a(e,i),r=a(t,i);return n<r?-s:n>r?s:0},r=e.split(".").reverse(),o=r[0],i=r.length-1;function a(e,t){return t?a(e[r[t]],t-1):e[o]}var s="next"===this._ctx.dir?1:-1;return this.toArray((function(e){return e.sort(n)})).then(t)}},{key:"toArray",value:function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&Ke(n,!0)&&n.limit>0){var r=n.valueMapper,o=Fe(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return qe(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)}},{key:"offset",value:function(e){var t=this._ctx;return e<=0||(t.offset+=e,Ke(t)?Ve(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Ve(t,(function(){var t=e;return function(){return--t<0}}))),this}},{key:"limit",value:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ve(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}},{key:"until",value:function(e,t){return Ue(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}},{key:"first",value:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}},{key:"last",value:function(e){return this.reverse().first(e)}},{key:"filter",value:function(e){var t,n;return Ue(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Ne(t.isMatch,n),this}},{key:"and",value:function(e){return this.filter(e)}},{key:"or",value:function(e){return new this.db.WhereClause(this._ctx.table,e,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}},{key:"eachUniqueKey",value:function(e){return this._ctx.unique="unique",this.eachKey(e)}},{key:"eachPrimaryKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}},{key:"keys",value:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}},{key:"primaryKeys",value:function(e){var t=this._ctx;if("next"===t.dir&&Ke(t,!0)&&t.limit>0)return this._read((function(e){var n=Fe(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}},{key:"uniqueKeys",value:function(e){return this._ctx.unique="unique",this.keys(e)}},{key:"firstKey",value:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}},{key:"lastKey",value:function(e){return this.reverse().firstKey(e)}},{key:"distinct",value:function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ue(this._ctx,(function(e){var t=e.primaryKey.toString(),r=R(n,t);return n[t]=!0,!r})),this}},{key:"modify",value:function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof e)o=e;else{var i=Wn(e),a=i.length;o=function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],s=e[o];er(t,o)!==s&&(tr(t,o,s),n=!0)}return n}}var s=n.table.core,u=s.schema.primaryKey,c=u.outbound,l=u.extractKey,f=t.db._options.modifyChunkSize||200,h=[],d=0,p=[],v=function(e,t){var n=t.failures,r=t.numFailures;d+=e-r;var o=!0,i=!1,a=void 0;try{for(var s,u=Wn(n)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;h.push(n[c])}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}};return t.clone().primaryKeys().then((function(t){var i=function(a){var u=Math.min(f,t.length-a);return s.getMany({trans:r,keys:t.slice(a,a+u),cache:"immutable"}).then((function(h){for(var d=[],p=[],y=c?[]:null,m=[],g=0;g<u;++g){var b=h[g],w={value:W(b),primKey:t[a+g]};!1!==o.call(w,w.value,w)&&(null==w.value?m.push(t[a+g]):c||0===ho(l(b),l(w.value))?(p.push(w.value),c&&y.push(t[a+g])):(m.push(t[a+g]),d.push(w.value)))}var _=Ke(n)&&n.limit===1/0&&("function"!=typeof e||e===vo)&&{index:n.index,range:n.range};return Promise.resolve(d.length>0&&s.mutate({trans:r,type:"add",values:d}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);v(d.length,e)}))).then((function(){return(p.length>0||_&&"object"==typeof e)&&s.mutate({trans:r,type:"put",keys:y,values:p,criteria:_,changeSpec:"function"!=typeof e&&e}).then((function(e){return v(p.length,e)}))})).then((function(){return(m.length>0||_&&e===vo)&&s.mutate({trans:r,type:"delete",keys:m,criteria:_}).then((function(e){return v(m.length,e)}))})).then((function(){return t.length>a+u&&i(a+f)}))}))};return i(0).then((function(){if(h.length>0)throw new Z("Error modifying one or more objects",h,d,p);return t.length}))}))}))}},{key:"delete",value:function(){var e=this._ctx,t=e.range;return Ke(e)&&(e.isPrimKey&&!uo||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new Z("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(vo)}}]),e}(),vo=function(e,t){return t.value=null},yo=function(){function e(){o(this,e)}return a(e,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Je(this):new this.Collection(this,(function(){return tt(e,t,!n,!r)}))}catch(e){return Xe(this,oo)}}},{key:"equals",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return nt(e)}))}},{key:"above",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(e,void 0,!0)}))}},{key:"aboveOrEqual",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(e,void 0,!1)}))}},{key:"below",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(void 0,e,!1,!0)}))}},{key:"belowOrEqual",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(void 0,e)}))}},{key:"startsWith",value:function(e){return"string"!=typeof e?Xe(this,"String expected."):this.between(e,e+ro,!0,!0)}},{key:"startsWithIgnoreCase",value:function(e){return""===e?this.startsWith(e):et(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ro)}},{key:"equalsIgnoreCase",value:function(e){return et(this,(function(e,t){return e===t[0]}),[e],"")}},{key:"anyOfIgnoreCase",value:function(){var e=$.apply(lr,arguments);return 0===e.length?Je(this):et(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var e=$.apply(lr,arguments);return 0===e.length?Je(this):et(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ro)}},{key:"anyOf",value:function(){var e=this,t=$.apply(lr,arguments),n=this._cmp;try{t.sort(n)}catch(e){return Xe(this,oo)}if(0===t.length)return Je(this);var r=new this.Collection(this,(function(){return tt(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;n(a,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r}},{key:"notEqual",value:function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var e=$.apply(lr,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Xe(this,oo)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(e,t){var n=this,r=function(e,t){return h(e[0],t[0])},o=this._cmp,i=this._ascending,a=this._descending,s=this._min,u=this._max;if(0===e.length)return Je(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return Xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",_r.InvalidArgument);var c,l=!t||!1!==t.includeLowers,f=t&&!0===t.includeUppers,h=i;try{c=e.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(o(t[0],i[1])<0&&o(t[1],i[0])>0){i[0]=s(i[0],t[0]),i[1]=u(i[1],t[1]);break}}return n===r&&e.push(t),e}),[]),c.sort(r)}catch(e){return Xe(this,oo)}var d=0,p=f?function(e){return i(e,c[d][1])>0}:function(e){return i(e,c[d][1])>=0},v=l?function(e){return a(e,c[d][0])>0}:function(e){return a(e,c[d][0])>=0},y=p,m=new this.Collection(this,(function(){return tt(c[0][0],c[c.length-1][1],!l,!f)}));return m._ondirectionchange=function(e){"next"===e?(y=p,h=i):(y=v,h=a),c.sort(r)},m._addAlgorithm((function(e,t,r){for(var o=e.key;y(o);)if(++d===c.length)return t(r),!1;return!!function(e){return!p(e)&&!v(e)}(o)||(0===n._cmp(o,c[d][1])||0===n._cmp(o,c[d][0])||t((function(){h===i?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),m}},{key:"startsWithAnyOf",value:function(){var e=$.apply(lr,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Je(this):this.inAnyRange(e.map((function(e){return[e,e+ro]}))):Xe(this,"startsWithAnyOf() only works with strings")}}]),e}(),mo=Le(null,"storagemutated"),go=function(){function e(){o(this,e)}return a(e,[{key:"_lock",value:function(){return U(!Vr.global),++this._reculock,1!==this._reculock||Vr.global||(Vr.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(U(!Vr.global),0==--this._reculock)for(Vr.global||(Vr.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Te(e[1],e[0])}catch(e){}}return this}},{key:"_locked",value:function(){return this._reculock&&Vr.lockOwnerFor!==this}},{key:"create",value:function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(U(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new _r.DatabaseClosed(r);case"MissingAPIError":throw new _r.MissingAPI(r.message,r);default:throw new _r.OpenFailed(r)}if(!this.active)throw new _r.TransactionInactive;return U(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Se((function(n){ot(n),t._reject(e.error)})),e.onabort=Se((function(n){ot(n),t.active&&t._reject(new _r.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Se((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&mo.storagemutated.fire(e.mutatedParts)})),this}},{key:"_promise",value:function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return to(new _r.ReadOnly("Transaction is readonly"));if(!this.active)return to(new _r.TransactionInactive);if(this._locked())return new le((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},Vr])}));if(n)return Oe((function(){var e=new le((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new le((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(e){var t=this._root(),n=le.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new le((function(e,r){n.then((function(n){return t._waitingQueue.push(Se(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Se(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new _r.Abort))}},{key:"table",value:function(e){var t=this._memoizedTables||(this._memoizedTables={});if(R(t,e))return t[e];var n=this.schema[e];if(!n)throw new _r.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}]),e}(),bo=function(e){try{return e.only([[]]),bo=function(){return[[]]},[[]]}catch(e){return bo=function(){return ro},ro}},wo=0,_o=function(){function e(){o(this,e)}return a(e,[{key:"_parseStoresSpec",value:function(e,t){Wn(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return it(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Gn(r),0===t)})),o=r.shift();if(o.multi)throw new _r.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new _r.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new _r.Schema("Index must have a name and cannot be an empty string")})),t[n]=st(n,o,r)}}))}},{key:"stores",value:function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?I(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){I(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,dt(t,[t._allTables,t,t.Transaction.prototype]),ht(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Wn(o),o),t._storeNames=Wn(o),this}},{key:"upgrade",value:function(e){return this._cfg.contentUpgrade=ce(this._cfg.contentUpgrade||te,e),this}}]),e}();function So(e,t,n,r,o){return le.resolve().then((function(){var i=Vr.transless||Vr,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===br.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return So(e,t,n,null,o)}))):to(r)}var u,c=fr(o);c&&Ee();var l=le.follow((function(){if(u=o.call(a,a))if(c){var e=xe.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Et(u))}),s);return(u&&"function"==typeof u.then?le.resolve(u).then((function(e){return a.active?e:to(new _r.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return u}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),to(e)}))}))}var Oo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return l(c({},e),{table:function(t){var n=function(t){var n,r,o=t.query.index;return o.isVirtual?l(c({},t),{query:{index:o,range:(n=t.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:kt(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:kt(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t},r=e.table(t),o=r.schema,i={},a=[];function s(e,t,n){var r=lt(e),o=i[r]=i[r]||[],u=null==e?0:"string"==typeof e?1:e.length,f=t>0,h=l(c({},n),{isVirtual:f,keyTail:t,keyLength:u,extractKey:ut(e),unique:!f&&n.unique});return o.push(h),h.isPrimaryKey||a.push(h),u>1&&s(2===u?e[0]:e.slice(0,u-1),t+1,n),o.sort((function(e,t){return e.keyTail-t.keyTail})),h}var u=s(o.primaryKey.keyPath,0,o.primaryKey);i[":id"]=[u];var f=!0,h=!1,d=void 0;try{for(var p,v=o.indexes[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var y=p.value;s(y.keyPath,0,y)}}catch(e){h=!0,d=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw d}}var m=l(c({},r),{schema:l(c({},o),{primaryKey:u,indexes:a,getIndexByKeyPath:function(e){var t=i[lt(e)];return t&&t[0]}}),count:function(e){return r.count(n(e))},query:function(e){return r.query(n(e))},openCursor:function(t){var o=t.query.index,i=o.keyTail,a=o.isVirtual,s=o.keyLength;return a?r.openCursor(n(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(kt(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,s).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(kt(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:function(){return n.value}}});return r}(n)})):r.openCursor(t)}});return m}})}};function Eo(e,t,n,r){return n=n||{},r=r||"",Wn(e).forEach((function(o){if(R(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var s=G(i);s!==G(a)?n[r+o]=t[o]:"Object"===s?Eo(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),Wn(t).forEach((function(o){R(e,o)||(n[r+o]=t[o])})),n}var xo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return l(c({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,o=l(c({},n),{mutate:function(e){var o=function(e){var t=Vr.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?l(c({},e),{keys:o}):c({},e)).type&&(e.values=h(e.values)),e.keys&&(e.keys=h(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((function(i){var a=o.map((function(n,o){var a=i[o],c={onerror:null,onsuccess:null};if("delete"===e.type)s.fire.call(c,n,a,t);else if("add"===e.type||void 0===a){var l=u.fire.call(c,n,e.values[o],t);null==n&&null!=l&&(n=l,e.keys[o]=n,r.outbound||tr(e.values[o],r.keyPath,n))}else{var h=Eo(a,e.values[o]),d=f.fire.call(c,h,n,a,t);if(d){var p=e.values[o];Object.keys(d).forEach((function(e){R(p,e)?p[e]=d[e]:tr(p,e,d[e])}))}}return c}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,s=t.numFailures,u=t.lastResult,c=0;c<o.length;++c){var l=r?r[c]:o[c],f=a[c];null==l?f.onerror&&f.onerror(n[c]):f.onsuccess&&f.onsuccess("put"===e.type&&i[c]?e.values[c]:l)}return{failures:n,results:r,numFailures:s,lastResult:u}})).catch((function(e){return a.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))},i=Vr.trans,a=i.table(t).hook,s=a.deleting,u=a.creating,f=a.updating;switch(e.type){case"add":if(u.fire===te)break;return i._promise("readwrite",(function(){return o(e)}),!0);case"put":if(u.fire===te&&f.fire===te)break;return i._promise("readwrite",(function(){return o(e)}),!0);case"delete":if(s.fire===te)break;return i._promise("readwrite",(function(){return o(e)}),!0);case"deleteRange":if(s.fire===te)break;return i._promise("readwrite",(function(){return function(e){return d(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function d(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return o({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:d(e,l(c({},t),{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return o}})}},ko={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return l(c({},n),{getMany:function(e){if(!e.cache)return n.getMany(e);var t=Pt(e.keys,e.trans._cache,"clone"===e.cache);return t?le.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?W(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}},Po=function(e,t){if(!this){var n=new Po;return e&&"d"in e&&I(n,e),n}I(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Ao(e,t,n){var r=ho(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(At(e))return I(e,{from:t,to:n,d:1});var o=e.l,i=e.r;if(ho(n,e.from)<0)return o?Ao(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Tt(e);if(ho(t,e.to)>0)return i?Ao(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Tt(e);ho(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),ho(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;o&&!e.l&&jt(e,o),i&&a&&jt(e,i)}}N(Po.prototype,s({add:function(e){return jt(this,e),this},addKey:function(e){return Ao(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return Ao(t,e,e)})),this}},ur,(function(){return Ct(this)})));var jo,Co={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new Po(e.MIN_KEY,e.MAX_KEY);return l(c({},e),{table:function(r){var o=e.table(r),i=o.schema,a=i.primaryKey,s=a.extractKey,u=a.outbound,h=l(c({},o),{mutate:function(e){var a=e.trans,s=a.mutatedParts||(a.mutatedParts={}),u=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return s[n]||(s[n]=new Po)},c=u(""),l=u(":dels"),h=e.type,d=f("deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],2),p=d[0],v=d[1],y=e.trans._cache;return o.mutate(e).then((function(e){if(Gn(p)){"delete"!==h&&(p=e.results),c.addKeys(p);var t=Pt(p,y);t||"add"===h||l.addKeys(p),(t||v)&&function(e,t,n,r){t.indexes.forEach((function(t){var o=function(e){return null!=e?t.extractKey(e):null},i=e(t.name||""),a=function(e){return t.multiEntry&&Gn(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(n||r).forEach((function(e,t){var i=n&&o(n[t]),s=r&&o(r[t]);0!==ho(i,s)&&(null!=i&&a(i),null!=s&&a(s))}))}))}(u,i,t,v)}else if(p){var r={from:p.lower,to:p.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),i.indexes.forEach((function(e){return u(e.name).add(n)}));return e}))}}),d=function(t){var n,r,o=t.query,i=o.index,a=o.range;return[i,new Po(null!==(n=a.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:e.MAX_KEY)]},p={get:function(e){return[a,new Po(e.key)]},getMany:function(e){return[a,(new Po).addKeys(e.keys)]},count:d,query:d,openCursor:d};return Wn(p).forEach((function(e){h[e]=function(i){var a=Vr.subscr;if(a){var h=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return a[n]||(a[n]=new Po)},d=h(""),v=h(":dels"),y=f(p[e](i),2),m=y[0],g=y[1];if(h(m.name||"").add(g),!m.isPrimaryKey){if("count"!==e){var b="query"===e&&u&&i.values&&o.query(l(c({},i),{values:!1}));return o[e].apply(this,arguments).then((function(t){if("query"===e){if(u&&i.values)return b.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=i.values?t.result.map(s):t.result;i.values?d.addKeys(n):v.addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return v.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return v.addKey(e),e}},value:{get:function(){return o&&d.addKey(r.primaryKey),r.value}}})}return t}))}v.add(n)}}return o[e].apply(this,arguments)}})),h}})}},To=function(){function e(t,n){var r=this;o(this,e),this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=c({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:te,dbReadyPromise:null,cancelOpen:te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};u.dbReadyPromise=new le((function(e){u.dbReadyResolve=e})),u.openCanceller=new le((function(e,t){u.cancelOpen=t})),this._state=u,this.name=t,this.on=Le(this,"populate","blocked","versionchange","close",{ready:[ce,te]}),this.on.ready.subscribe=K(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||le.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(s=this,ze(po.prototype,(function(e,t){this.db=s;var n=lo,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==ne?a:null}}))),this.Table=function(e){return ze(fo.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Le(null,{creating:[ie,te],reading:[re,ne],updating:[se,te],deleting:[ae,te]})}))}(this),this.Transaction=function(e){return ze(go.prototype,(function(t,n,r,o,i){var a=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Le(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le((function(e,t){a._resolve=e,a._reject=t})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(e){var t=a.active;return a.active=!1,a.on.error.fire(e),a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort(),to(e)}))}))}(this),this.Version=function(e){return ze(_o.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return ze(yo.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var o=e._deps.indexedDB;if(!o)throw new _r.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(e,t){return o.cmp(t,e)},this._max=function(e,t){return o.cmp(e,t)>0?e:t},this._min=function(e,t){return o.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=bo(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),io.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Oo),this.use(xo),this.use(Co),this.use(ko),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(e){return e(r)}))}return a(e,[{key:"version",value:function(e){if(isNaN(e)||e<.1)throw new _r.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new _r.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(pt),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(e){var t=this;return this.idbdb&&(this._state.openComplete||Vr.letThrough||this._vip)?e():new le((function(e,n){if(t._state.openComplete)return n(new _r.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new _r.DatabaseClosed);t.open().catch(te)}t._state.dbReadyPromise.then(e,n)})).then(e)}},{key:"use",value:function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this}},{key:"unuse",value:function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this}},{key:"open",value:function(){return function(e){var t=function(){if(n.openCanceller!==o)throw new _r.DatabaseClosed("db.open() was cancelled")},n=e._state,r=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((function(){return n.dbOpenError?to(n.dbOpenError):e}));hr&&(n.openCanceller._stackHolder=vr()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var o=n.openCanceller,i=n.dbReadyResolve,a=null,s=!1;return le.race([o,("undefined"==typeof navigator?le.resolve():Ot()).then((function(){return new le((function(o,i){if(t(),!r)throw new _r.MissingAPI;var u=e.name,c=n.autoSchema?r.open(u):r.open(u,Math.round(10*e.verno));if(!c)throw new _r.MissingAPI;c.onerror=rt(i),c.onblocked=Se(e._fireOnBlocked),c.onupgradeneeded=Se((function(t){if(a=c.transaction,n.autoSchema&&!e._options.allowEmptyDB){c.onerror=ot,a.abort(),c.result.close();var o=r.deleteDatabase(u);o.onsuccess=o.onerror=Se((function(){i(new _r.NoSuchDatabase("Database ".concat(u," doesnt exist")))}))}else{a.onerror=rt(i);var l=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;s=l<1,e._novip.idbdb=c.result,function(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),s=Vr.transless||Vr;Oe((function(){Vr.trans=i,Vr.transless=s,0===t?(Wn(o).forEach((function(e){yt(n,e,o[e].primKey,o[e].indexes)})),ft(e,n),le.follow((function(){return e.on.populate.fire(i)})).catch(a)):function(e,t,n,r){var o=e._novip,i=[],a=o._versions,s=o._dbSchema=gt(0,o.idbdb,r),u=!1;return a.filter((function(e){return e._cfg.version>=t})).forEach((function(e){i.push((function(){var i=s,a=e._cfg.dbschema;bt(o,i,r),bt(o,a,r),s=o._dbSchema=a;var c=vt(i,a);c.add.forEach((function(e){yt(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new _r.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return mt(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),mt(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>t){ft(o,r),n._memoizedTables={},u=!0;var f=H(a);c.del.forEach((function(e){f[e]=i[e]})),dt(o,[o.Transaction.prototype]),ht(o,[o.Transaction.prototype],Wn(f),f),n.schema=f;var h,d=fr(l);d&&Ee();var p=le.follow((function(){if((h=l(n))&&d){var e=xe.bind(null,null);h.then(e,e)}}));return h&&"function"==typeof h.then?le.resolve(h):p.then((function(){return h}))}})),i.push((function(t){u&&so||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t),dt(o,[o.Transaction.prototype]),ht(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),function e(){return i.length?le.resolve(i.shift()(n.idbtrans)).then(e):le.resolve()}().then((function(){var e,t;t=r,Wn(e=s).forEach((function(n){t.db.objectStoreNames.contains(n)||yt(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}(e,l/10,a,i)}}),i),c.onsuccess=Se((function(){a=null;var t,r=e._novip.idbdb=c.result,i=z(r.objectStoreNames);if(i.length>0)try{var l=r.transaction(1===(t=i).length?t[0]:t,"readonly");n.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var o=r._dbSchema=gt(0,t,n);r._storeNames=z(t.objectStoreNames,0),ht(r,[r._allTables],Wn(o),o)}(e,r,l):(bt(e,e._dbSchema,l),function(e,t){var n=vt(gt(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ft(e,l)}catch(e){}io.push(e),r.onversionchange=Se((function(t){n.vcFired=!0,e.on("versionchange").fire(t)})),r.onclose=Se((function(t){e.on("close").fire(t)})),s&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!_t(n)&&"__dbnames"!==t&&wt(n,r).put({name:t}).catch(te)}(e._deps,u),o()}),i)}))}))]).then((function(){return t(),n.onReadyBeingFired=[],le.resolve(St((function(){return e.on.ready.fire(e.vip)}))).then((function t(){if(n.onReadyBeingFired.length>0){var r=n.onReadyBeingFired.reduce(ce,te);return n.onReadyBeingFired=[],le.resolve(St((function(){return r(e.vip)}))).then(t)}}))})).finally((function(){n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((function(){return e})).catch((function(t){n.dbOpenError=t;try{a&&a.abort()}catch(e){}return o===n.openCanceller&&e._close(),to(t)})).finally((function(){n.openComplete=!0,i()}))}(this)}},{key:"_close",value:function(){var e=this._state,t=io.indexOf(this);if(t>=0&&io.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new le((function(t){e.dbReadyResolve=t})),e.openCanceller=new le((function(t,n){e.cancelOpen=n}))}},{key:"close",value:function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new _r.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}},{key:"delete",value:function(){var e=this,t=arguments.length>0,n=this._state;return new le((function(r,o){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Se((function(){!function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!_t(n)&&"__dbnames"!==t&&wt(n,r).delete(t).catch(te)}(e._deps,e.name),r()})),t.onerror=rt(o),t.onblocked=e._fireOnBlocked};if(t)throw new _r.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var e=this;return Wn(this._allTables).map((function(t){return e._allTables[t]}))}},{key:"transaction",value:function(){var e=xt.apply(this,arguments);return this._transaction.apply(this,e)}},{key:"_transaction",value:function(e,t,n){var r=this,o=Vr.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=u(e,r.Table)?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new _r.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!s)throw new _r.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!s)throw new _r.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),s&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,(function(t,n){n(e)})):to(e)}var c=So.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Vr.trans?Te(Vr.transless,(function(){return r._whenReady(c)})):this._whenReady(c)}},{key:"table",value:function(e){if(!R(this._allTables,e))throw new _r.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}]),e}(),Mo="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Do=function(){function e(t){o(this,e),this._subscribe=t}return a(e,[{key:"subscribe",value:function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}},{key:Mo,value:function(){return this}}]),e}();try{jo={indexedDB:qn.indexedDB||qn.mozIndexedDB||qn.webkitIndexedDB||qn.msIndexedDB,IDBKeyRange:qn.IDBKeyRange||qn.webkitIDBKeyRange}}catch(r){jo={indexedDB:null,IDBKeyRange:null}}var Io=To;N(Io,l(c({},Or),{delete:function(e){return new Io(e,{addons:[]}).delete()},exists:function(e){return new Io(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return _t(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):wt(t,n).toCollection().primaryKeys()}(Io.dependencies).then(e)}catch(e){return to(new _r.MissingAPI)}},defineClass:function(){return function(e){I(this,e)}},ignoreTransaction:function(e){return Vr.trans?Te(Vr.transless,e):e()},vip:St,async:function(e){return function(){try{var t=Et(e.apply(this,arguments));return t&&"function"==typeof t.then?t:le.resolve(t)}catch(e){return to(e)}}},spawn:function(e,t,n){try{var r=Et(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:le.resolve(r)}catch(e){return to(e)}},currentTransaction:{get:function(){return Vr.trans||null}},waitFor:function(e,t){var n=le.resolve("function"==typeof e?Io.ignoreTransaction(e):e).timeout(t||6e4);return Vr.trans?Vr.trans.waitFor(n):n},Promise:le,debug:{get:function(){return hr},set:function(e){Q(e,"dexie"===e?function(){return!0}:co)}},derive:L,extend:I,props:N,override:K,Events:Le,on:mo,liveQuery:function(e){return new Do((function(t){var n=function(){return Wn(a).some((function(e){return i[e]&&function(e,t){var n=Ct(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=Ct(e),a=i.next(o.from),s=a.value;!r.done&&!a.done;){if(ho(s.from,o.to)<=0&&ho(s.to,o.from)>=0)return!0;ho(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}(i[e],a[e])}))},r=fr(e),o=!1,i={},a={},s={get closed(){return o},unsubscribe:function(){o=!0,mo.storagemutated.unsubscribe(l)}};t.start&&t.start(s);var u=!1,c=!1,l=function(e){Dt(i,e),n()&&f()},f=function(){if(!u&&!o){i={};var h={},d=function(t){r&&Ee();var n=function(){return Oe(e,{subscr:t,trans:null})},o=Vr.trans?Te(Vr.transless,n):n();return r&&o.then(xe,xe),o}(h);c||(mo("storagemutated",l),c=!0),u=!0,Promise.resolve(d).then((function(e){u=!1,o||(n()?f():(i={},a=h,t.next&&t.next(e)))}),(function(e){u=!1,t.error&&t.error(e),s.unsubscribe()}))}};return f(),s}))},extendObservabilitySet:Dt,getByKeyPath:er,setByKeyPath:tr,delByKeyPath:function(e,t){"string"==typeof t?tr(e,t,void 0):"length"in t&&[].map.call(t,(function(t){tr(e,t,void 0)}))},shallowClone:H,deepClone:W,getObjectDiff:Eo,cmp:ho,asap:V,minKey:-1/0,addons:[],connections:io,errnames:br,dependencies:jo,semVer:"3.2.3",version:"3.2.3".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),Io.maxKey=bo(Io.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(mo("storagemutated",(function(e){var t;Ro||(ao?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ro=!0,dispatchEvent(t),Ro=!1)})),addEventListener("x-storagemutated-1",(function(e){var t=e.detail;Ro||It(t)})));var Ro=!1;if("undefined"!=typeof BroadcastChannel){var No=new BroadcastChannel("x-storagemutated-1");"function"==typeof No.unref&&No.unref(),mo("storagemutated",(function(e){Ro||No.postMessage(e)})),No.onmessage=function(e){e.data&&It(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){mo("storagemutated",(function(e){try{Ro||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&h(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:"x-storagemutated-1",changedParts:e})})))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(e){if("x-storagemutated-1"===e.key){var t=JSON.parse(e.newValue);t&&It(t.changedParts)}}));var Bo=self.document&&navigator.serviceWorker;Bo&&Bo.addEventListener("message",(function(e){var t=e.data;t&&"x-storagemutated-1"===t.type&&It(t.changedParts)}))}le.rejectionMapper=function(e,t){if(!e||u(e,X)||u(e,TypeError)||u(e,SyntaxError)||!e.name||!Sr[e.name])return e;var n=new Sr[e.name](t||e.message,e);return"stack"in e&&B(n,"stack",{get:function(){return this.inner.stack}}),n},Q(hr,co);var Lo=p(766),zo=p(685);function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ko(e)}function Uo(e,t){return Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uo(e,t)}var Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ko(e);if(t){var o=Ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":d(n))&&"function"!=typeof t?Rt(e):t;var n}(this,n)}}(n);function n(){var e;return function(e,t){if(!u(e,t))throw new TypeError("Cannot call a class as a function")}(this,n),Nt(Rt(e=t.call(this,"EsmOffline")),"syncQueue",void 0),Nt(Rt(e),"dynamicOfflineData",void 0),e.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),e.syncQueue=e.table("syncQueue"),e.dynamicOfflineData=e.table("dynamicOfflineData"),e}return n}(To),Fo=new Vo,Ho={},qo=(0,zo.createGlobalStore)("offline-synchronization",{});function Wo(){return Wo=Kt((function(){var e,t,n,r,o,i,a,s,u,c,l,f,h;return Ht(this,(function(d){switch(d.label){case 0:return qo.getState().synchronization?[2]:[4,Fo.syncQueue.count()];case 1:e=d.sent(),t={},n=Object.entries(Ho),r=n.length,o={},i=new AbortController,a=function(){var e,t,n=qo.getState().synchronization;qo.setState({synchronization:(e=Vt({},n),t={pendingCount:n.pendingCount-1},t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e)})},d.label=2;case 2:d.trys.push([2,,10,11]),qo.setState({synchronization:{totalCount:e,pendingCount:e,abortController:i}}),s=0,d.label=3;case 3:if(!(s<r&&n.length>0))return[3,8];u=n.length,d.label=4;case 4:return u--?(c=Ft(n[u],2),l=c[0],f=c[1],(h=f.dependsOn.map((function(e){return t[e]}))).every(Boolean)?(o[l]={},[4,Promise.all(h)]):[3,6]):[3,7];case 5:d.sent(),t[l]=function(e,t,n,r){return Go.apply(this,arguments)}(f,o,i,a),n.splice(u,1),d.label=6;case 6:return[3,4];case 7:return s++,[3,3];case 8:return[4,Promise.allSettled(Object.values(t))];case 9:return d.sent(),[3,11];case 10:return qo.setState({synchronization:void 0}),[7];case 11:return[2]}}))})),Wo.apply(this,arguments)}function Go(){return Go=Kt((function(e,t,n,r){var o,i,a,s,u,c,l,f,h,d,p,v,y,m,g,b,w;return Ht(this,(function(_){switch(_.label){case 0:return o=e.type,i=e.dependsOn,a=e.process,s=[],u=[],[4,Gt()];case 1:return c=_.sent(),[4,Fo.syncQueue.where({type:o,userId:c}).each((function(e,t){s.push([t.primaryKey,e.content,e.descriptor]),u.push(e.content)}))];case 2:_.sent(),l=0,_.label=3;case 3:if(!(l<s.length))return[3,11];f=Ft(s[l],3),h=f[0],d=f[1],p=f[2],v=p.id,y=p.dependencies,m=void 0===y?[]:y,_.label=4;case 4:return _.trys.push([4,7,9,10]),[4,a(d,{abort:n,index:l,items:u,userId:c,dependencies:m.map((function(e){var n=e.id,r=e.type;return i.includes(r)?t[r][n]:void 0}))})];case 5:return g=_.sent(),void 0!==v&&(t[o][v]=g),[4,Fo.syncQueue.delete(h)];case 6:return _.sent(),[3,10];case 7:return b=_.sent(),[4,Fo.syncQueue.update(h,{lastError:{name:null==b?void 0:b.name,message:null!==(w=null==b?void 0:b.message)&&void 0!==w?w:null==b?void 0:b.toString()}})];case 8:return _.sent(),[3,10];case 9:return r(),[7];case 10:return l++,[3,3];case 11:return[2]}}))})),Go.apply(this,arguments)}function $o(){return($o=Kt((function(){var e;return Ht(this,(function(t){switch(t.label){case 0:return[4,(0,Lo.getLoggedInUser)()];case 1:return[2,(null==(e=t.sent())?void 0:e.uuid)||"*"]}}))}))).apply(this,arguments)}function Qo(){return(Qo=Kt((function(e,t,n,r){var o;return Ht(this,(function(i){switch(i.label){case 0:return void 0===(o=r&&r.id)?[3,2]:[4,Fo.syncQueue.where({type:t,userId:e}).filter((function(e){return(null==e?void 0:e.descriptor.id)===o})).delete().catch(To.errnames.DatabaseClosed)];case 1:i.sent(),i.label=2;case 2:return[4,Fo.syncQueue.add({type:t,content:n,userId:e,descriptor:r||{},createdOn:new Date}).catch(To.errnames.DatabaseClosed,(function(){return-1}))];case 3:return[2,i.sent()]}}))}))).apply(this,arguments)}function Yo(){return(Yo=Kt((function(e,t,n){return Ht(this,(function(r){switch(r.label){case 0:return[4,Gt()];case 1:return[4,$t(r.sent(),e,t,n)];case 2:return[2,r.sent()]}}))}))).apply(this,arguments)}function Xo(){return(Xo=Kt((function(e,t){return Ht(this,(function(n){switch(n.label){case 0:return[4,Xt(e,t)];case 1:return[2,n.sent().map((function(e){return e.content}))]}}))}))).apply(this,arguments)}function Jo(){return(Jo=Kt((function(e,t){var n;return Ht(this,(function(r){switch(r.label){case 0:return n=t?{type:t,userId:e}:{userId:e},[4,Fo.syncQueue.where(n).toArray().catch(To.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function Zo(){return(Zo=Kt((function(e){return Ht(this,(function(t){switch(t.label){case 0:return[4,Gt()];case 1:return[4,Yt(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function ei(){return(ei=Kt((function(e){return Ht(this,(function(t){switch(t.label){case 0:return[4,Gt()];case 1:return[4,Xt(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function ti(){return(ti=Kt((function(e){return Ht(this,(function(t){switch(t.label){case 0:return[4,Fo.syncQueue.get(e).catch(To.errnames.DatabaseClosed,(function(){}))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function ni(){return(ni=Kt((function(e){var t,n,r;return Ht(this,(function(o){switch(o.label){case 0:return[4,en(e)];case 1:if(!(n=o.sent()))throw new Error("No sync item with the ID ".concat(e," exists."));if(!(r=null===(t=Ho[n.type])||void 0===t?void 0:t.options.onBeginEditSyncItem))throw new Error("A sync item with the ID ".concat(e,' exists, but the associated handler (if one exists) doesn\'t support editing the item. You can avoid this error by either verifying that sync items of this type can be edited via the "canEditSynchronizationItemsOfType(type: string)" function or alternatively ensure that the synchronizaton handler for sync items of type "').concat(n.type,'" supports editing items.'));return r(n),[2]}}))}))).apply(this,arguments)}function ri(){return(ri=Kt((function(e){return Ht(this,(function(t){switch(t.label){case 0:return[4,Fo.syncQueue.delete(e).catch(To.errnames.DatabaseClosed)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}for(var oi,ii={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ai=new Uint8Array(16),si=[],ui=0;ui<256;++ui)si.push((ui+256).toString(16).slice(1));var ci=function(e,t,n){if(ii.randomUUID&&!t&&!e)return ii.randomUUID();var r=(e=e||{}).random||(e.rng||an)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return si[e[t+0]]+si[e[t+1]]+si[e[t+2]]+si[e[t+3]]+"-"+si[e[t+4]]+si[e[t+5]]+"-"+si[e[t+6]]+si[e[t+7]]+"-"+si[e[t+8]]+si[e[t+9]]+"-"+si[e[t+10]]+si[e[t+11]]+si[e[t+12]]+si[e[t+13]]+si[e[t+14]]+si[e[t+15]]}(r)},li="OFFLINE+",fi={};function hi(){return(hi=fn((function(e){return hn(this,(function(t){switch(t.label){case 0:return[4,On()];case 1:return[4,yn(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function di(){return(di=fn((function(e,t){var n;return hn(this,(function(r){switch(r.label){case 0:return n=t?{type:t,users:e}:{users:e},[4,(new Vo).dynamicOfflineData.where(n).toArray().catch(To.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function pi(){return(pi=fn((function(e,t){return hn(this,(function(n){switch(n.label){case 0:return[4,On()];case 1:return[4,gn(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function vi(){return vi=fn((function(e,t,n){var r,o;return hn(this,(function(i){switch(i.label){case 0:return[4,(r=new Vo).dynamicOfflineData.get({type:t,identifier:n}).catch(To.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?[3,3]:[4,r.dynamicOfflineData.add({users:[e],type:t,identifier:n}).catch(To.errnames.DatabaseClosed)];case 2:return i.sent(),[3,5];case 3:return o.users.includes(e)?[3,5]:[4,r.dynamicOfflineData.update(o.id,{users:(a=o.users,function(e){if(Array.isArray(e))return cn(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e])}).catch(To.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}var a}))})),vi.apply(this,arguments)}function yi(){return(yi=fn((function(e,t){return hn(this,(function(n){switch(n.label){case 0:return[4,On()];case 1:return[4,wn(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function mi(){return mi=fn((function(e,t,n){var r,o;return hn(this,(function(i){switch(i.label){case 0:return[4,(r=new Vo).dynamicOfflineData.get({type:t,identifier:n,users:e}).catch(To.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?o.users.length>1?[4,r.dynamicOfflineData.update(o.id,{users:o.users.filter((function(t){return t!==e}))}).catch(To.errnames.DatabaseClosed)]:[3,3]:[3,5];case 2:return i.sent(),[3,5];case 3:return[4,r.dynamicOfflineData.delete(o.id).catch(To.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}}))})),mi.apply(this,arguments)}function gi(){return gi=fn((function(e,t){var n;return hn(this,(function(r){switch(r.label){case 0:return[4,vn(e)];case 1:return n=r.sent(),[4,Promise.all(n.map((o=fn((function(e){return hn(this,(function(n){return[2,Sn(e.type,e.identifier,t)]}))})),function(e){return o.apply(this,arguments)})))];case 2:return r.sent(),[2]}var o}))})),gi.apply(this,arguments)}function bi(){return bi=fn((function(e,t,n){var r,o,i,a,s,u,c,l,f;return hn(this,(function(h){switch(h.label){case 0:return[4,mn(e,t)];case 1:return h.sent(),r=new Vo,[4,On()];case 2:return o=h.sent(),[4,r.dynamicOfflineData.get({type:e,identifier:t}).catch(To.errnames.DatabaseClosed,(function(){}))];case 3:return i=h.sent(),a=dn().filter((function(t){return t.type===e})),i?[4,Promise.all(a.map((d=fn((function(e){var r,o,i;return hn(this,(function(a){try{return e.sync(t,n),[2,{id:e.id,error:void 0}]}catch(t){return i=null!==(o=null===(r=t.message)||void 0===r?void 0:r.toString())&&void 0!==o?o:t.toString(),[2,{id:e.id,error:i}]}return[2]}))})),function(e){return d.apply(this,arguments)})))]:[2];case 4:return s=h.sent(),u=s.filter((function(e){return!e.error})).map((function(e){return e.id})),c=s.filter((function(e){return e.error})).map((function(e){return e.id})),l=s.filter((function(e){return e.error})).map((function(e){return{handlerId:e.id,message:e.error}})),f={syncedOn:new Date,syncedBy:o,succeededHandlers:u,erroredHandlers:c,errors:l},i.id?[4,r.dynamicOfflineData.update(i.id,{syncState:f}).catch(To.errnames.DatabaseClosed)]:[3,6];case 5:h.sent(),h.label=6;case 6:return[2]}var d}))})),bi.apply(this,arguments)}function wi(){return(wi=fn((function(){var e;return hn(this,(function(t){switch(t.label){case 0:return[4,(0,Lo.getLoggedInUser)()];case 1:if(!(e=t.sent().uuid))throw new Error("Using the dynamic offline data API requires a logged in user.");return[2,e]}}))}))).apply(this,arguments)}var _i=(0,zo.createGlobalStore)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});function Si(){return Si=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){En(i,r,o,a,s,"next",e)}function s(e){En(i,r,o,a,s,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){switch(t.label){case 0:return An(),[4,Sn("patient",e)];case 1:return t.sent(),[2]}}))})),Si.apply(this,arguments)}}(),v}())}}}))},254:e=>{"use strict";e.exports=n},45:e=>{"use strict";e.exports=r},513:e=>{"use strict";e.exports=o},740:e=>{"use strict";e.exports=i},685:e=>{"use strict";e.exports=a},901:e=>{"use strict";e.exports=s},688:e=>{"use strict";e.exports=u},64:e=>{"use strict";e.exports=c},954:e=>{"use strict";e.exports=l},493:e=>{"use strict";e.exports=f},281:e=>{"use strict";e.exports=h},792:e=>{"use strict";e.exports=d}},t={};function p(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,p),o.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var v={};return(()=>{"use strict";var e=p(714);const t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 380 119"><path fill="var(--logo-red)" fill-rule="evenodd" d="M40.29 40.328a27.76 27.76 0 0 1 19.688-8.154c7.669 0 14.613 3.102 19.646 8.116l.021-18.54A42.84 42.84 0 0 0 59.978 17c-7.089 0-13.813 1.93-19.709 4.968z" clip-rule="evenodd"/><path fill="var(--logo-orange)" fill-rule="evenodd" d="M79.645 79.671a27.74 27.74 0 0 1-19.684 8.154c-7.67 0-14.614-3.101-19.651-8.116l-.02 18.54A42.86 42.86 0 0 0 59.96 103a42.8 42.8 0 0 0 19.672-4.751z" clip-rule="evenodd"/><path fill="var(--logo-purple)" fill-rule="evenodd" d="M40.328 79.696c-5.038-5.037-8.154-11.995-8.154-19.685 0-7.669 3.102-14.612 8.116-19.65l-18.54-.02A42.85 42.85 0 0 0 17 60.012a42.8 42.8 0 0 0 4.752 19.672z" clip-rule="evenodd"/><path fill="var(--logo-green)" fill-rule="evenodd" d="M79.634 40.289a27.75 27.75 0 0 1 8.154 19.688 27.74 27.74 0 0 1-8.117 19.646l18.542.02a42.84 42.84 0 0 0 4.749-19.666c0-7.09-1.714-13.779-4.751-19.675z" clip-rule="evenodd"/><path fill="var(--logo-black)" fill-rule="evenodd" d="M156.184 60.003c0-8.749-6.118-15.777-15.025-15.777-8.909 0-15.025 7.028-15.025 15.776s6.116 15.78 15.025 15.78c8.907 0 15.025-7.031 15.025-15.78m-34.881 0c0-11.483 8.318-19.96 19.856-19.96 11.536 0 19.855 8.478 19.855 19.96 0 11.484-8.319 19.964-19.855 19.964-11.538 0-19.856-8.48-19.856-19.964M179.514 75.54c5.507 0 9.05-4.14 9.05-9.482s-3.543-9.483-9.05-9.483c-5.505 0-9.046 4.142-9.046 9.483s3.541 9.482 9.046 9.482M166.22 53.306h4.248v3.704h.11c2.344-2.725 5.449-4.36 9.154-4.36 8.014 0 13.408 5.67 13.408 13.408 0 7.63-5.613 13.406-12.752 13.406-4.58 0-8.231-2.29-9.81-5.178h-.11V90.87h-4.248zM217.773 63.768c-.163-4.305-3-7.193-7.686-7.193-4.685 0-7.79 2.888-8.335 7.193zm3.653 10.412c-3.001 3.868-6.596 5.284-11.339 5.284-8.01 0-12.914-5.993-12.914-13.406 0-7.901 5.559-13.407 13.08-13.407 7.196 0 12.096 4.906 12.096 13.354v1.362h-20.597c.325 4.413 3.704 8.173 8.335 8.173 3.65 0 6.105-1.307 8.12-3.868zM227.854 59.357c0-2.347-.216-4.361-.216-6.05h4.031c0 1.362.11 2.776.11 4.194h.11c1.144-2.505 4.306-4.85 8.5-4.85 6.705 0 9.699 4.252 9.699 10.41v15.748h-4.248v-15.31c0-4.253-1.856-6.924-5.833-6.924-5.503 0-7.903 3.979-7.903 9.811V78.81h-4.25zM259.211 41.009h6.708L278.8 70.79h.107l12.982-29.782h6.549v37.99h-4.506V47.124h-.106L280.192 79h-2.738l-13.629-31.875h-.107V79h-4.507zM312.392 57.752h4.023c4.992 0 11.487 0 11.487-6.282 0-5.47-4.776-6.276-9.177-6.276h-6.333zm-4.506-16.744h9.711c7.352 0 15.132 1.072 15.132 10.462 0 5.527-3.594 9.125-9.495 10.037l10.784 17.492h-5.525l-10.304-17.063h-5.797V79h-4.506zM358.123 47.713c-1.506-2.414-4.187-3.487-6.926-3.487-3.973 0-8.1 1.88-8.1 6.385 0 3.49 1.931 5.047 7.994 6.98 5.903 1.878 11.377 3.809 11.377 11.267 0 7.567-6.495 11.11-13.36 11.11-4.402 0-9.125-1.45-11.7-5.262l3.862-3.165c1.61 2.794 4.83 4.24 8.105 4.24 3.862 0 8.263-2.253 8.263-6.601 0-4.669-3.165-5.474-9.928-7.728-5.366-1.771-9.442-4.134-9.442-10.463 0-7.298 6.277-10.945 12.929-10.945 4.241 0 7.836 1.178 10.625 4.45zM185.885 90.998h1.424l2.734 6.326h.023l2.758-6.326h1.391v8.07h-.957v-6.77h-.024l-2.894 6.77h-.582l-2.894-6.77h-.022v6.77h-.957zM198.386 90.998h5.071v.889h-4.114v2.53h3.841v.89h-3.841v2.871h4.32v.89h-5.277zM207.891 98.178h1.822c1.848 0 3.25-.935 3.25-3.146s-1.402-3.145-3.25-3.145h-1.822zm-.957-7.18h3.1c1.583 0 3.953 1.06 3.953 4.034 0 2.976-2.37 4.036-3.953 4.036h-3.1zM217.007 99.068h.958v-8.07h-.958zM227.105 92.663c-.478-.651-1.242-.981-2.017-.981-1.8 0-3.077 1.584-3.077 3.35 0 1.87 1.266 3.352 3.077 3.352.98 0 1.767-.4 2.337-1.129l.718.603c-.718.97-1.766 1.414-3.055 1.414-2.314 0-4.102-1.79-4.102-4.24 0-2.37 1.709-4.239 4.102-4.239 1.095 0 2.166.377 2.849 1.266zM233.557 92.23h-.024l-1.675 3.965h3.294zm-.434-1.232h.9l3.43 8.07h-1.117l-.82-1.984h-4.034l-.832 1.984h-1.082zM240.006 90.998h.958v7.18h3.692v.89h-4.65zM252.793 94.554h.855c1.06 0 2.439 0 2.439-1.334 0-1.161-1.014-1.333-1.948-1.333h-1.346zm-.957-3.556h2.063c1.561 0 3.214.228 3.214 2.222 0 1.174-.764 1.938-2.018 2.132l2.291 3.716h-1.173l-2.19-3.625h-1.23v3.625h-.957zM260.51 90.998h5.07v.889h-4.112v2.53h3.84v.89h-3.84v2.871h4.318v.89h-5.276zM274.402 92.663c-.479-.651-1.242-.981-2.018-.981-1.8 0-3.077 1.584-3.077 3.35 0 1.87 1.266 3.352 3.077 3.352.98 0 1.767-.4 2.336-1.129l.718.603c-.718.97-1.766 1.414-3.054 1.414-2.313 0-4.102-1.79-4.102-4.24 0-2.37 1.709-4.239 4.102-4.239 1.094 0 2.166.377 2.85 1.266zM284.739 95.032c0-1.857-1.3-3.35-3.191-3.35-1.892 0-3.191 1.493-3.191 3.35 0 1.858 1.299 3.352 3.191 3.352s3.191-1.494 3.191-3.352m-7.409 0c0-2.439 1.767-4.239 4.218-4.239s4.217 1.8 4.217 4.239-1.767 4.24-4.217 4.24c-2.451 0-4.218-1.8-4.218-4.24M289.514 94.554h.855c1.059 0 2.438 0 2.438-1.334 0-1.161-1.014-1.333-1.948-1.333h-1.345zm-.958-3.556h2.062c1.563 0 3.215.228 3.215 2.222 0 1.174-.763 1.938-2.016 2.132l2.289 3.716h-1.173l-2.189-3.625h-1.23v3.625h-.958zM297.81 98.178h1.825c1.845 0 3.246-.935 3.246-3.146s-1.401-3.145-3.246-3.145h-1.825zm-.957-7.18h3.1c1.585 0 3.956 1.06 3.956 4.034 0 2.976-2.371 4.036-3.956 4.036h-3.1zM315.407 92.422c-.318-.513-.89-.74-1.47-.74-.844 0-1.721.4-1.721 1.356 0 .74.41 1.072 1.698 1.482 1.254.399 2.417.81 2.417 2.393 0 1.607-1.38 2.36-2.838 2.36-.935 0-1.938-.309-2.486-1.118l.821-.672c.342.593 1.026.9 1.721.9.821 0 1.754-.478 1.754-1.402 0-.991-.67-1.163-2.107-1.64-1.139-.377-2.006-.878-2.006-2.222 0-1.551 1.333-2.326 2.747-2.326.9 0 1.664.25 2.256.946zM320.844 95.591l-3.009-4.593h1.219l2.269 3.647 2.335-3.647h1.152l-3.01 4.593v3.477h-.956zM330.565 92.422c-.32-.513-.89-.74-1.471-.74-.843 0-1.72.4-1.72 1.356 0 .74.41 1.072 1.698 1.482 1.254.399 2.415.81 2.415 2.393 0 1.607-1.378 2.36-2.837 2.36-.934 0-1.937-.309-2.485-1.118l.821-.672c.342.593 1.026.9 1.721.9.821 0 1.754-.478 1.754-1.402 0-.991-.671-1.163-2.107-1.64-1.139-.377-2.006-.878-2.006-2.222 0-1.551 1.333-2.326 2.746-2.326.901 0 1.665.25 2.257.946zM339.283 91.887h-2.666v7.18h-.958v-7.18h-2.667v-.889h6.291zM341.665 90.998h5.071v.889h-4.113v2.53h3.84v.89h-3.84v2.871h4.319v.89h-5.277zM349.905 90.998h1.424l2.735 6.326h.023l2.758-6.326h1.391v8.07h-.958v-6.77h-.023l-2.894 6.77h-.582l-2.895-6.77h-.021v6.77h-.958z" clip-rule="evenodd"/></svg>',n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 380 119"><path fill="var(--logo-red)" fill-rule="evenodd" d="M40.29 40.328a27.76 27.76 0 0 1 19.688-8.154c7.669 0 14.613 3.102 19.647 8.116l.02-18.54A42.84 42.84 0 0 0 59.978 17c-7.089 0-13.813 1.93-19.709 4.968z" clip-rule="evenodd"/><path fill="var(--logo-orange)" fill-rule="evenodd" d="M79.645 79.671a27.74 27.74 0 0 1-19.684 8.154c-7.67 0-14.614-3.101-19.651-8.116l-.02 18.54A42.86 42.86 0 0 0 59.96 103a42.8 42.8 0 0 0 19.672-4.751z" clip-rule="evenodd"/><path fill="var(--logo-purple)" fill-rule="evenodd" d="M40.328 79.696c-5.038-5.037-8.154-11.995-8.154-19.685 0-7.669 3.102-14.612 8.116-19.65l-18.54-.02A42.85 42.85 0 0 0 17 60.012a42.8 42.8 0 0 0 4.752 19.672z" clip-rule="evenodd"/><path fill="var(--logo-green)" fill-rule="evenodd" d="M79.634 40.289a27.75 27.75 0 0 1 8.154 19.688 27.74 27.74 0 0 1-8.117 19.646l18.542.02a42.84 42.84 0 0 0 4.749-19.666c0-7.09-1.714-13.779-4.751-19.675z" clip-rule="evenodd"/><path fill="var(--logo-black)" fill-rule="evenodd" d="M156.184 60.003c0-8.749-6.118-15.777-15.025-15.777-8.909 0-15.025 7.028-15.025 15.776s6.116 15.78 15.025 15.78c8.907 0 15.025-7.031 15.025-15.78m-34.881 0c0-11.483 8.318-19.96 19.856-19.96 11.536 0 19.855 8.478 19.855 19.96 0 11.484-8.319 19.964-19.855 19.964-11.538 0-19.856-8.48-19.856-19.964M179.514 75.54c5.507 0 9.05-4.14 9.05-9.482s-3.543-9.483-9.05-9.483c-5.505 0-9.046 4.142-9.046 9.483s3.541 9.482 9.046 9.482M166.22 53.306h4.248v3.704h.11c2.344-2.725 5.449-4.36 9.154-4.36 8.014 0 13.408 5.67 13.408 13.408 0 7.63-5.613 13.406-12.752 13.406-4.58 0-8.231-2.29-9.81-5.178h-.11V90.87h-4.248zM217.773 63.768c-.163-4.305-3-7.193-7.686-7.193-4.685 0-7.79 2.888-8.335 7.193zm3.653 10.412c-3.001 3.868-6.596 5.284-11.339 5.284-8.01 0-12.914-5.993-12.914-13.406 0-7.901 5.559-13.407 13.08-13.407 7.196 0 12.096 4.906 12.096 13.354v1.362h-20.597c.325 4.413 3.704 8.173 8.335 8.173 3.65 0 6.105-1.307 8.12-3.868zM227.854 59.357c0-2.347-.216-4.361-.216-6.05h4.031c0 1.362.11 2.776.11 4.194h.11c1.144-2.505 4.306-4.85 8.5-4.85 6.705 0 9.699 4.252 9.699 10.41v15.748h-4.248v-15.31c0-4.253-1.856-6.924-5.833-6.924-5.503 0-7.903 3.979-7.903 9.811V78.81h-4.25zM259.211 41.009h6.708L278.8 70.79h.107l12.982-29.782h6.549v37.99h-4.506V47.124h-.106L280.192 79h-2.738l-13.629-31.875h-.107V79h-4.507zM312.392 57.752h4.023c4.992 0 11.487 0 11.487-6.282 0-5.47-4.776-6.276-9.177-6.276h-6.333zm-4.506-16.744h9.711c7.352 0 15.132 1.072 15.132 10.462 0 5.527-3.594 9.125-9.495 10.037L334.018 79h-5.525l-10.304-17.063h-5.797V79h-4.506zM358.123 47.713c-1.506-2.414-4.187-3.487-6.926-3.487-3.973 0-8.1 1.88-8.1 6.385 0 3.49 1.931 5.047 7.994 6.98 5.903 1.878 11.377 3.809 11.377 11.267 0 7.567-6.495 11.11-13.36 11.11-4.402 0-9.125-1.45-11.7-5.262l3.862-3.165c1.61 2.794 4.83 4.24 8.105 4.24 3.862 0 8.263-2.253 8.263-6.601 0-4.669-3.165-5.474-9.928-7.728-5.366-1.771-9.442-4.134-9.442-10.463 0-7.298 6.277-10.945 12.929-10.945 4.241 0 7.836 1.178 10.625 4.45z" clip-rule="evenodd"/></svg>',r='<svg xmlns="http://www.w3.org/2000/svg" width="121" height="118"><path fill="var(--logo-red)" fill-rule="evenodd" d="M40.436 39.474a27.93 27.93 0 0 1 19.811-8.205c7.717 0 14.705 3.122 19.77 8.167l.021-18.656A43.1 43.1 0 0 0 60.247 16c-7.133 0-13.899 1.943-19.832 4.999z" clip-rule="evenodd"/><path fill="var(--logo-orange)" fill-rule="evenodd" d="M80.038 79.064a27.92 27.92 0 0 1-19.808 8.205c-7.717 0-14.705-3.121-19.774-8.167l-.02 18.657a43.1 43.1 0 0 0 19.794 4.78 43.1 43.1 0 0 0 19.794-4.781z" clip-rule="evenodd"/><path fill="var(--logo-purple)" fill-rule="evenodd" d="M40.474 79.089c-5.069-5.069-8.205-12.07-8.205-19.808 0-7.717 3.121-14.704 8.167-19.773l-18.657-.02A43.1 43.1 0 0 0 17 59.281a43.1 43.1 0 0 0 4.782 19.795z" clip-rule="evenodd"/><path fill="var(--logo-green)" fill-rule="evenodd" d="M80.027 39.435a27.93 27.93 0 0 1 8.205 19.811 27.92 27.92 0 0 1-8.168 19.769l18.658.021a43.1 43.1 0 0 0 4.779-19.79 43.1 43.1 0 0 0-4.781-19.798z" clip-rule="evenodd"/></svg>';var o=document.createElement("div"),i=function(){document.body.appendChild(o)};function a(e,t){var n=(new DOMParser).parseFromString(t,"image/svg+xml").querySelector("svg");n&&(n.id=e,o.appendChild(n))}o.id="omrs-svgs-container",o.style.display="none","complete"===document.readyState?i():window.addEventListener("load",i);const s='<svg xmlns="http://www.w3.org/2000/svg"><path d="M9 2H7v2h2zM4 2H2v2h2zM14 2h-2v2h2zM9 7H7v2h2zM4 7H2v2h2zM14 7h-2v2h2zM9 12H7v2h2zM4 12H2v2h2zM14 12h-2v2h2z"/></svg>';var u={"Brand color #1":{_default:"#005d5d",_type:e.Type.String},"Brand color #2":{_default:"#004144",_type:e.Type.String},"Brand color #3":{_default:"#007d79",_type:e.Type.String},implementationName:{_type:e.Type.String,_description:"A name of the place (or authority) where all possible locations a user can choose are located.",_default:"Clinic"},patientPhotoConceptUuid:{_type:e.Type.ConceptUuid,_default:"736e8771-e501-4615-bfa7-570c03f4bef5",_description:"Used to look up the patient photo, which is stored as an attachment obs. Set to `null` in order to disable the feature and use only generated avatars. To remove the avatars entirely, use extension configuration's `remove` feature."},preferredCalendar:{_type:e.Type.Object,_description:"Keys should be locale codes, and values should be the preferred calendar for that locale. For example, {'am': 'ethiopic'}.",_default:{am:"ethiopic"},_elements:{_validators:[e.validators.oneOf(["buddhist","chinese","coptic","dangi","ethioaa","ethiopic","gregory","hebrew","indian","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","iso8601","japanese","persian","roc","islamicc"])]}}};Number.MAX_SAFE_INTEGER;var c=p(954),l=p(792),f={};try{process.env.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES&&"true"===process.env.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES?f.enableCssCustomProperties=!0:f.enableCssCustomProperties=!1,process.env.CARBON_ENABLE_USE_CONTROLLED_STATE_WITH_VALUE&&"true"===process.env.CARBON_ENABLE_USE_CONTROLLED_STATE_WITH_VALUE?f.enableUseControlledStateWithValue=!0:f.enableUseControlledStateWithValue=!1,process.env.CARBON_ENABLE_CSS_GRID&&"true"===process.env.CARBON_ENABLE_CSS_GRID?f.enableCssGrid=!0:f.enableCssGrid=!1,process.env.CARBON_ENABLE_V11_RELEASE?"true"===process.env.CARBON_ENABLE_V11_RELEASE?f.enableV11Release=!0:f.enableV11Release=!1:f.enableV11Release=!0,process.env.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST&&"true"===process.env.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST?f.enableExperimentalTileContrast=!0:f.enableExperimentalTileContrast=!1,process.env.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS&&"true"===process.env.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS?f.enableV12TileDefaultIcons=!0:f.enableV12TileDefaultIcons=!1,process.env.CARBON_ENABLE_V12_OVERFLOWMENU&&"true"===process.env.CARBON_ENABLE_V12_OVERFLOWMENU?f.enableV12Overflowmenu=!0:f.enableV12Overflowmenu=!1}catch(e){f.enableCssCustomProperties=!1,f.enableUseControlledStateWithValue=!1,f.enableCssGrid=!1,f.enableV11Release=!0,f.enableExperimentalTileContrast=!1,f.enableV12TileDefaultIcons=!1,f.enableV12Overflowmenu=!1}var h=[{name:"enable-css-custom-properties",description:"Describe what the flag does",enabled:f.enableCssCustomProperties},{name:"enable-use-controlled-state-with-value",description:"Enable components to be created in either a controlled or uncontrolled mode\n",enabled:f.enableUseControlledStateWithValue},{name:"enable-css-grid",description:"Enable CSS Grid Layout in the Grid and Column React components\n",enabled:f.enableCssGrid},{name:"enable-v11-release",description:"Enable the features and functionality for the v11 Release\n",enabled:f.enableV11Release},{name:"enable-experimental-tile-contrast",description:"Enable the experimental tile improved contrast styles\n",enabled:f.enableExperimentalTileContrast},{name:"enable-v12-tile-default-icons",description:"Enable rendering of default icons in the tile components\n",enabled:f.enableV12TileDefaultIcons},{name:"enable-v12-overflowmenu",description:"Enable the use of the v12 OverflowMenu leveraging the Menu subcomponents\n",enabled:f.enableV12Overflowmenu}];function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"==(void 0===(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?"undefined":(o=i)&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)?i:String(i)),r)}var o,i}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var g=function(){function e(t){var n=this;(function(e,t){if(n=e,!(null!=(r=t)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r})(this,e),this.flags=new Map,t&&Object.keys(t).forEach((function(e){n.flags.set(e,t[e])}))}var t,n;return t=e,n=[{key:"checkForFlag",value:function(e){if(!this.flags.has(e))throw new Error("Unable to find a feature flag with the name: `".concat(e,"`"))}},{key:"add",value:function(e,t){if(this.flags.has(e))throw new Error("The feature flag: ".concat(e," already exists"));this.flags.set(e,t)}},{key:"enable",value:function(e){this.checkForFlag(e),this.flags.set(e,!0)}},{key:"disable",value:function(e){this.checkForFlag(e),this.flags.set(e,!1)}},{key:"merge",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.flags.set(n,e[n])}))}},{key:"mergeWithScope",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.flags);try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),o=r[0],i=r[1];this.flags.has(o)||this.flags.set(o,i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"enabled",value:function(e){return this.checkForFlag(e),this.flags.get(e)}}],n&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),b=new g(undefined),w=0;w<h.length;w++){var S=h[w];b.add(S.name,S.enabled)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(){b.merge.apply(b,arguments)}({"enable-css-custom-properties":!0,"enable-css-grid":!0,"enable-v11-release":!0,"enable-experimental-tile-contrast":!1}),p(279),new l.Subject,new l.Subject,p(976),new l.Subject,new l.Subject;var k=Object.freeze({__proto__:null,get start(){return ut},get ensureJQuerySupport(){return Ne},get setBootstrapMaxTime(){return ye},get setMountMaxTime(){return me},get setUnmountMaxTime(){return ge},get setUnloadMaxTime(){return be},get registerApplication(){return $e},get unregisterApplication(){return Ye},get getMountedApps(){return He},get getAppStatus(){return We},get unloadApplication(){return Xe},get checkActivityFunctions(){return Qe},get getAppNames(){return qe},get pathToActiveWhen(){return et},get navigateToUrl(){return Pe},get patchHistoryApi(){return De},get triggerAppChange(){return ot},get addErrorHandler(){return T},get removeErrorHandler(){return M},get mountRootParcel(){return fe},get NOT_LOADED(){return R},get LOADING_SOURCE_CODE(){return N},get NOT_BOOTSTRAPPED(){return B},get BOOTSTRAPPING(){return L},get NOT_MOUNTED(){return z},get MOUNTING(){return K},get UPDATING(){return V},get LOAD_ERROR(){return q},get MOUNTED(){return U},get UNLOADING(){return H},get UNMOUNTING(){return F},get SKIP_BECAUSE_BROKEN(){return W}}),P=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent,A=function(){try{var e=new P("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?P:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},j=[];function C(e,t,n){var r=I(e,t,n);j.length?j.forEach((function(e){return e(r)})):setTimeout((function(){throw r}))}function T(e){if("function"!=typeof e)throw Error(D(28,!1));j.push(e)}function M(e){if("function"!=typeof e)throw Error(D(29,!1));var t=!1;return j=j.filter((function(n){var r=n===e;return t=t||r,!r})),t}function D(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(e,": ").concat(t?t+" ":"","See https://single-spa.js.org/error/?code=").concat(e).concat(r.length?"&arg=".concat(r.join("&arg=")):"")}function I(e,t,n){var r,o,i,a="".concat(X(t)," '").concat(Q(t),"' died in status ").concat(t.status,": ");if(o=e,null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):o instanceof i){try{e.message=a+e.message}catch(e){}r=e}else{console.warn(D(30,!1,t.status,Q(t)));try{r=Error(a+JSON.stringify(e))}catch(t){r=e}}return r.appOrParcelName=Q(t),t.status=n,r}var R="NOT_LOADED",N="LOADING_SOURCE_CODE",B="NOT_BOOTSTRAPPED",L="BOOTSTRAPPING",z="NOT_MOUNTED",K="MOUNTING",U="MOUNTED",V="UPDATING",F="UNMOUNTING",H="UNLOADING",q="LOAD_ERROR",W="SKIP_BECAUSE_BROKEN";function G(e){return e.status===U}function $(e){try{return e.activeWhen(window.location)}catch(t){return C(t,e,W),!1}}function Q(e){return e.name}function Y(e){return Boolean(e.unmountThisParcel)}function X(e){return Y(e)?"parcel":"application"}function J(){for(var e=arguments.length-1;e>0;e--)for(var t in arguments[e])"__proto__"!==t&&(arguments[e-1][t]=arguments[e][t]);return arguments[0]}function Z(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function ee(e){return e&&("function"==typeof e||(t=e,Array.isArray(t)&&!Z(t,(function(e){return"function"!=typeof e}))));var t}function te(e,t){var n=e[t]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=X(e),o=Q(e);return function(e){return n.reduce((function(n,i,a){return n.then((function(){var n=i(e);return ne(n)?n:Promise.reject(D(15,!1,r,o,t,a))}))}),Promise.resolve())}}function ne(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}var re=[];function oe(e,t){var n=function(){return e.status=z,e};return Promise.resolve().then((function(){return e.status!==B?e:(e.status=L,e.bootstrap?we(e,"bootstrap").then(n).catch((function(n){if(t)throw I(n,e,W);return C(n,e,W),e})):Promise.resolve().then(n))}))}function ie(e,t){return Promise.resolve().then((function(){var n=function(){return we(e,"unmount").then((function(){e.status=z}),(function(n){if(t)throw I(n,e,W);C(n,e,W)}))};if(e.status!==U)return e;e.status=F;var r=Object.keys(e.parcels).map((function(t){return e.parcels[t].unmountThisParcel()}));return Promise.all(r).then(n,(function(r){return n().then((function(){var n=Error(r.message);if(t)throw I(n,e,W);C(n,e,W)}))})).then((function(){return e}))}))}var ae=!1,se=!1;function ue(e,t){return Promise.resolve().then((function(){return e.status!==z?e:(ae||(window.dispatchEvent(new A("single-spa:before-first-mount")),ae=!0),e.status=K,we(e,"mount").then((function(){return e.status=U,se||(window.dispatchEvent(new A("single-spa:first-mount")),se=!0),e})).catch((function(n){var r=function(){if(t)throw I(n,e,W);return C(n,e,W),e};return e.status=U,ie(e,!0).then(r,r)})))}))}var ce=0,le={parcels:{}};function fe(){return he.apply(le,arguments)}function he(e,t){var n=this;if(!e||"object"!=typeof e&&"function"!=typeof e)throw Error(D(2,!1));if(e.name&&"string"!=typeof e.name)throw Error(D(3,!1,x(e.name)));var r=ce++,o=e.name||"parcel-".concat(r);if("object"!=typeof t)throw Error(D(4,!1,o,void 0===t?"undefined":x(t)));if(!t.domElement)throw Error(D(5,!1,o));var i,a="function"==typeof e,s=a?e:function(){return Promise.resolve(e)},u={id:r,parcels:{},status:a?N:B,customProps:t,parentName:Q(n),unmountThisParcel:function(){return d.then((function(){if(u.status!==U)throw Error(D(6,!1,o,u.status));return ie(u,!0)})).then((function(e){return u.parentName&&delete n.parcels[u.id],e})).then((function(e){return l(e),e})).catch((function(e){throw u.status=W,f(e),e}))}};n.parcels[r]=u;var c=s();if(!c||"function"!=typeof c.then)throw Error(D(7,!1));c=c.then((function(e){if(!e)throw Error(D(8,!1));if(o=e.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!ee(e.bootstrap))throw Error(D(9,!1,o));if(!ee(e.mount))throw Error(D(10,!1,o));if(!ee(e.unmount))throw Error(D(11,!1,o));if(e.update&&!ee(e.update))throw Error(D(12,!1,o));var t=te(e,"bootstrap"),n=te(e,"mount"),a=te(e,"unmount");u.status=B,u.name=o,u.bootstrap=t,u.mount=n,u.unmount=a,u.timeouts=_e(e.timeouts),e.update&&(u.update=te(e,"update"),i.update=function(e){return u.customProps=e,de((t=u,Promise.resolve().then((function(){if(t.status!==U)throw Error(D(32,!1,Q(t)));return t.status=V,we(t,"update").then((function(){return t.status=U,t})).catch((function(e){throw I(e,t,W)}))}))));var t})}));var l,f,h=c.then((function(){return oe(u,!0)})),d=h.then((function(){return ue(u,!0)})),p=new Promise((function(e,t){l=e,f=t}));return i={mount:function(){return de(Promise.resolve().then((function(){if(u.status!==z)throw Error(D(13,!1,o,u.status));return n.parcels[r]=u,ue(u)})))},unmount:function(){return de(u.unmountThisParcel())},getStatus:function(){return u.status},loadPromise:de(c),bootstrapPromise:de(h),mountPromise:de(d),unmountPromise:de(p)}}function de(e){return e.then((function(){return null}))}function pe(e){var t=Q(e),n="function"==typeof e.customProps?e.customProps(t,window.location):e.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(D(40,!1),t,n));var r=J({},n,{name:t,mountParcel:he.bind(e),singleSpa:k});return Y(e)&&(r.unmountSelf=e.unmountThisParcel),r}var ve={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}};function ye(e,t,n){if("number"!=typeof e||e<=0)throw Error(D(16,!1));ve.bootstrap={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function me(e,t,n){if("number"!=typeof e||e<=0)throw Error(D(17,!1));ve.mount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function ge(e,t,n){if("number"!=typeof e||e<=0)throw Error(D(18,!1));ve.unmount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function be(e,t,n){if("number"!=typeof e||e<=0)throw Error(D(19,!1));ve.unload={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function we(e,t){var n=e.timeouts[t],r=n.warningMillis,o=X(e);return new Promise((function(i,a){var s=!1,u=!1;e[t](pe(e)).then((function(e){s=!0,i(e)})).catch((function(e){s=!0,a(e)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=D(31,!1,t,o,Q(e),n.millis);function l(e){if(!s)if(!0===e)u=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!u){var t=e,o=t*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(t+1)}),r)}}}))}function _e(e){var t={};for(var n in ve)t[n]=J({},ve[n],e&&e[n]||{});return t}function Se(e){return Promise.resolve().then((function(){return e.loadPromise?e.loadPromise:e.status!==R&&e.status!==q?e:(e.status=N,e.loadPromise=Promise.resolve().then((function(){var r=e.loadApp(pe(e));if(!ne(r))throw n=!0,Error(D(33,!1,Q(e)));return r.then((function(n){var r;e.loadErrorTime=null,"object"!=typeof(t=n)&&(r=34),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!ee(t.bootstrap)&&(r=35),ee(t.mount)||(r=36),ee(t.unmount)||(r=37);var o=X(t);if(r){var i;try{i=JSON.stringify(t)}catch(e){}return console.error(D(r,!1,o,Q(e),i),t),C(void 0,e,W),e}return t.devtools&&t.devtools.overlays&&(e.devtools.overlays=J({},e.devtools.overlays,t.devtools.overlays)),e.status=B,e.bootstrap=te(t,"bootstrap"),e.mount=te(t,"mount"),e.unmount=te(t,"unmount"),e.unload=te(t,"unload"),e.timeouts=_e(t.timeouts),delete e.loadPromise,e}))})).catch((function(t){var r;return delete e.loadPromise,n?r=W:(r=q,e.loadErrorTime=(new Date).getTime()),C(t,e,r),e})));var t,n}))}var Oe,Ee="undefined"!=typeof window,xe={hashchange:[],popstate:[]},ke=["hashchange","popstate"];function Pe(e){var t;if("string"==typeof e)t=e;else if(this&&this.href)t=this.href;else{if(!(e&&e.currentTarget&&e.currentTarget.href&&e.preventDefault))throw Error(D(14,!1));t=e.currentTarget.href,e.preventDefault()}var n=Ie(window.location.href),r=Ie(t);0===t.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=t:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,t)}function Ae(e){var t=this;if(e){var n=e[0].type;ke.indexOf(n)>=0&&xe[n].forEach((function(n){try{n.apply(t,e)}catch(e){setTimeout((function(){throw e}))}}))}}function je(){it([],arguments)}function Ce(e,t){return function(){var n=window.location.href,r=e.apply(this,arguments),o=window.location.href;return Oe&&n===o||window.dispatchEvent(function(e,t){var n;try{n=new PopStateEvent("popstate",{state:e})}catch(t){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,e)}return n.singleSpa=!0,n.singleSpaTrigger=t,n}(window.history.state,t)),r}}var Te=null,Me=!1;function De(e){if(Me)throw Error(D(43,!1));Oe=!e||!e.hasOwnProperty("urlRerouteOnly")||e.urlRerouteOnly,Me=!0,Te=window.history.replaceState,window.addEventListener("hashchange",je),window.addEventListener("popstate",je);var t=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(e,n){if(!("function"==typeof n&&ke.indexOf(e)>=0)||Z(xe[e],(function(e){return e===n})))return t.apply(this,arguments);xe[e].push(n)},window.removeEventListener=function(e,t){if(!("function"==typeof t&&ke.indexOf(e)>=0))return n.apply(this,arguments);xe[e]=xe[e].filter((function(e){return e!==t}))},window.history.pushState=Ce(window.history.pushState,"pushState"),window.history.replaceState=Ce(Te,"replaceState")}function Ie(e){var t=document.createElement("a");return t.href=e,t}Ee&&(window.singleSpaNavigate?console.warn(D(41,!1)):window.singleSpaNavigate=Pe);var Re=!1;function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!Re){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return Be.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return Be.call(this,n,window.removeEventListener,e,t,arguments)},Re=!0}}function Be(e,t,n,r,o){return"string"!=typeof n?e.apply(this,o):(n.split(/\s+/).forEach((function(e){ke.indexOf(e)>=0&&(t(e,r),n=n.replace(e,""))})),""===n.trim()?this:e.apply(this,o))}var Le={};function ze(e){return Promise.resolve().then((function(){var t=Le[Q(e)];if(!t)return e;if(e.status===R)return Ke(e,t),e;if(e.status===H)return t.promise.then((function(){return e}));if(e.status!==z&&e.status!==q)return e;var n=e.status===q?Promise.resolve():we(e,"unload");return e.status=H,n.then((function(){return Ke(e,t),e})).catch((function(n){return function(e,t,n){delete Le[Q(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,C(n,e,W),t.reject(n)}(e,t,n),e}))}))}function Ke(e,t){delete Le[Q(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,e.status=R,t.resolve()}function Ue(e,t,n,r){Le[Q(e)]={app:e,resolve:n,reject:r},Object.defineProperty(Le[Q(e)],"promise",{get:t})}function Ve(e){return Le[e]}var Fe=[];function He(){return Fe.filter(G).map(Q)}function qe(){return Fe.map(Q)}function We(e){var t=Z(Fe,(function(t){return Q(t)===e}));return t?t.status:null}var Ge=!1;function $e(e,t,n,r){var o=function(e,t,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof e?(function(e){if(Array.isArray(e)||null===e)throw Error(D(39,!1));var t=["name","app","activeWhen","customProps"],n=Object.keys(e).reduce((function(e,n){return t.indexOf(n)>=0?e:e.concat(n)}),[]);if(0!==n.length)throw Error(D(38,!1,t.join(", "),n.join(", ")));if("string"!=typeof e.name||0===e.name.length)throw Error(D(20,!1));if("object"!=typeof e.app&&"function"!=typeof e.app)throw Error(D(20,!1));var r=function(e){return"string"==typeof e||"function"==typeof e};if(!(r(e.activeWhen)||Array.isArray(e.activeWhen)&&e.activeWhen.every(r)))throw Error(D(24,!1));if(!Ze(e.customProps))throw Error(D(22,!1))}(e),i.name=e.name,i.loadApp=e.app,i.activeWhen=e.activeWhen,i.customProps=e.customProps):(function(e,t,n,r){if("string"!=typeof e||0===e.length)throw Error(D(20,!1));if(!t)throw Error(D(23,!1));if("function"!=typeof n)throw Error(D(24,!1));if(!Ze(r))throw Error(D(22,!1))}(e,t,n,r),i.name=e,i.loadApp=t,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(e){return e||{}}(i.customProps),i.activeWhen=function(e){var t=Array.isArray(e)?e:[e];return t=t.map((function(e){return"function"==typeof e?e:et(e)})),function(e){return t.some((function(t){return t(e)}))}}(i.activeWhen),i}(e,t,n,r);if(ct()||Ge||(Ge=!0,setTimeout((function(){ct()||console.warn(D(1,!1))}),5e3)),-1!==qe().indexOf(o.name))throw Error(D(21,!1,o.name));Fe.push(J({loadErrorTime:null,status:R,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),Ee&&(Ne(),it())}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return Fe.filter((function(t){return t.activeWhen(e)})).map(Q)}function Ye(e){if(0===Fe.filter((function(t){return Q(t)===e})).length)throw Error(D(25,!1,e));return(Ee?Xe(e,{waitForUnmount:!1}):Promise.resolve()).then((function(){var t=Fe.map(Q).indexOf(e);Fe.splice(t,1)}))}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof e)throw Error(D(26,!1));var n=Z(Fe,(function(t){return Q(t)===e}));if(!n)throw Error(D(27,!1,e));var r,o=Ve(Q(n));if(t&&t.waitForUnmount){if(o)return o.promise;var i=new Promise((function(e,t){Ue(n,(function(){return i}),e,t)}));return i}return o?(r=o.promise,Je(n,o.resolve,o.reject)):r=new Promise((function(e,t){Ue(n,(function(){return r}),e,t),Je(n,e,t)})),r}function Je(e,t,n){Promise.resolve().then((function(){if(Z(Qe(),(function(t){return t===Q(e)})))return ot()})).then((function(){return ie(e).then(ze).then((function(){t(),setTimeout((function(){it()}))}))})).catch(n)}function Ze(e){return!e||"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)}function et(e,t){var n=function(e,t){var n=function(n){var a=e.slice(r,n).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(i+=o?"[^/]+/?":a,n===e.length)if(o)t&&(i+="$");else{var s=t?"":".*";i="/"===i.charAt(i.length-1)?"".concat(i).concat(s,"$"):"".concat(i,"(/").concat(s,")?(#.*)?$")}o=!o,r=n},r=0,o=!1,i="^";"/"!==e[0]&&(e="/"+e);for(var a=0;a<e.length;a++){var s=e[a];(!o&&":"===s||o&&"/"===s)&&n(a)}return n(e.length),new RegExp(i,"i")}(e,t);return function(e){var t=e.origin;t||(t="".concat(e.protocol,"//").concat(e.host));var r=e.href.replace(t,"").replace(e.search,"").split("?")[0];return n.test(r)}}var tt=!1,nt=[],rt=Ee&&window.location.href;function ot(){return it()}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="function"==typeof(null==e?void 0:e.then)?e:Promise.resolve(e);p.push(t.catch((function(e){return console.warn(Error(D(42,!1))),console.warn(e),!1})))},o=function(){var t=He();e.forEach((function(e){return e.resolve(t)}));try{s(0===u.length?"no-app-change":"app-change",a()),s("routing-event",a())}catch(e){setTimeout((function(){throw e}))}if(tt=!1,nt.length>0){var n=nt;nt=[],it(n)}return t},i=function(){n||(e.forEach((function(e){Ae(e.eventArguments)})),Ae(t))},a=function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,o={},i=(E(e={},U,[]),E(e,z,[]),E(e,R,[]),E(e,W,[]),e);n?(h.concat(d).forEach((function(e,t){s(e,U)})),l.forEach((function(e){s(e,R)})),f.forEach((function(e){s(e,z)}))):u.forEach((function(e){s(e)}));var a={detail:{newAppStatuses:o,appsByNewStatus:i,totalAppChanges:u.length,originalEvent:null==t?void 0:t[0],oldUrl:v,newUrl:y}};return r&&J(a.detail,r),a;function s(e,t){var n=Q(e);t=t||We(n),o[n]=t,(i[t]=i[t]||[]).push(n)}},s=function(e,t){n||window.dispatchEvent(new A("single-spa:".concat(e),t))};if(tt)return new Promise((function(e,n){nt.push({resolve:e,reject:n,eventArguments:t})}));var u,c=function(){var e=[],t=[],n=[],r=[],o=(new Date).getTime();return Fe.forEach((function(i){var a=i.status!==W&&$(i);switch(i.status){case q:a&&o-i.loadErrorTime>=200&&n.push(i);break;case R:case N:a&&n.push(i);break;case B:case z:!a&&Ve(Q(i))?e.push(i):a&&r.push(i);break;case U:a||t.push(i)}})),{appsToUnload:e,appsToUnmount:t,appsToLoad:n,appsToMount:r}}(),l=c.appsToUnload,f=c.appsToUnmount,h=c.appsToLoad,d=c.appsToMount,p=[],v=rt,y=rt=window.location.href;return ct()?(tt=!0,u=l.concat(h,f,d),Promise.resolve().then((function(){return s(0===u.length?"before-no-app-change":"before-app-change",a(!0)),s("before-routing-event",a(!0,{cancelNavigation:r})),Promise.all(p).then((function(n){if(n.some((function(e){return e})))return Te.call(window.history,history.state,"",v.substring(location.origin.length)),rt=location.href,tt=!1,it(e,t,!0);var r=l.map(ze),u=f.map(ie).map((function(e){return e.then(ze)})).concat(r),c=Promise.all(u);c.then((function(){s("before-mount-routing-event",a(!0))}),(function(e){throw e}));var p=h.map((function(e){return Se(e).then((function(e){return at(e,c)}))})),y=d.filter((function(e){return h.indexOf(e)<0})).map((function(e){return at(e,c)}));return c.catch((function(e){throw i(),e})).then((function(){return i(),Promise.all(p.concat(y)).catch((function(t){throw e.forEach((function(e){return e.reject(t)})),t})).then(o).then((function(){}),(function(e){throw e}))}))}))}))):(u=h,Promise.resolve().then((function(){var e=h.map(Se);return Promise.all(e).then(i).then((function(){return[]})).catch((function(e){throw i(),e})).finally((function(){}))})))}function at(e,t){return $(e)?oe(e).then((function(e){return t.then((function(){return $(e)?ue(e):e}))})):t.then((function(){return e}))}var st=!1;function ut(e){st=!0,Ee&&(De(e),it())}function ct(){return st}var lt={getRawAppData:function(){return function(e){if(Array.isArray(e))return O(e)}(e=Fe)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e},reroute:it,NOT_LOADED:R,toLoadPromise:Se,toBootstrapPromise:oe,unregisterApplication:Ye,getProfilerData:function(){return re}};Ee&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=lt);var ft=p(685),ht=p(45);p(254),(0,ft.createGlobalStore)("modalState",{modalContainer:null,modalStack:[]}),window.getComputedStyle(document.body).overflow,p(740),p(513),p(901);(0,ft.createGlobalStore)("workspace",{context:"",openWorkspaces:[],prompt:null,workspaceWindowState:"normal"}),p(281);var dt=null;try{dt=require("react").createContext()}catch(P){}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(r,c.Component);var t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}(this,n)}}(r);function r(e){var t;if(function(e,t){if(n=e,!(null!=(r=t)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}(this,r),yt(bt(t=n.call(this,e)),"handleRef",(function(e){t.el=e})),yt(bt(t),"addThingToDo",(function(e,n){t.state.hasError&&"unmount"!==e||(t.nextThingToDo=(t.nextThingToDo||Promise.resolve()).then((function(){if(!t.unmounted||"unmount"===e)return n.apply(void 0,arguments)})).catch((function(n){throw t.nextThingToDo=Promise.resolve(),t.setState({hasError:!0}),n&&n.message&&(n.message="During '".concat(e,"', parcel threw an error: ").concat(n.message)),t.props.handleError?t.props.handleError(n):setTimeout((function(){throw n})),n})))})),yt(bt(t),"getParcelProps",(function(){var e=vt(vt({},t.props),{},{domElement:t.el});return delete e.mountParcel,delete e.config,delete e.wrapWith,delete e.wrapStyle,delete e.appendTo,delete e.handleError,delete e.parcelDidMount,e})),t.state={hasError:!1},!e.config)throw new Error("single-spa-react's Parcel component requires the 'config' prop to either be a parcel config or a loading function that returns a promise. See https://github.com/single-spa/single-spa-react");return t}return(t=[{key:"componentDidMount",value:function(){var e=this;this.addThingToDo("mount",(function(){var t,n=e.props.mountParcel||e.mountParcel;if(!n)throw new Error("\n\t\t\t\t  <Parcel /> was not passed a mountParcel prop, nor is it rendered where mountParcel is within the React context.\n\t\t\t\t  If you are using <Parcel /> within a module that is not a single-spa application, you will need to import mountRootParcel from single-spa and pass it into <Parcel /> as a mountParcel prop\t\n\t\t\t\t");return e.el?t=e.el:(e.createdDomElement=t=document.createElement(e.props.wrapWith),Object.keys(e.props.wrapStyle).forEach((function(n){t.style[n]=e.props.wrapStyle[n]})),e.props.appendTo.appendChild(t)),e.parcel=n(e.props.config,vt({domElement:t},e.getParcelProps())),e.parcel.mountPromise.then(e.props.parcelDidMount),e.parcel.mountPromise}))}},{key:"componentDidUpdate",value:function(){var e=this;this.addThingToDo("update",(function(){if(e.parcel&&e.parcel.update)return e.parcel.update(e.getParcelProps())}))}},{key:"componentWillUnmount",value:function(){var e=this;this.addThingToDo("unmount",(function(){if(e.parcel&&"MOUNTED"===e.parcel.getStatus())return e.parcel.unmount()})),this.createdDomElement&&this.createdDomElement.parentNode.removeChild(this.createdDomElement),this.unmounted=!0}},{key:"render",value:function(){var e=this;if(this.props.appendTo)return dt&&dt.Consumer?c.createElement(dt.Consumer,null,(function(t){return e.mountParcel=t?t.mountParcel:null,null})):null;var t=dt&&dt.Consumer?c.createElement(dt.Consumer,null,(function(t){return e.mountParcel=t?t.mountParcel:null,null})):void 0;return c.createElement(this.props.wrapWith,{ref:this.handleRef,style:this.props.wrapStyle,className:this.props.wrapClassName},t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,t),r}();yt(wt,"defaultProps",{wrapWith:"div",wrapStyle:{},parcelDidMount:function(){}}),(0,ft.createGlobalStore)("left-nav",{slotName:null,basePath:window.spaBase});var _t=p(688);p(353);var St=p(921);const Ot=()=>{},Et=Ot(),xt=Object,kt=e=>e===Et,Pt=e=>"function"==typeof e,At=(e,t)=>({...e,...t}),jt=new WeakMap;let Ct=0;const Tt=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let o,i;if(xt(e)!==e||r||n==RegExp)o=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(o=jt.get(e),o)return o;if(o=++Ct+"~",jt.set(e,o),n==Array){for(o="@",i=0;i<e.length;i++)o+=Tt(e[i])+",";jt.set(e,o)}if(n==xt){o="#";const t=xt.keys(e).sort();for(;!kt(i=t.pop());)kt(e[i])||(o+=i+":"+Tt(e[i])+",");jt.set(e,o)}}return o},Mt=new WeakMap,Dt={},It={},Rt="undefined",Nt=typeof window!=Rt,Bt=typeof document!=Rt,Lt=(e,t)=>{const n=Mt.get(e);return[()=>!kt(t)&&e.get(t)||Dt,r=>{if(!kt(t)){const o=e.get(t);t in It||(It[t]=o),n[5](t,At(o,r),o||Dt)}},n[6],()=>!kt(t)&&t in It?It[t]:!kt(t)&&e.get(t)||Dt]};let zt=!0;const[Kt,Ut]=Nt&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ot,Ot],Vt={isOnline:()=>zt,isVisible:()=>{const e=Bt&&document.visibilityState;return kt(e)||"hidden"!==e}},Ft={initFocus:e=>(Bt&&document.addEventListener("visibilitychange",e),Kt("focus",e),()=>{Bt&&document.removeEventListener("visibilitychange",e),Ut("focus",e)}),initReconnect:e=>{const t=()=>{zt=!0,e()},n=()=>{zt=!1};return Kt("online",t),Kt("offline",n),()=>{Ut("online",t),Ut("offline",n)}}},Ht=!c.default.useId,qt=!Nt||"Deno"in window,Wt=e=>Nt&&typeof window.requestAnimationFrame!=Rt?window.requestAnimationFrame(e):setTimeout(e,1),Gt=qt?c.useEffect:c.useLayoutEffect,$t="undefined"!=typeof navigator&&navigator.connection,Qt=!qt&&$t&&(["slow-2g","2g"].includes($t.effectiveType)||$t.saveData),Yt=e=>{if(Pt(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?Tt(e):"",t]};let Xt=0;const Jt=()=>++Xt;async function Zt(...e){const[t,n,r,o]=e,i=At({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{});let a=i.populateCache;const s=i.rollbackOnError;let u=i.optimisticData;const c=i.throwOnError;if(Pt(n)){const e=n,r=[],o=t.keys();for(const n of o)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&r.push(n);return Promise.all(r.map(l))}return l(n);async function l(n){const[o]=Yt(n);if(!o)return;const[l,f]=Lt(t,o),[h,d,p,v]=Mt.get(t),y=()=>{const e=h[o];return(Pt(i.revalidate)?i.revalidate(l().data,n):!1!==i.revalidate)&&(delete p[o],delete v[o],e&&e[0])?e[0](2).then((()=>l().data)):l().data};if(e.length<3)return y();let m,g=r;const b=Jt();d[o]=[b,0];const w=!kt(u),_=l(),S=_.data,O=_._c,E=kt(O)?S:O;if(w&&(u=Pt(u)?u(E,S):u,f({data:u,_c:E})),Pt(g))try{g=g(E)}catch(e){m=e}if(g&&(e=>Pt(e.then))(g)){if(g=await g.catch((e=>{m=e})),b!==d[o][0]){if(m)throw m;return g}m&&w&&(e=>"function"==typeof s?s(e):!1!==s)(m)&&(a=!0,f({data:E,_c:Et}))}if(a&&!m)if(Pt(a)){const e=a(g,E);f({data:e,error:Et,_c:Et})}else f({data:g,error:Et,_c:Et});if(d[o][1]=Jt(),Promise.resolve(y()).then((()=>{f({_c:Et})})),!m)return g;if(c)throw m}}const en=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},tn=(e,t)=>{if(!Mt.has(e)){const n=At(Ft,t),r={},o=Zt.bind(Et,e);let i=Ot;const a={},s=(e,t)=>{const n=a[e]||[];return a[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},u=(t,n,r)=>{e.set(t,n);const o=a[t];if(o)for(const e of o)e(n,r)},c=()=>{if(!Mt.has(e)&&(Mt.set(e,[r,{},{},{},o,u,s]),!qt)){const t=n.initFocus(setTimeout.bind(Et,en.bind(Et,r,0))),o=n.initReconnect(setTimeout.bind(Et,en.bind(Et,r,1)));i=()=>{t&&t(),o&&o(),Mt.delete(e)}}};return c(),[e,o,c,i]}return[e,Mt.get(e)[4]]},[nn,rn]=tn(new Map),on=At({onLoadingSlow:Ot,onSuccess:Ot,onError:Ot,onErrorRetry:(e,t,n,r,o)=>{const i=n.errorRetryCount,a=o.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!kt(i)&&a>i||setTimeout(r,s,o)},onDiscarded:Ot,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Qt?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:Qt?5e3:3e3,compare:(e,t)=>Tt(e)==Tt(t),isPaused:()=>!1,cache:nn,mutate:rn,fallback:{}},Vt),an=(e,t)=>{const n=At(e,t);if(t){const{use:r,fallback:o}=e,{use:i,fallback:a}=t;r&&i&&(n.use=r.concat(i)),o&&a&&(n.fallback=At(o,a))}return n},sn=(0,c.createContext)({}),un=e=>{const{value:t}=e,n=(0,c.useContext)(sn),r=Pt(t),o=(0,c.useMemo)((()=>r?t(n):t),[r,n,t]),i=(0,c.useMemo)((()=>r?o:an(n,o)),[r,n,o]),a=o&&o.provider,s=(0,c.useRef)(Et);a&&!s.current&&(s.current=tn(a(i.cache||nn),o));const u=s.current;return u&&(i.cache=u[0],i.mutate=u[1]),Gt((()=>{if(u)return u[2]&&u[2](),u[3]}),[]),(0,c.createElement)(sn.Provider,At(e,{value:i}))},cn="$inf$",ln=Nt&&window.__SWR_DEVTOOLS_USE__,fn=ln?window.__SWR_DEVTOOLS_USE__:[],hn=e=>Pt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],dn=fn.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=Yt(t),[,,,o]=Mt.get(nn);if(r.startsWith(cn))return n(...e);const i=o[r];return kt(i)?n(...e):(delete o[r],i)}),r))),pn=e=>function(...t){const n=At(on,(0,c.useContext)(sn)),[r,o,i]=hn(t),a=an(n,i);let s=e;const{use:u}=a,l=(u||[]).concat(dn);for(let e=l.length;e--;)s=l[e](s);return s(r,o||a.fetcher||null,a)},vn=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},yn=(e,t)=>(...n)=>{const[r,o,i]=hn(n),a=(i.use||[]).concat(t);return e(r,o,{...i,use:a})};ln&&(window.__SWR_DEVTOOLS_REACT__=c.default);const mn=c.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),gn={dedupe:!0};xt.defineProperty(un,"defaultValue",{value:on}),pn(((e,t,n)=>{const{cache:r,compare:o,suspense:i,fallbackData:a,revalidateOnMount:s,revalidateIfStale:u,refreshInterval:l,refreshWhenHidden:f,refreshWhenOffline:h,keepPreviousData:d}=n,[p,v,y,m]=Mt.get(r),[g,b]=Yt(e),w=(0,c.useRef)(!1),_=(0,c.useRef)(!1),S=(0,c.useRef)(g),O=(0,c.useRef)(t),E=(0,c.useRef)(n),x=()=>E.current,k=()=>x().isVisible()&&x().isOnline(),[P,A,j,C]=Lt(r,g),T=(0,c.useRef)({}).current,M=kt(a)?n.fallback[g]:a,D=(e,t)=>{for(const n in T){const r=n;if("data"===r){if(!o(e[r],t[r])){if(!kt(e[r]))return!1;if(!o(V,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},I=(0,c.useMemo)((()=>{const e=!!g&&!!t&&(kt(s)?!x().isPaused()&&!i&&(!!kt(u)||u):s),n=t=>{const n=At(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=P(),o=C(),a=n(r),c=r===o?a:n(o);let l=a;return[()=>{const e=n(P());return D(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>c]}),[r,g]),R=(0,St.useSyncExternalStore)((0,c.useCallback)((e=>j(g,((t,n)=>{D(n,t)||e()}))),[r,g]),I[0],I[1]),N=!w.current,B=p[g]&&p[g].length>0,L=R.data,z=kt(L)?M:L,K=R.error,U=(0,c.useRef)(z),V=d?kt(L)?U.current:L:z,F=!(B&&!kt(K))&&(N&&!kt(s)?s:!x().isPaused()&&(i?!kt(z)&&u:kt(z)||u)),H=!!(g&&t&&N&&F),q=kt(R.isValidating)?H:R.isValidating,W=kt(R.isLoading)?H:R.isLoading,G=(0,c.useCallback)((async e=>{const t=O.current;if(!g||!t||_.current||x().isPaused())return!1;let r,i,a=!0;const s=e||{},u=!y[g]||!s.dedupe,c=()=>Ht?!_.current&&g===S.current&&w.current:g===S.current,l={isValidating:!1,isLoading:!1},f=()=>{A(l)},h=()=>{const e=y[g];e&&e[1]===i&&delete y[g]},d={isValidating:!0};kt(P().data)&&(d.isLoading=!0);try{if(u&&(A(d),n.loadingTimeout&&kt(P().data)&&setTimeout((()=>{a&&c()&&x().onLoadingSlow(g,n)}),n.loadingTimeout),y[g]=[t(b),Jt()]),[r,i]=y[g],r=await r,u&&setTimeout(h,n.dedupingInterval),!y[g]||y[g][1]!==i)return u&&c()&&x().onDiscarded(g),!1;l.error=Et;const e=v[g];if(!kt(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return f(),u&&c()&&x().onDiscarded(g),!1;const s=P().data;l.data=o(s,r)?s:r,u&&c()&&x().onSuccess(r,g,n)}catch(e){h();const t=x(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,u&&c()&&(t.onError(e,g,t),(!0===n||Pt(n)&&n(e))&&(x().revalidateOnFocus&&x().revalidateOnReconnect&&!k()||t.onErrorRetry(e,g,t,(e=>{const t=p[g];t&&t[0]&&t[0](3,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0}))))}return a=!1,f(),!0}),[g,r]),$=(0,c.useCallback)(((...e)=>Zt(r,S.current,...e)),[]);if(Gt((()=>{O.current=t,E.current=n,kt(L)||(U.current=L)})),Gt((()=>{if(!g)return;const e=G.bind(Et,gn);let t=0;const n=vn(g,p,((n,r={})=>{if(0==n){const n=Date.now();x().revalidateOnFocus&&n>t&&k()&&(t=n+x().focusThrottleInterval,e())}else if(1==n)x().revalidateOnReconnect&&k()&&e();else{if(2==n)return G();if(3==n)return G(r)}}));return _.current=!1,S.current=g,w.current=!0,A({_k:b}),F&&(kt(z)||qt?e():Wt(e)),()=>{_.current=!0,n()}}),[g]),Gt((()=>{let e;function t(){const t=Pt(l)?l(P().data):l;t&&-1!==e&&(e=setTimeout(n,t))}function n(){P().error||!f&&!x().isVisible()||!h&&!x().isOnline()?t():G(gn).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[l,f,h,g]),(0,c.useDebugValue)(V),i&&kt(z)&&g){if(!Ht&&qt)throw new Error("Fallback data is required when using suspense in SSR.");O.current=t,E.current=n,_.current=!1;const e=m[g];if(!kt(e)){const t=$(e);mn(t)}if(!kt(K))throw K;{const e=G(gn);kt(V)||(e.status="fulfilled",e.value=!0),mn(e)}}return{mutate:$,get data(){return T.data=!0,V},get error(){return T.error=!0,K},get isValidating(){return T.isValidating=!0,q},get isLoading(){return T.isLoading=!0,W}}}));var bn=p(641);function wn(e,t,n){return wn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Sn(o,n.prototype),o},wn.apply(null,arguments)}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}function Sn(e,t){return Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sn(e,t)}function On(e){var t="function"==typeof Map?new Map:void 0;return On=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return wn(e,arguments,_n(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Sn(n,e)},On(e)}(0,ft.createGlobalStore)("breadcrumbs",[]);var En="/ws/rest/v1";"".concat(En,"/session"),On(Error),"".concat(En,"/attachment"),(0,ft.createGlobalStore)("session",{loaded:!1,session:null}).subscribe((function(e){return e.session&&(t=e.session,i=null!==(o=null==t||null===(n=t.user)||void 0===n||null===(r=n.userProperties)||void 0===r?void 0:r.defaultLocale)&&void 0!==o?o:t.locale,a=document.documentElement.getAttribute("lang"),void(function(e){if(void 0===e||"string"!=typeof e)return!1;try{new Intl.Locale(e)}catch(e){return!1}return!0}(i)&&i!==a&&document.documentElement.setAttribute("lang",i)));var t,n,r,o,i,a})),p(593);var xn,kn,Pn,An,jn=function(){try{return JSON.parse(localStorage.getItem("openmrs:visitStoreState")||"null")}catch(e){return null}}()||{patientUuid:null,manuallySetVisitUuid:null};function Cn(e,t){return function(n){if(!e(n))return"function"==typeof t?t(n):t}}(0,ft.getGlobalStore)("visit",jn).subscribe((function(e){var t;t=e,localStorage.setItem("openmrs:visitStoreState",JSON.stringify(t))})),new l.BehaviorSubject(null),function(e){e.NEWVISIT="startVisit",e.EDITVISIT="editVisit",e.LOADING="loadingVisit"}(xn||(xn={})),function(e){e.NOTSTARTED="notStarted",e.ONGOING="ongoing"}(kn||(kn={})),(An=Pn||(Pn={})).Array="Array",An.Boolean="Boolean",An.ConceptUuid="ConceptUuid",An.Number="Number",An.Object="Object",An.String="String",An.UUID="UUID",An.PersonAttributeTypeUuid="PersonAttributeTypeUuid",An.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid";var Tn;function Mn(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function Dn(e){return function t(n){return 0===arguments.length||Mn(n)?t:e.apply(this,arguments)}}function In(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return Mn(n)?t:Dn((function(t){return e(n,t)}));default:return Mn(n)&&Mn(r)?t:Mn(n)?Dn((function(t){return e(t,r)})):Mn(r)?Dn((function(t){return e(n,t)})):e(n,r)}}}function Rn(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Nn(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}function Bn(e,t){return Object.prototype.hasOwnProperty.call(t,e)}Cn((function(e){if(!e||"string"!=typeof e)return!1;for(var t=/\${(.*?)}/g,n=t.exec(e);n;){if(!Tn.includes(n[1]))return!1;n=t.exec(e)}return!0}),"Should be a URL or path. The allowed template parameters are "+(Tn=[].concat(["openmrsBase","openmrsSpaBase"])).map((function(e){return"${"+e+"}"})).join(", "));const Ln="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var zn=Object.prototype.toString,Kn=function(){return"[object Arguments]"===zn.call(arguments)?function(e){return"[object Arguments]"===zn.call(e)}:function(e){return Bn("callee",e)}}();const Un=Kn;var Vn=!{toString:null}.propertyIsEnumerable("toString"),Fn=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Hn=function(){return arguments.propertyIsEnumerable("length")}(),qn=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const Wn="function"!=typeof Object.keys||Hn?Dn((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=Hn&&Un(e);for(t in e)!Bn(t,e)||o&&"length"===t||(r[r.length]=t);if(Vn)for(n=Fn.length-1;n>=0;)Bn(t=Fn[n],e)&&!qn(r,t)&&(r[r.length]=t),n-=1;return r})):Dn((function(e){return Object(e)!==e?[]:Object.keys(e)})),Gn=Dn((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function $n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function Qn(e,t,n,r){var o=function(e,t){return Yn(e,t,n.slice(),r.slice())},i=Rn(e);return!Nn((function(e,t){return!Nn(o,t,e)}),Rn(t),i)}function Yn(e,t,n,r){if(Ln(e,t))return!0;var o=Gn(e);if(o!==Gn(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if((void 0===e?"undefined":$n(e))!==(void 0===t?"undefined":$n(t))||!Ln(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Ln(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=n.length-1;i>=0;){if(n[i]===e)return r[i]===t;i-=1}switch(o){case"Map":return e.size===t.size&&Qn(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&Qn(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Wn(e);if(a.length!==Wn(t).length)return!1;var s=n.concat([e]),u=r.concat([t]);for(i=a.length-1;i>=0;){var c=a[i];if(!Bn(c,t)||!Yn(t[c],e[c],s,u))return!1;i-=1}return!0}var Xn=In((function(e,t){return Yn(e,t,[],[])}));const Jn=Xn;function Zn(e,t,n,r){var o,i=function(o){for(var i=t.length,a=0;a<i;){if(e===t[a])return n[a];a+=1}for(var s in t[a+1]=e,n[a+1]=o,e)o[s]=r?Zn(e[s],t,n,!0):e[s];return o};switch(Gn(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return o=e,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return e}}const er=Dn((function(e){return null!=e&&"function"==typeof e.clone?e.clone():Zn(e,[],[],!0)}));function tr(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return Mn(n)?t:In((function(t,r){return e(n,t,r)}));case 2:return Mn(n)&&Mn(r)?t:Mn(n)?In((function(t,n){return e(t,r,n)})):Mn(r)?In((function(t,r){return e(n,t,r)})):Dn((function(t){return e(n,r,t)}));default:return Mn(n)&&Mn(r)&&Mn(o)?t:Mn(n)&&Mn(r)?In((function(t,n){return e(t,n,o)})):Mn(n)&&Mn(o)?In((function(t,n){return e(t,r,n)})):Mn(r)&&Mn(o)?In((function(t,r){return e(n,t,r)})):Mn(n)?Dn((function(t){return e(t,r,o)})):Mn(r)?Dn((function(t){return e(n,t,o)})):Mn(o)?Dn((function(t){return e(n,r,t)})):e(n,r,o)}}}const nr=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var rr=Dn((function(e){return!!nr(e)||!!e&&"object"==typeof e&&!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));const or=rr;var ir=function(){var e=function(e){this.f=e};return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}(),ar=In((function(e,t){return function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,s,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,s,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(e.length,(function(){return e.apply(t,arguments)}))}));const sr=ar;function ur(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function cr(e,t,n,r){return e["@@transducer/result"](n[r](sr(e["@@transducer/step"],e),t))}var lr="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function fr(e,t,n){if("function"==typeof e&&(e=function(e){return new ir(e)}(e)),or(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return cr(e,t,n,"fantasy-land/reduce");if(null!=n[lr])return ur(e,t,n[lr]());if("function"==typeof n.next)return ur(e,t,n);if("function"==typeof n.reduce)return cr(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}const hr=tr(fr);function dr(e){return"[object Object]"===Object.prototype.toString.call(e)}var pr=tr((function(e,t,n){var r,o={};for(r in t)Bn(r,t)&&(o[r]=Bn(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)Bn(r,n)&&!Bn(r,o)&&(o[r]=n[r]);return o}));const vr=pr;var yr=tr((function e(t,n,r){return vr((function(n,r,o){return dr(r)&&dr(o)?e(t,r,o):t(n,r,o)}),n,r)}));const mr=yr,gr=In((function(e,t){return mr((function(e,t,n){return n}),e,t)}));var br=Cn((function(e){return Array.isArray(e)}),"must be an array"),wr=Cn((function(e){return"boolean"==typeof e}),"must be a boolean"),_r=Cn((function(e){return"number"==typeof e}),"must be a number"),Sr=Cn((function(e){return"string"==typeof e}),"must be a string"),Or=Cn((function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}),"must be an object (not an array or null)"),Er=Cn((function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^[0-9a-f]{36}$/i.test(e)}),"must be a valid UUID or a 36-character hexadecimal string"),xr=(0,ft.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{},moduleLoaded:{}}),kr=(0,ft.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(e){return{}}}()});kr.subscribe((function(e){var t;t=e.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(t))}));var Pr=(0,ft.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]});function Ar(e){return(0,ft.getGlobalStore)("config-module-".concat(e),{config:null,loaded:!1,translationOverridesLoaded:!1})}var jr=(0,ft.createGlobalStore)("config-implementer-tools",{config:{}});function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tr(e,t,n[t])}))}return e}function Dr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e){return function(e){if(Array.isArray(e))return Cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}function Br(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=Ar(s);if(e.moduleLoaded[s]){var c=Wr(s,e,t);u.setState({translationOverridesLoaded:!0,loaded:!0,config:c})}else{var l=Gr(s,e,t);u.setState({translationOverridesLoaded:!0,loaded:!1,config:l})}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}function Lr(e,t){var n,r,o=(n=Qr(qr(e,t)),function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=Ir(o.value,2),s=a[0],u=a[1],c=!0,l=!1,f=void 0;try{for(var h,d=Object.entries(u)[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=Ir(h.value,2),v=p[0];Hr(p[1],s,v)}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(e,t){var r,o;return(null===(r=n[t])||void 0===r?void 0:r.extensionSlots)&&(e[t]=null===(o=n[t])||void 0===o?void 0:o.extensionSlots),e}),{})),Object.keys(r).reduce((function(e,t){return Mr({},e,r[t])}),{})),i=Object.fromEntries(Object.entries(o).map((function(e){var t=Ir(e,2);return[t[0],{loaded:!0,config:t[1]}]}))),a=(0,ft.getGlobalStore)("config-extension-slots",{slots:{}}),s=a.getState(),u={slots:Mr({},s.slots,i)};Jn(s,u)||a.setState(u)}function zr(e,t){var n=function(e,t){var n=Vr(er(e.schemas)),r=Rr(e.providedConfigs.map((function(e){return[e.config,e.source]}))).concat([[t.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=Ir(s.value,2);n=Qr([n,Fr(c[0],c[1])])}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t);jr.setState({config:n})}function Kr(e,t,n){var r={},o=!0,i=!1,a=void 0;try{for(var s,u=t.mountedExtensions[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=Ur(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,e,n);r[c.slotName]=Dr(Mr({},r[c.slotName]),Tr({},c.extensionId,{config:l,loaded:!0}))}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}(0,ft.getGlobalStore)("config-extensions",{configs:{}}).setState({configs:r})}function Ur(e,t,n,r,o,i){var a,s,u,c,l=function(e){return Ir(e.split("#"),1)[0]}(r),f=o.schemas[l],h=f?l:t,d=qr(o,i),p=$r(e,d),v=null!==(c=null==p||null===(a=p.extensionSlots)||void 0===a||null===(s=a[n])||void 0===s||null===(u=s.configure)||void 0===u?void 0:u[r])&&void 0!==c?c:{},y=Qr([$r(h,d),v]),m=null!=f?f:o.schemas[t];Yr(m,y,h);var g=to(m,y);return Jr(m,g,h),delete g.extensionSlots,g}function Vr(e){return e.hasOwnProperty("_default")?Dr(Mr({},e),{_value:e._default,_source:"default"}):ro(e)?Object.keys(e).reduce((function(t,n){return t[n]=Vr(e[n]),t}),{}):{}}function Fr(e,t){return ro(e)?Object.keys(e).reduce((function(n,r){return n[r]=Fr(e[r],t),n}),{}):{_value:e,_source:t}}function Hr(e,t,n){var r="".concat(t,".extensionSlots.").concat(n),o="Extension slot config '".concat(r,"'"),i=Object.keys(e).filter((function(e){return!["add","remove","order","configure"].includes(e)}));i.length&&io(r,o+"' contains invalid keys '".concat(i.join("', '"),"'")),e.add&&(Array.isArray(e.add)&&e.add.every((function(e){return"string"==typeof e}))||io(r,o+".add' is invalid. Must be an array of strings (extension IDs)")),e.remove&&(Array.isArray(e.remove)&&e.remove.every((function(e){return"string"==typeof e}))||io(r,o+".remove' is invalid. Must be an array of strings (extension IDs)")),e.order&&(Array.isArray(e.order)&&e.order.every((function(e){return"string"==typeof e}))||io(r,o+".order' is invalid. Must be an array of strings (extension IDs)")),e.configure&&(ro(e.configure)||io(r,o+".configure' is invalid. Must be an object with extension IDs for keys"))}function qr(e,t){return Rr(e.providedConfigs.map((function(e){return e.config}))).concat([t.config])}function Wr(e,t,n){var r=t.schemas[e],o=$r(e,qr(t,n));Yr(r,o,e);var i=to(r,o);return Jr(r,i,e),delete i.extensionSlots,i}function Gr(e,t,n){var r=$r(e,qr(t,n)),o=to(so,r);return Jr(so,o,e),delete o.extensionSlots,o}function $r(e,t){var n=t.map((function(t){return t[e]})).filter((function(e){return!!e}));return Qr(n)}function Qr(e){return hr(gr)({},e)}function Yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t[u],l=n+"."+u,f=e[u];e.hasOwnProperty(u)?Xr(f,c,l):"extensionSlots"===u&&""!==n||io(l,"Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}function Xr(e,t,n){Zr(n,e._type,t),ro(t)?e._type===Pn.Object?function(e,t,n){if(e._elements){var r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t[u];Yr(e._elements,c,"".concat(n,".").concat(u))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}(e,t,n):e.hasOwnProperty("_default")||e.hasOwnProperty("_type")||Yr(e,t,n):e._type===Pn.Array&&function(e,t,n){if(Zr(n,Pn.Array,t)){if(no(e._elements))for(var r=0;r<t.length;r++)Xr(e._elements,t[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<t.length;o++){var i;Zr("".concat(n,"[").concat(o,"]"),null===(i=e._elements)||void 0===i?void 0:i._type,t[o])}}}(e,t,n)}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e)if(t!==e._default&&eo(n,e._validators,t),ro(t)){var r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t[u],l=n+"."+u,f=e[u];e._type===Pn.Object&&e._elements?Jr(e._elements,c,l):Jr(f,c,l)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}else if(Array.isArray(t)&&e._elements)for(var h=0;h<t.length;h++)Jr(e._elements,t[h],"".concat(n,"[").concat(h,"]"))}function Zr(e,t,n){return!t||eo(e,[{Array:br,Boolean:wr,ConceptUuid:Er,Number:_r,Object:Or,String:Sr,UUID:Er,PersonAttributeTypeUuid:Er,PatientIdentifierTypeUuid:Er}[t]],n)}function eo(e,t,n){var r=!0;if(t)try{var o=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=(0,s.value)(n);"string"==typeof c&&(io(e,"object"==typeof n?"Invalid configuration for ".concat(e,": ").concat(c):"Invalid configuration value ".concat(n," for ").concat(e,": ").concat(c)),r=!1)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}catch(t){console.error('Skipping invalid validator at "'.concat(e,'". Encountered error\n\t').concat(t))}return r}Br(xr.getState(),kr.getState()),xr.subscribe((function(e){return Br(e,kr.getState())})),kr.subscribe((function(e){return Br(xr.getState(),e)})),zr(xr.getState(),kr.getState()),xr.subscribe((function(e){return zr(e,kr.getState())})),kr.subscribe((function(e){return zr(xr.getState(),e)})),Lr(xr.getState(),kr.getState()),xr.subscribe((function(e){return Lr(e,kr.getState())})),kr.subscribe((function(e){return Lr(xr.getState(),e)})),Kr(xr.getState(),Pr.getState(),kr.getState()),xr.subscribe((function(e){Kr(e,Pr.getState(),kr.getState())})),Pr.subscribe((function(e){Kr(xr.getState(),e,kr.getState())})),kr.subscribe((function(e){Kr(xr.getState(),Pr.getState(),e)}));var to=function(e,t){var n=er(t);if(!e)return n;var r=!0,o=!1,i=void 0;try{for(var a,s=function(){var t=a.value,r=n[t],o=e[t];if(o&&(o.hasOwnProperty("_type")||o.hasOwnProperty("_default"))){n.hasOwnProperty(t)||(n[t]=o._default);var i=o._elements;if(r&&no(i))if(o._type===Pn.Array&&Array.isArray(r)){var s=r.map((function(e){return to(i,e)}));n[t]=s}else if(o._type===Pn.Object){var u=!0,c=!1,l=void 0;try{for(var f,h=Object.keys(r)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;r[d]=to(i,r[d])}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}}else if(ro(o)){var p=null!=r?r:{};ro(p)&&(n[t]=to(o,p))}},u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)s()}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n};function no(e){return!!e&&Object.keys(e).filter((function(e){return!["_default","_validators"].includes(e)})).length>0}function ro(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}var oo=new Set;function io(e,t){var n="".concat(e,":::").concat(t);oo.has(n)||(console.error(t),oo.add(n))}var ao={"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:Pn.Object,_default:{},_validators:[Cn((function(e){return Object.keys(e).every((function(e){return/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(e)}))}),(function(e){var t=Object.keys(e).filter((function(e){return!/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(e)}));return"The 'Translation overrides' object should have language codes for keys. Language codes must be in the form of a two-to-three letter language code optionally followed by a hyphen and a two-to-three letter country code. The following keys do not conform: ".concat(t.join(", "),".")}))]}},so=Mr({"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:Pn.Array,_default:[]}}},ao),uo=p(863);p(570);const co=function(e,t){return e===t||e!=e&&t!=t},lo=function(e,t){for(var n=e.length;n--;)if(co(e[n][0],t))return n;return-1};var fo=Array.prototype.splice;function ho(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ho.prototype.clear=function(){this.__data__=[],this.size=0},ho.prototype.delete=function(e){var t=this.__data__,n=lo(t,e);return!(n<0||(n==t.length-1?t.pop():fo.call(t,n,1),--this.size,0))},ho.prototype.get=function(e){var t=this.__data__,n=lo(t,e);return n<0?void 0:t[n][1]},ho.prototype.has=function(e){return lo(this.__data__,e)>-1},ho.prototype.set=function(e,t){var n=this.__data__,r=lo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const po=ho,vo="object"==typeof global&&global&&global.Object===Object&&global;var yo="object"==typeof self&&self&&self.Object===Object&&self;const mo=vo||yo||Function("return this")(),go=mo.Symbol;var bo=Object.prototype,wo=bo.hasOwnProperty,_o=bo.toString,So=go?go.toStringTag:void 0;var Oo=Object.prototype.toString;var Eo=go?go.toStringTag:void 0;const xo=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Eo&&Eo in Object(e)?function(e){var t=wo.call(e,So),n=e[So];try{e[So]=void 0;var r=!0}catch(e){}var o=_o.call(e);return r&&(t?e[So]=n:delete e[So]),o}(e):function(e){return Oo.call(e)}(e)},ko=function(e){var t,n=void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t;return null!=e&&("object"==n||"function"==n)},Po=function(e){if(!ko(e))return!1;var t=xo(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ao=mo["__core-js_shared__"];var jo,Co=(jo=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||""))?"Symbol(src)_1."+jo:"";var To=Function.prototype.toString;const Mo=function(e){if(null!=e){try{return To.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Do=/^\[object .+?Constructor\]$/,Io=Function.prototype,Ro=Object.prototype,No=Io.toString,Bo=Ro.hasOwnProperty,Lo=RegExp("^"+No.call(Bo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const zo=function(e){return!(!ko(e)||(t=e,Co&&Co in t))&&(Po(e)?Lo:Do).test(Mo(e));var t},Ko=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return zo(n)?n:void 0},Uo=Ko(mo,"Map"),Vo=Ko(Object,"create");var Fo=Object.prototype.hasOwnProperty;var Ho=Object.prototype.hasOwnProperty;function qo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qo.prototype.clear=function(){this.__data__=Vo?Vo(null):{},this.size=0},qo.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qo.prototype.get=function(e){var t=this.__data__;if(Vo){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Fo.call(t,e)?t[e]:void 0},qo.prototype.has=function(e){var t=this.__data__;return Vo?void 0!==t[e]:Ho.call(t,e)},qo.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vo&&void 0===t?"__lodash_hash_undefined__":t,this};const Wo=qo,Go=function(e,t){var n,r,o,i=e.__data__;return("string"==(o=void 0===(n=t)?"undefined":(r=n)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function $o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$o.prototype.clear=function(){this.size=0,this.__data__={hash:new Wo,map:new(Uo||po),string:new Wo}},$o.prototype.delete=function(e){var t=Go(this,e).delete(e);return this.size-=t?1:0,t},$o.prototype.get=function(e){return Go(this,e).get(e)},$o.prototype.has=function(e){return Go(this,e).has(e)},$o.prototype.set=function(e,t){var n=Go(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const Qo=$o;function Yo(e){var t=this.__data__=new po(e);this.size=t.size}Yo.prototype.clear=function(){this.__data__=new po,this.size=0},Yo.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yo.prototype.get=function(e){return this.__data__.get(e)},Yo.prototype.has=function(e){return this.__data__.has(e)},Yo.prototype.set=function(e,t){var n,r,o=this.__data__;if(n=o,null!=(r=po)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r){var i=o.__data__;if(!Uo||i.length<199)return i.push([e,t]),this.size=++o.size,this;o=this.__data__=new Qo(i)}return o.set(e,t),this.size=o.size,this};const Xo=Yo;function Jo(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qo;++t<n;)this.add(e[t])}Jo.prototype.add=Jo.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Jo.prototype.has=function(e){return this.__data__.has(e)};const Zo=Jo,ei=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},ti=function(e,t){return e.has(t)},ni=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new Zo:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var y=a?r(v,p,f,t,e,i):r(p,v,f,e,t,i);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!ei(t,(function(e,t){if(!ti(d,t)&&(p===e||o(p,e,n,r,i)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h},ri=mo.Uint8Array,oi=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},ii=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var ai=go?go.prototype:void 0,si=ai?ai.valueOf:void 0;const ui=Array.isArray;var ci=Object.prototype.propertyIsEnumerable,li=Object.getOwnPropertySymbols;const fi=li?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(li(e),(function(t){return ci.call(e,t)})))}:function(){return[]},hi=function(e){return null!=e&&"object"==typeof e},di=function(e){return hi(e)&&"[object Arguments]"==xo(e)};var pi=Object.prototype,vi=pi.hasOwnProperty,yi=pi.propertyIsEnumerable,mi=di(function(){return arguments}())?di:function(e){return hi(e)&&vi.call(e,"callee")&&!yi.call(e,"callee")};const gi=mi;var bi="object"==typeof exports&&exports&&!exports.nodeType&&exports,wi=bi&&"object"==typeof module&&module&&!module.nodeType&&module,_i=wi&&wi.exports===bi?mo.Buffer:void 0;const Si=(_i?_i.isBuffer:void 0)||function(){return!1};var Oi=/^(?:0|[1-9]\d*)$/;const Ei=function(e,t){var n,r=void 0===e?"undefined":(n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Oi.test(e))&&e>-1&&e%1==0&&e<t},xi=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ki={};ki["[object Float32Array]"]=ki["[object Float64Array]"]=ki["[object Int8Array]"]=ki["[object Int16Array]"]=ki["[object Int32Array]"]=ki["[object Uint8Array]"]=ki["[object Uint8ClampedArray]"]=ki["[object Uint16Array]"]=ki["[object Uint32Array]"]=!0,ki["[object Arguments]"]=ki["[object Array]"]=ki["[object ArrayBuffer]"]=ki["[object Boolean]"]=ki["[object DataView]"]=ki["[object Date]"]=ki["[object Error]"]=ki["[object Function]"]=ki["[object Map]"]=ki["[object Number]"]=ki["[object Object]"]=ki["[object RegExp]"]=ki["[object Set]"]=ki["[object String]"]=ki["[object WeakMap]"]=!1;var Pi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ai=Pi&&"object"==typeof module&&module&&!module.nodeType&&module,ji=Ai&&Ai.exports===Pi&&vo.process,Ci=function(){try{return Ai&&Ai.require&&Ai.require("util").types||ji&&ji.binding&&ji.binding("util")}catch(e){}}(),Ti=Ci&&Ci.isTypedArray;const Mi=Ti?(Di=Ti,function(e){return Di(e)}):function(e){return hi(e)&&xi(e.length)&&!!ki[xo(e)]};var Di,Ii=Object.prototype.hasOwnProperty;const Ri=function(e,t){var n=ui(e),r=!n&&gi(e),o=!n&&!r&&Si(e),i=!n&&!r&&!o&&Mi(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!Ii.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ei(c,u))||s.push(c);return s};var Ni=Object.prototype;const Bi=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object);var Li=Object.prototype.hasOwnProperty;const zi=function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||Ni))return Bi(e);var t,n,r=[];for(var o in Object(e))Li.call(e,o)&&"constructor"!=o&&r.push(o);return r},Ki=function(e){return null!=(t=e)&&xi(t.length)&&!Po(t)?Ri(e):zi(e);var t},Ui=function(e){return function(e,t,n){var r=t(e);return ui(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ki,fi)};function Vi(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var Fi=Object.prototype.hasOwnProperty;const Hi=Ko(mo,"DataView"),qi=Ko(mo,"Promise"),Wi=Ko(mo,"Set"),Gi=Ko(mo,"WeakMap");var $i="[object Map]",Qi="[object Promise]",Yi="[object Set]",Xi="[object WeakMap]",Ji="[object DataView]",Zi=Mo(Hi),ea=Mo(Uo),ta=Mo(qi),na=Mo(Wi),ra=Mo(Gi),oa=xo;(Hi&&oa(new Hi(new ArrayBuffer(1)))!=Ji||Uo&&oa(new Uo)!=$i||qi&&oa(qi.resolve())!=Qi||Wi&&oa(new Wi)!=Yi||Gi&&oa(new Gi)!=Xi)&&(oa=function(e){var t=xo(e),n="[object Object]"==t?e.constructor:void 0,r=n?Mo(n):"";if(r)switch(r){case Zi:return Ji;case ea:return $i;case ta:return Qi;case na:return Yi;case ra:return Xi}return t});const ia=oa;var aa="[object Arguments]",sa="[object Array]",ua="[object Object]",ca=Object.prototype.hasOwnProperty;const la=function(e,t,n,r,o,i){var a=ui(e),s=ui(t),u=a?sa:ia(e),c=s?sa:ia(t),l=(u=u==aa?ua:u)==ua,f=(c=c==aa?ua:c)==ua,h=u==c;if(h&&Si(e)){if(!Si(t))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new Xo),a||Mi(e)?ni(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ri(e),new ri(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return co(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=oi;case"[object Set]":var u=1&r;if(s||(s=ii),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=ni(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(si)return si.call(e)==si.call(t)}return!1}(e,t,u,n,r,o,i);if(!(1&n)){var d=l&&ca.call(e,"__wrapped__"),p=f&&ca.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,y=p?t.value():t;return i||(i=new Xo),o(v,y,n,r,i)}}return!!h&&(i||(i=new Xo),function(e,t,n,r,o,i){var a=1&n,s=Ui(e),u=s.length;if(u!=Ui(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Fi.call(t,l)))return!1}var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var d=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<u;){var v=e[l=s[c]],y=t[l];if(r)var m=a?r(y,v,l,t,e,i):r(v,y,l,e,t,i);if(!(void 0===m?v===y||o(v,y,n,r,i):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&Vi(g,g)&&"function"==typeof b&&Vi(b,b)||(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,r,o,i))},fa=function e(t,n,r,o,i){return t===n||(null==t||null==n||!hi(t)&&!hi(n)?t!=t&&n!=n:la(t,n,r,o,e,i))},ha=function(e,t){return fa(e,t)},da=function(e){return void 0===e};var pa=(0,ft.createGlobalStore)("extensionsInternal",{slots:{},extensions:{}}),va=function(){return(0,ft.getGlobalStore)("extensionsInternal",{slots:{},extensions:{}})};function ya(t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=Object.values(t.extensions)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=!0,l=!1,f=void 0;try{for(var h,d=u.instances[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;n.push({slotModuleName:p.slotModuleName,extensionModuleName:u.moduleName,slotName:p.slotName,extensionId:p.id})}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}ha(e.configExtensionStore.getState().mountedExtensions,n)||e.configExtensionStore.setState({mountedExtensions:n})}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||wa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e){return function(e){if(Array.isArray(e))return ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){if(e){if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(e,t):void 0}}ya(pa.getState()),pa.subscribe(ya),(0,ft.createGlobalStore)("modalRegistry",{modals:{}}),(0,ft.createGlobalStore)("workspaceRegistrations",{workspaces:{}}),new Set,va();var _a=va(),Sa=(0,ft.getGlobalStore)("extensions",{slots:{}}),Oa=(0,e.getExtensionSlotsConfigStore)(),Ea=(0,e.getExtensionsConfigStore)();function xa(t,n,r){var o={},i=!0,a=!1,s=void 0;try{for(var u,c=Object.entries(t.slots)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=ga(u.value,2),f=l[0],h=l[1],d=Aa(f,t,(0,e.getExtensionSlotConfigFromStore)(n,h.name).config,r);o[f]={moduleName:h.moduleName,assignedExtensions:d}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}ha(Sa.getState().slots,o)||Sa.setState({slots:o})}function ka(e){return ga(e.split("#"),1)[0]}function Pa(e,t,n,r){var o=t.indexOf(e);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var i=r.indexOf(e);return-1!==i?2e3+i:-1}function Aa(t,n,r,o){var i=function(e,t){var n=e.add||[],r=e.remove||[],o=e.order||[],i=_a.getState().extensions;return ba(t).concat(ba(n)).filter((function(e){return!r.includes(e)})).sort((function(e,n){var r,a,s=Pa(e,o,null===(r=i[ka(e)])||void 0===r?void 0:r.order,t),u=Pa(n,o,null===(a=i[ka(n)])||void 0===a?void 0:a.order,t);return-1===u?-1:-1===s?1:s-u}))}(r,n.slots[t].attachedIds),a=[],s=void 0,u=!0,c=!1,l=void 0;try{for(var f,h=i[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value,p=(0,e.getExtensionConfigFromStore)(o,t,d).config,v=ka(d),y=n.extensions[v];if(y){var m,g,b,w,_,S,O,E=null!==(S=null!==(_=null==p||null===(m=p["Display conditions"])||void 0===m?void 0:m.privileges)&&void 0!==_?_:y.privileges)&&void 0!==S?S:[];if(E&&("string"==typeof E||Array.isArray(E)&&E.length>0)){var x;if(da(s)&&(s=null!==(x=(0,bn.getSessionStore)().getState().session)&&void 0!==x?x:void 0),!(null==s?void 0:s.user))continue;if(!(0,bn.userHasAccess)(E,s.user))continue}var k,P,A,j,C=null!==(O=null==p||null===(g=p["Display conditions"])||void 0===g?void 0:g.expression)&&void 0!==O?O:null;if(null!==C){var T;da(s)&&(s=null!==(T=(0,bn.getSessionStore)().getState().session)&&void 0!==T?T:void 0);try{if(!(0,uo.evaluateAsBoolean)(C,{session:null!=s?s:null}))continue}catch(e){console.error("Error while evaluating expression ".concat(C),e);continue}}a.push({id:d,name:v,moduleName:y.moduleName,config:p,featureFlag:y.featureFlag,meta:y.meta,online:null===(P=null!==(k=null==p||null===(b=p["Display conditions"])||void 0===b?void 0:b.online)&&void 0!==k?k:y.online)||void 0===P||P,offline:null!==(j=null!==(A=null==p||null===(w=p["Display conditions"])||void 0===w?void 0:w.offline)&&void 0!==A?A:y.offline)&&void 0!==j&&j})}}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}return a}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ca(e,t,n[t])}))}return e}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}_a.subscribe((function(e){xa(e,Oa.getState(),Ea.getState())})),Oa.subscribe((function(e){xa(_a.getState(),e,Ea.getState())})),Ea.subscribe((function(e){xa(_a.getState(),Oa.getState(),e)}));var Da={flags:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(localStorage)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a.startsWith("openmrs:feature-flag:")){var s=a.replace("openmrs:feature-flag:",""),u=JSON.parse(localStorage.getItem("openmrs:feature-flag-meta:".concat(s))||"{}");e[s]=Ta({enabled:"true"===localStorage.getItem(a)},u)}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}()};(0,ft.getGlobalStore)("feature-flags",Da).subscribe((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e.flags)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=Ma(o.value,2),s=a[0],u=a[1];localStorage.setItem("openmrs:feature-flag:".concat(s),u.enabled.toString()),localStorage.setItem("openmrs:feature-flag-meta:".concat(s),JSON.stringify({label:u.label,description:u.description}))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}));const Ia="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ra=Object.keys,Na=Array.isArray;function Ba(e,t){return"object"!=typeof t||Ra(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Ia.Promise||(Ia.Promise=Promise);const La=Object.getPrototypeOf,za={}.hasOwnProperty;function Ka(e,t){return za.call(e,t)}function Ua(e,t){"function"==typeof t&&(t=t(La(e))),("undefined"==typeof Reflect?Ra:Reflect.ownKeys)(t).forEach((n=>{Fa(e,n,t[n])}))}const Va=Object.defineProperty;function Fa(e,t,n,r){Va(e,t,Ba(n&&Ka(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ha(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Fa(e.prototype,"constructor",e),{extend:Ua.bind(null,e.prototype)}}}}const qa=Object.getOwnPropertyDescriptor;function Wa(e,t){let n;return qa(e,t)||(n=La(e))&&Wa(n,t)}const Ga=[].slice;function $a(e,t,n){return Ga.call(e,t,n)}function Qa(e,t){return t(e)}function Ya(e){if(!e)throw new Error("Assertion Failed")}function Xa(e){Ia.setImmediate?setImmediate(e):setTimeout(e,0)}function Ja(e,t){return e.reduce(((e,n,r)=>{var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function Za(e,t){if(Ka(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=Za(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:Za(s,t.substr(a+1))}}function es(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Ya("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)es(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),s=t.substr(i+1);if(""===s)void 0===n?Na(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var u=e[a];u&&Ka(e,a)||(u=e[a]={}),es(u,s,n)}}else void 0===n?Na(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ts(e){var t={};for(var n in e)Ka(e,n)&&(t[n]=e[n]);return t}const ns=[].concat;function rs(e){return ns.apply([],e)}const os="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rs([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Ia[e])),is=os.map((e=>Ia[e]));Ja(os,(e=>[e,!0]));let as=null;function ss(e){as="undefined"!=typeof WeakMap&&new WeakMap;const t=us(e);return as=null,t}function us(e){if(!e||"object"!=typeof e)return e;let t=as&&as.get(e);if(t)return t;if(Na(e)){t=[],as&&as.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(us(e[n]))}else if(is.indexOf(e.constructor)>=0)t=e;else{const n=La(e);for(var o in t=n===Object.prototype?{}:Object.create(n),as&&as.set(e,t),e)Ka(e,o)&&(t[o]=us(e[o]))}return t}const{toString:cs}={};function ls(e){return cs.call(e).slice(8,-1)}const fs="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",hs="symbol"==typeof fs?function(e){var t;return null!=e&&(t=e[fs])&&t.apply(e)}:function(){return null},ds={};function ps(e){var t,n,r,o;if(1===arguments.length){if(Na(e))return e.slice();if(this===ds&&"string"==typeof e)return[e];if(o=hs(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const vs="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var ys="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ms(e,t){ys=e,gs=t}var gs=()=>!0;const bs=!new Error("").stack;function ws(){if(bs)try{throw ws.arguments,new Error}catch(e){return e}return new Error}function _s(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(gs).map((e=>"\n"+e)).join("")):""}var Ss=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Os=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ss),Es={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function xs(e,t){this._e=ws(),this.name=e,this.message=t}function ks(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Ps(e,t,n,r){this._e=ws(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ks(e,t)}function As(e,t){this._e=ws(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=ks(e,t)}Ha(xs).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+_s(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ha(Ps).from(xs),Ha(As).from(xs);var js=Os.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Cs=xs;var Ts=Os.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=ws(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Es[t]||n,this.inner=null)}return Ha(r).from(Cs),e[t]=r,e}),{});Ts.Syntax=SyntaxError,Ts.Type=TypeError,Ts.Range=RangeError;var Ms=Ss.reduce(((e,t)=>(e[t+"Error"]=Ts[t],e)),{}),Ds=Os.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Ts[t]),e)),{});function Is(){}function Rs(e){return e}function Ns(e,t){return null==e||e===Rs?t:function(n){return t(e(n))}}function Bs(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ls(e,t){return e===Is?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Bs(r,this.onsuccess):r),o&&(this.onerror=this.onerror?Bs(o,this.onerror):o),void 0!==i?i:n}}function zs(e,t){return e===Is?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Bs(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Bs(r,this.onerror):r)}}function Ks(e,t){return e===Is?t:function(n){var r=e.apply(this,arguments);Ba(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Bs(o,this.onsuccess):o),i&&(this.onerror=this.onerror?Bs(i,this.onerror):i),void 0===r?void 0===a?void 0:a:Ba(r,a)}}function Us(e,t){return e===Is?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Vs(e,t){return e===Is?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Ds.ModifyError=Ps,Ds.DexieError=xs,Ds.BulkError=As;var Fs={};const[Hs,qs,Ws]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,La(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,La(t),e]})(),Gs=qs&&qs.then,$s=Hs&&Hs.constructor,Qs=!!Ws;var Ys=!1,Xs=Ws?()=>{Ws.then(wu)}:Ia.setImmediate?setImmediate.bind(null,wu):Ia.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{wu(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(wu,0)},Js=function(e,t){su.push([e,t]),eu&&(Xs(),eu=!1)},Zs=!0,eu=!0,tu=[],nu=[],ru=null,ou=Rs,iu={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Hu,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Hu(e[0],e[1])}catch(e){}}))}},au=iu,su=[],uu=0,cu=[];function lu(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Is,this._lib=!1;var t=this._PSD=au;if(ys&&(this._stackHolder=ws(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Fs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&pu(this,this._value))}this._state=null,this._value=null,++t.ref,du(this,e)}const fu={get:function(){var e=au,t=Cu;function n(n,r){var o=!e.global&&(e!==au||t!==Cu);const i=o&&!Iu();var a=new lu(((t,a)=>{yu(this,new hu(Vu(n,e,o,i),Vu(r,e,o,i),t,a,e))}));return ys&&bu(a,this),a}return n.prototype=Fs,n},set:function(e){Fa(this,"then",e&&e.prototype===Fs?fu:{get:function(){return e},set:fu.set})}};function hu(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function du(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&_u();t&&"function"==typeof t.then?du(e,((e,n)=>{t instanceof lu?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,vu(e)),n&&Su()}}),pu.bind(null,e))}catch(t){pu(e,t)}}function pu(e,t){if(nu.push(t),null===e._state){var n=e._lib&&_u();t=ou(t),e._state=!1,e._value=t,ys&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=Wa(t,"stack");t._promise=e,Fa(t,"stack",{get:()=>Ys?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){tu.some((t=>t._value===e._value))||tu.push(e)}(e),vu(e),n&&Su()}}function vu(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)yu(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===uu&&(++uu,Js((()=>{0==--uu&&Ou()}),[]))}function yu(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++uu,Js(mu,[n,e,t])}else e._listeners.push(t)}function mu(e,t,n){try{ru=t;var r,o=t._value;t._state?r=e(o):(nu.length&&(nu=[]),r=e(o),-1===nu.indexOf(o)&&function(e){for(var t=tu.length;t;)if(tu[--t]._value===e._value)return void tu.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{ru=null,0==--uu&&Ou(),--n.psd.ref||n.psd.finalize()}}function gu(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=_s(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return ys&&((r=_s(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&gu(e._prev,t,n)),t}function bu(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function wu(){_u()&&Su()}function _u(){var e=Zs;return Zs=!1,eu=!1,e}function Su(){var e,t,n;do{for(;su.length>0;)for(e=su,su=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(su.length>0);Zs=!0,eu=!0}function Ou(){var e=tu;tu=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=cu.slice(0),n=t.length;n;)t[--n]()}function Eu(e){return new lu(Fs,!1,e)}function xu(e,t){var n=au;return function(){var r=_u(),o=au;try{return Lu(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Lu(o,!1),r&&Su()}}}Ua(lu.prototype,{then:fu,_then:function(e,t){yu(this,new hu(null,null,e,t,au))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Eu(e))):this.then(null,(e=>e&&e.name===t?n(e):Eu(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Eu(t))))},stack:{get:function(){if(this._stack)return this._stack;try{Ys=!0;var e=gu(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Ys=!1}}},timeout:function(e,t){return e<1/0?new lu(((n,r)=>{var o=setTimeout((()=>r(new Ts.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Fa(lu.prototype,Symbol.toStringTag,"Dexie.Promise"),iu.env=zu(),Ua(lu,{all:function(){var e=ps.apply(null,arguments).map(Ru);return new lu((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((o,i)=>lu.resolve(o).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof lu)return e;if(e&&"function"==typeof e.then)return new lu(((t,n)=>{e.then(t,n)}));var t=new lu(Fs,!0,e);return bu(t,ru),t},reject:Eu,race:function(){var e=ps.apply(null,arguments).map(Ru);return new lu(((t,n)=>{e.map((e=>lu.resolve(e).then(t,n)))}))},PSD:{get:()=>au,set:e=>au=e},totalEchoes:{get:()=>Cu},newPSD:Mu,usePSD:Ku,scheduler:{get:()=>Js,set:e=>{Js=e}},rejectionMapper:{get:()=>ou,set:e=>{ou=e}},follow:(e,t)=>new lu(((n,r)=>Mu(((t,n)=>{var r=au;r.unhandleds=[],r.onunhandled=n,r.finalize=Bs((function(){!function(e){cu.push((function t(){e(),cu.splice(cu.indexOf(t),1)})),++uu,Js((()=>{0==--uu&&Ou()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),$s&&($s.allSettled&&Fa(lu,"allSettled",(function(){const e=ps.apply(null,arguments).map(Ru);return new lu((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,o)=>lu.resolve(e).then((e=>r[o]={status:"fulfilled",value:e}),(e=>r[o]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),$s.any&&"undefined"!=typeof AggregateError&&Fa(lu,"any",(function(){const e=ps.apply(null,arguments).map(Ru);return new lu(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach(((e,i)=>lu.resolve(e).then((e=>t(e)),(e=>{o[i]=e,--r||n(new AggregateError(o))}))))}))})));const ku={awaits:0,echoes:0,id:0};var Pu=0,Au=[],ju=0,Cu=0,Tu=0;function Mu(e,t,n,r){var o=au,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Tu;var a=iu.env;i.env=Qs?{Promise:lu,PromiseProp:{value:lu,configurable:!0,writable:!0},all:lu.all,race:lu.race,allSettled:lu.allSettled,any:lu.any,resolve:lu.resolve,reject:lu.reject,nthen:Fu(a.nthen,i),gthen:Fu(a.gthen,i)}:{},t&&Ba(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ku(i,e,n,r);return 0===i.ref&&i.finalize(),s}function Du(){return ku.id||(ku.id=++Pu),++ku.awaits,ku.echoes+=100,ku.id}function Iu(){return!!ku.awaits&&(0==--ku.awaits&&(ku.id=0),ku.echoes=100*ku.awaits,!0)}function Ru(e){return ku.echoes&&e&&e.constructor===$s?(Du(),e.then((e=>(Iu(),e)),(e=>(Iu(),qu(e))))):e}function Nu(e){++Cu,ku.echoes&&0!=--ku.echoes||(ku.echoes=ku.id=0),Au.push(au),Lu(e,!0)}function Bu(){var e=Au[Au.length-1];Au.pop(),Lu(e,!1)}function Lu(e,t){var n=au;if((t?!ku.echoes||ju++&&e===au:!ju||--ju&&e===au)||Uu(t?Nu.bind(null,e):Bu),e!==au&&(au=e,n===iu&&(iu.env=zu()),Qs)){var r=iu.env.Promise,o=e.env;qs.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(Ia,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function zu(){var e=Ia.Promise;return Qs?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Ia,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:qs.then,gthen:e.prototype.then}:{}}function Ku(e,t,n,r,o){var i=au;try{return Lu(e,!0),t(n,r,o)}finally{Lu(i,!1)}}function Uu(e){Gs.call(Hs,e)}function Vu(e,t,n,r){return"function"!=typeof e?e:function(){var o=au;n&&Du(),Lu(t,!0);try{return e.apply(this,arguments)}finally{Lu(o,!1),r&&Uu(Iu)}}}function Fu(e,t){return function(n,r){return e.call(this,Vu(n,t),Vu(r,t))}}function Hu(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(Ia.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Ba(r,o)):Ia.CustomEvent&&Ba(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&Ia.dispatchEvent&&(dispatchEvent(r),!Ia.PromiseRejectionEvent&&Ia.onunhandledrejection))try{Ia.onunhandledrejection(r)}catch(e){}ys&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+Gs).indexOf("[native code]")&&(Du=Iu=Is);var qu=lu.reject;function Wu(e,t,n,r){if(e.idbdb&&(e._state.openComplete||au.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===js.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Wu(e,t,n,r)))):qu(o)}return o._promise(t,((e,t)=>Mu((()=>(au.trans=o,r(e,t,o)))))).then((e=>o._completion.then((()=>e))))}if(e._state.openComplete)return qu(new Ts.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return qu(new Ts.DatabaseClosed);e.open().catch(Is)}return e._state.dbReadyPromise.then((()=>Wu(e,t,n,r)))}const Gu=String.fromCharCode(65535),$u="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qu=[],Yu="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Xu=Yu,Ju=Yu,Zu=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function ec(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const tc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nc(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ss(t))[e],t)}class rc{_trans(e,t,n){const r=this._tx||au.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new Ts.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}const a=_u();try{return r&&r.db===this.db?r===au.trans?r._promise(e,i,n):Mu((()=>r._promise(e,i,n)),{trans:r,transless:au.transless||au}):Wu(this.db,e,[this.name],i)}finally{a&&Su()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Na(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=Ra(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==Gu)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&ys&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,o=this.db._deps.indexedDB;function i(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[a,s]=t.reduce((([t,n],o)=>{const a=r[o],s=e[o];return[t||a,t||!a?ec(n,a&&a.multi?e=>{const t=Za(e,o);return Na(t)&&t.some((e=>i(s,e)))}:e=>i(s,Za(e,o))):n]}),[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(s):n?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Na(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(Ka(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){Ba(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=nc(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]}))).then((e=>e.numFailures?lu.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{es(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||Na(e))return this.where(":id").equals(e).modify(t);{const n=Za(e,this.schema.primKey.keyPath);if(void 0===n)return qu(new Ts.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Ra(t).forEach((n=>{es(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=nc(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null}))).then((e=>e.numFailures?lu.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{es(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?lu.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:tc}))).then((e=>e.numFailures?lu.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new Ts.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Ts.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let s=i&&n?e.map(nc(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new As(`${this.name}.bulkAdd(): ${e} of ${a} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new Ts.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Ts.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let s=i&&n?e.map(nc(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new As(`${this.name}.bulkPut(): ${e} of ${a} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new As(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function oc(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return function(e){Ra(e).forEach((function(t){var n=e[t];if(Na(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Ts.InvalidArgument("Invalid event config");var r=i(t,Rs,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Xa((function(){e.apply(null,t)}))}))}))}}))}(e);r||(r=Us),o||(o=Is);var a={subscribers:[],fire:o,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,o)}};return t[e]=n[e]=a,a}}function ic(e,t){return Ha(t).from({prototype:e}),t}function ac(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function sc(e,t){e.filter=ec(e.filter,t)}function uc(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>ec(r(),t()):t,e.justLimit=n&&!r}function cc(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Ts.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function lc(e,t,n){const r=cc(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function fc(e,t,n,r){const o=e.replayFilter?ec(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(e,n,r)=>{if(!o||o(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),Ka(i,s)||(i[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),hc(lc(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return hc(lc(e,r,n),ec(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function hc(e,t,n,r){var o=xu(r?(e,t,o)=>n(r(e),t,o):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Is}),(t=>{e.fail(t),n=Is}))||o(e.value,e,(e=>n=e)),n()}))}))}function dc(e,t){try{const n=pc(e),r=pc(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let n=0;n<o;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(vc(e),vc(t));case"Array":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let n=0;n<o;++n){const r=dc(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function pc(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=ls(e);return"ArrayBuffer"===n?"binary":n}function vc(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class yc{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,qu.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,qu.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=ec(t.algorithm,e)}_iterate(e,t){return fc(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Ba(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>fc(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(ac(t,!0))return n.count({trans:e,query:{index:cc(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return fc(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&ac(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=cc(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return fc(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,ac(t)?uc(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):uc(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),uc(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return sc(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return sc(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=ec(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&ac(t,!0)&&t.limit>0)return this._read((e=>{var n=cc(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return sc(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Ka(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var o=Ra(e),i=o.length;r=function(t){for(var n=!1,r=0;r<i;++r){var a=o[r],s=e[a];Za(t,a)!==s&&(es(t,a,s),n=!0)}return n}}const a=t.table.core,{outbound:s,extractKey:u}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,l=[];let f=0;const h=[],d=(e,t)=>{const{failures:n,numFailures:r}=t;f+=e-r;for(let e of Ra(n))l.push(n[e])};return this.clone().primaryKeys().then((o=>{const i=l=>{const f=Math.min(c,o.length-l);return a.getMany({trans:n,keys:o.slice(l,l+f),cache:"immutable"}).then((h=>{const p=[],v=[],y=s?[]:null,m=[];for(let e=0;e<f;++e){const t=h[e],n={value:ss(t),primKey:o[l+e]};!1!==r.call(n,n.value,n)&&(null==n.value?m.push(o[l+e]):s||0===dc(u(t),u(n.value))?(v.push(n.value),s&&y.push(o[l+e])):(m.push(o[l+e]),p.push(n.value)))}const g=ac(t)&&t.limit===1/0&&("function"!=typeof e||e===mc)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((e=>{for(let t in e.failures)m.splice(parseInt(t),1);d(p.length,e)}))).then((()=>(v.length>0||g&&"object"==typeof e)&&a.mutate({trans:n,type:"put",keys:y,values:v,criteria:g,changeSpec:"function"!=typeof e&&e}).then((e=>d(v.length,e))))).then((()=>(m.length>0||g&&e===mc)&&a.mutate({trans:n,type:"delete",keys:m,criteria:g}).then((e=>d(m.length,e))))).then((()=>o.length>l+f&&i(l+c)))}))};return i(0).then((()=>{if(l.length>0)throw new Ps("Error modifying one or more objects",l,f,h);return o.length}))}))}))}delete(){var e=this._ctx,t=e.range;return ac(e)&&(e.isPrimKey&&!Ju||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((({failures:e,lastResult:n,results:r,numFailures:o})=>{if(o)throw new Ps("Could not delete some values",Object.keys(e).map((t=>e[t])),t-o);return t-o}))))})):this.modify(mc)}}const mc=(e,t)=>t.value=null;function gc(e,t){return e<t?-1:e===t?0:1}function bc(e,t){return e>t?-1:e===t?0:1}function wc(e,t,n){var r=e instanceof kc?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function _c(e){return new e.Collection(e,(()=>xc(""))).limit(0)}function Sc(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var c=t[u];if(c!==r[u])return o(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[u],c)<0&&(s=u)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function Oc(e,t,n,r){var o,i,a,s,u,c,l,f=n.length;if(!n.every((e=>"string"==typeof e)))return wc(e,"String expected.");function h(e){o=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?gc:bc;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}h("next");var d=new e.Collection(e,(()=>Ec(s[0],u[f-1]+r)));d._ondirectionchange=function(e){h(e)};var p=0;return d._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var h=i(o);if(t(h,u,p))return!0;for(var d=null,v=p;v<f;++v){var y=Sc(o,h,s[v],u[v],a,c);null===y&&null===d?p=v+1:(null===d||a(d,y)>0)&&(d=y)}return n(null!==d?function(){e.continue(d+l)}:r),!1})),d}function Ec(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function xc(e){return{type:1,lower:e,upper:e}}class kc{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?_c(this):new this.Collection(this,(()=>Ec(e,t,!n,!r)))}catch(e){return wc(this,$u)}}equals(e){return null==e?wc(this,$u):new this.Collection(this,(()=>xc(e)))}above(e){return null==e?wc(this,$u):new this.Collection(this,(()=>Ec(e,void 0,!0)))}aboveOrEqual(e){return null==e?wc(this,$u):new this.Collection(this,(()=>Ec(e,void 0,!1)))}below(e){return null==e?wc(this,$u):new this.Collection(this,(()=>Ec(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?wc(this,$u):new this.Collection(this,(()=>Ec(void 0,e)))}startsWith(e){return"string"!=typeof e?wc(this,"String expected."):this.between(e,e+Gu,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Oc(this,((e,t)=>0===e.indexOf(t[0])),[e],Gu)}equalsIgnoreCase(e){return Oc(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=ps.apply(ds,arguments);return 0===e.length?_c(this):Oc(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=ps.apply(ds,arguments);return 0===e.length?_c(this):Oc(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,Gu)}anyOf(){const e=ps.apply(ds,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return wc(this,$u)}if(0===e.length)return _c(this);const n=new this.Collection(this,(()=>Ec(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,o,i)=>{const a=n.key;for(;t(a,e[r])>0;)if(++r,r===e.length)return o(i),!1;return 0===t(a,e[r])||(o((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ps.apply(ds,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return wc(this,$u)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,o=this._descending,i=this._min,a=this._max;if(0===e.length)return _c(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return wc(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ts.InvalidArgument);const s=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let c,l=r;function f(e,t){return l(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,o=e.length;for(;r<o;++r){const o=e[r];if(n(t[0],o[1])<0&&n(t[1],o[0])>0){o[0]=i(o[0],t[0]),o[1]=a(o[1],t[1]);break}}return r===o&&e.push(t),e}),[]),c.sort(f)}catch(e){return wc(this,$u)}let h=0;const d=u?e=>r(e,c[h][1])>0:e=>r(e,c[h][1])>=0,p=s?e=>o(e,c[h][0])>0:e=>o(e,c[h][0])>=0;let v=d;const y=new this.Collection(this,(()=>Ec(c[0][0],c[c.length-1][1],!s,!u)));return y._ondirectionchange=e=>{"next"===e?(v=d,l=r):(v=p,l=o),c.sort(f)},y._addAlgorithm(((e,t,n)=>{for(var o=e.key;v(o);)if(++h,h===c.length)return t(n),!1;return!!function(e){return!d(e)&&!p(e)}(o)||(0===this._cmp(o,c[h][1])||0===this._cmp(o,c[h][0])||t((()=>{l===r?e.continue(c[h][0]):e.continue(c[h][1])})),!1)})),y}startsWithAnyOf(){const e=ps.apply(ds,arguments);return e.every((e=>"string"==typeof e))?0===e.length?_c(this):this.inAnyRange(e.map((e=>[e,e+Gu]))):wc(this,"startsWithAnyOf() only works with strings")}}function Pc(e){return xu((function(t){return Ac(t),e(t.target.error),!1}))}function Ac(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const jc=oc(null,"storagemutated");class Cc{_lock(){return Ya(!au.global),++this._reculock,1!==this._reculock||au.global||(au.lockOwnerFor=this),this}_unlock(){if(Ya(!au.global),0==--this._reculock)for(au.global||(au.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ku(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&au.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(Ya(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Ts.DatabaseClosed(n);case"MissingAPIError":throw new Ts.MissingAPI(n.message,n);default:throw new Ts.OpenFailed(n)}if(!this.active)throw new Ts.TransactionInactive;return Ya(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=xu((t=>{Ac(t),this._reject(e.error)})),e.onabort=xu((t=>{Ac(t),this.active&&this._reject(new Ts.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=xu((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&jc.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return qu(new Ts.ReadOnly("Transaction is readonly"));if(!this.active)return qu(new Ts.TransactionInactive);if(this._locked())return new lu(((r,o)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,o)},au])}));if(n)return Mu((()=>{var e=new lu(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new lu(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=lu.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new lu(((e,r)=>{n.then((n=>t._waitingQueue.push(xu(e.bind(null,n)))),(e=>t._waitingQueue.push(xu(r.bind(null,e))))).finally((()=>{t._waitingFor===o&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ts.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(Ka(t,e))return t[e];const n=this.schema[e];if(!n)throw new Ts.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Tc(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+Mc(t)}}function Mc(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Dc(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Ja(n,(e=>[e.name,e]))}}let Ic=e=>{try{return e.only([[]]),Ic=()=>[[]],[[]]}catch(e){return Ic=()=>Gu,Gu}};function Rc(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>Za(t,e)}(e):t=>Za(t,e)}function Nc(e){return[].slice.call(e)}let Bc=0;function Lc(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function zc({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},o){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:o,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}const{schema:o,hasGetAll:i}=function(e,t){const n=Nc(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=Na(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Rc(t)},indexes:Nc(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:o}=e,a={name:t,compound:Na(o),keyPath:o,unique:n,multiEntry:r,extractKey:Rc(o)};return i[Lc(o)]=a,a})),getIndexByKeyPath:e=>i[Lc(e)]};return i[":id"]=a.primaryKey,null!=t&&(i[Lc(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=o.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:o,values:i,range:a}){return new Promise(((s,u)=>{s=xu(s);const c=e.objectStore(t),l=null==c.keyPath,f="put"===n||"add"===n;if(!f&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=o||i||{length:1};if(o&&i&&o.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const p=[],v=[];let y=0;const m=e=>{++y,Ac(e)};if("deleteRange"===n){if(4===a.type)return s({numFailures:y,failures:v,results:[],lastResult:void 0});3===a.type?p.push(d=c.clear()):p.push(d=c.delete(r(a)))}else{const[e,t]=f?l?[i,o]:[i,null]:[o,null];if(f)for(let r=0;r<h;++r)p.push(d=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),d.onerror=m;else for(let t=0;t<h;++t)p.push(d=c[n](e[t])),d.onerror=m}const g=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(v[t]=e.error))),s({numFailures:y,failures:v,results:"delete"===n?o:p.map((e=>e.result)),lastResult:t})};d.onerror=e=>{m(e),g(e)},d.onsuccess=g}))},getMany:({trans:e,keys:n})=>new Promise(((r,o)=>{r=xu(r);const i=e.objectStore(t),a=n.length,s=new Array(a);let u,c=0,l=0;const f=e=>{const t=e.target;s[t._pos]=t.result,++l===c&&r(s)},h=Pc(o);for(let e=0;e<a;++e)null!=n[e]&&(u=i.get(n[e]),u._pos=e,u.onsuccess=f,u.onerror=h,++c);0===c&&r(s)})),get:({trans:e,key:n})=>new Promise(((r,o)=>{r=xu(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=Pc(o)})),query:function(e){return n=>new Promise(((o,i)=>{o=xu(o);const{trans:a,values:s,limit:u,query:c}=n,l=u===1/0?void 0:u,{index:f,range:h}=c,d=a.objectStore(t),p=f.isPrimaryKey?d:d.index(f.name),v=r(h);if(0===u)return o({result:[]});if(e){const e=s?p.getAll(v,l):p.getAllKeys(v,l);e.onsuccess=e=>o({result:e.target.result}),e.onerror=Pc(i)}else{let e=0;const t=s||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),n=[];t.onsuccess=r=>{const i=t.result;return i?(n.push(s?i.value:i.primaryKey),++e===u?o({result:n}):void i.continue()):o({result:n})},t.onerror=Pc(i)}}))}(i),openCursor:function({trans:e,values:n,query:o,reverse:i,unique:a}){return new Promise(((s,u)=>{s=xu(s);const{index:c,range:l}=o,f=e.objectStore(t),h=c.isPrimaryKey?f:f.index(c.name),d=i?a?"prevunique":"prev":a?"nextunique":"next",p=n||!("openKeyCursor"in h)?h.openCursor(r(l),d):h.openKeyCursor(r(l),d);p.onerror=Pc(u),p.onsuccess=xu((t=>{const n=p.result;if(!n)return void s(null);n.___id=++Bc,n.done=!1;const r=n.continue.bind(n);let o=n.continuePrimaryKey;o&&(o=o.bind(n));const i=n.advance.bind(n),a=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=xu(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=xu(e),p.onerror=Pc(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=a,e(t)}})),s=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=xu((e=>{p.onsuccess=s,s()})),n.continue=r,n.continuePrimaryKey=o,n.advance=i,s(),t},s(n)}),u)}))},count({query:e,trans:n}){const{index:o,range:i}=e;return new Promise(((e,a)=>{const s=n.objectStore(t),u=o.isPrimaryKey?s:s.index(o.name),c=r(i),l=c?u.count(c):u.count();l.onsuccess=xu((t=>e(t.target.result))),l.onerror=Pc(a)}))}}}(e))),s={};return a.forEach((e=>s[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!s[e])throw new Error(`Table '${e}' not found`);return s[e]},MIN_KEY:-1/0,MAX_KEY:Ic(t),schema:o}}(t,n,o),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function Kc({_novip:e},t,n,r){n.forEach((n=>{const o=r[n];t.forEach((t=>{const r=Wa(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Fa(t,n,{get(){return this.table(n)},set(e){Va(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function Uc({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function Vc(e,t){return e._cfg.version-t._cfg.version}function Fc(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],i=t[r];if(o){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Yu)e.recreate=!0,n.change.push(e);else{const t=o.idxByName,r=i.idxByName;let a;for(a in t)r[a]||e.del.push(a);for(a in r){const n=t[a],o=r[a];n?n.src!==o.src&&e.change.push(o):e.add.push(o)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function Hc(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>qc(o,e))),o}function qc(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Wc(e,t,n){const r={};return $a(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let o=t.keyPath;const i=Tc(Mc(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);o=n.keyPath;var s=Tc(n.name,o,!!n.unique,!!n.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(s)}r[e]=Dc(e,i,a)})),r}function Gc({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(let e=0;e<a.indexNames.length;++e){const n=a.indexNames[e],r=a.index(n).keyPath,o="string"==typeof r?r:"["+$a(r).join("+")+"]";if(t[i]){const e=t[i].idxByName[o];e&&(e.name=n,delete t[i].idxByName[o],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ia.WorkerGlobalScope&&Ia instanceof Ia.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class $c{_parseStoresSpec(e,t){Ra(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Tc(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Na(r),0===t)})),o=r.shift();if(o.multi)throw new Ts.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Ts.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Ts.Schema("Index must have a name and cannot be an empty string")})),t[n]=Dc(n,o,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?Ba(this._cfg.storesSource,e):e;const n=t._versions,r={};let o={};return n.forEach((e=>{Ba(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,Uc(t,[t._allTables,t,t.Transaction.prototype]),Kc(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Ra(o),o),t._storeNames=Ra(o),this}upgrade(e){return this._cfg.contentUpgrade=Vs(this._cfg.contentUpgrade||Is,e),this}}function Qc(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new yl("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Yc(e){return e&&"function"==typeof e.databases}function Xc(e){return Mu((function(){return au.letThrough=!0,e()}))}function Jc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Zc(e){var t=t=>e.next(t),n=o(t),r=o((t=>e.throw(t)));function o(e){return t=>{var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):Na(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function el(e,t,n){var r=arguments.length;if(r<2)throw new Ts.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,rs(o),n]}function tl(e,t,n,r,o){return lu.resolve().then((()=>{const i=au.transless||au,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===js.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>tl(e,t,n,null,o)))):qu(r)}const u=vs(o);let c;u&&Du();const l=lu.follow((()=>{if(c=o.call(a,a),c)if(u){var e=Iu.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Zc(c))}),s);return(c&&"function"==typeof c.then?lu.resolve(c).then((e=>a.active?e:qu(new Ts.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((e=>(r&&a._resolve(),a._completion.then((()=>e))))).catch((e=>(a._reject(e),qu(e))))}))}function nl(e,t,n){const r=Na(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const rl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},i=[];function a(e,t,n){const r=Lc(e),s=o[r]=o[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=t>0,l={...n,isVirtual:c,keyTail:t,keyLength:u,extractKey:Rc(e),unique:!c&&n.unique};return s.push(l),l.isPrimaryKey||i.push(l),u>1&&a(2===u?e[0]:e.slice(0,u-1),t+1,n),s.sort(((e,t)=>e.keyTail-t.keyTail)),l}const s=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(const e of r.indexes)a(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,o=n.keyTail,{type:1===r.type?2:r.type,lower:nl(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,o),lowerOpen:!0,upper:nl(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,o),upperOpen:!0})}}:t;var r,o}const c={...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(e){const t=o[Lc(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:o,keyLength:i}=t.query.index;return o?n.openCursor(u(t)).then((n=>n&&function(n){const o=Object.create(n,{continue:{value:function(o){null!=o?n.continue(nl(o,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,o){n.continuePrimaryKey(nl(t,e.MAX_KEY,r),o)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return o}(n))):n.openCursor(t)}};return c}}}};function ol(e,t,n,r){return n=n||{},r=r||"",Ra(e).forEach((o=>{if(Ka(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){const e=ls(i);e!==ls(a)?n[r+o]=t[o]:"Object"===e?ol(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),Ra(t).forEach((o=>{Ka(e,o)||(n[r+o]=t[o])})),n}const il={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,o={...n,mutate(e){const o=au.trans,{deleting:i,creating:a,updating:s}=o.table(t).hook;switch(e.type){case"add":if(a.fire===Is)break;return o._promise("readwrite",(()=>u(e)),!0);case"put":if(a.fire===Is&&s.fire===Is)break;return o._promise("readwrite",(()=>u(e)),!0);case"delete":if(i.fire===Is)break;return o._promise("readwrite",(()=>u(e)),!0);case"deleteRange":if(i.fire===Is)break;return o._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function u(e){const t=au.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:o}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((u=>{const c=o.map(((n,o)=>{const c=u[o],l={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){const i=a.fire.call(l,n,e.values[o],t);null==n&&null!=i&&(n=i,e.keys[o]=n,r.outbound||es(e.values[o],r.keyPath,n))}else{const r=ol(c,e.values[o]),i=s.fire.call(l,r,n,c,t);if(i){const t=e.values[o];Object.keys(i).forEach((e=>{Ka(t,e)?t[e]=i[e]:es(t,e,i[e])}))}}return l}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<o.length;++r){const i=n?n[r]:o[r],a=c[r];null==i?a.onerror&&a.onerror(t[r]):a.onsuccess&&a.onsuccess("put"===e.type&&u[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((({result:n})=>u({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<o?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},o)))))}}};return o}})};function al(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let o=0,i=0;o<t.keys.length&&i<e.length;++o)0===dc(t.keys[o],e[i])&&(r.push(n?ss(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}}const sl={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=al(e.keys,e.trans._cache,"clone"===e.cache);return t?lu.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ss(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function ul(e){return!("from"in e)}const cl=function(e,t){if(!this){const t=new cl;return e&&"d"in e&&Ba(t,e),t}Ba(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ll(e,t,n){const r=dc(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(ul(e))return Ba(e,{from:t,to:n,d:1});const o=e.l,i=e.r;if(dc(n,e.from)<0)return o?ll(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},dl(e);if(dc(t,e.to)>0)return i?ll(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},dl(e);dc(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),dc(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;o&&!e.l&&fl(e,o),i&&a&&fl(e,i)}function fl(e,t){ul(t)||function e(t,{from:n,to:r,l:o,r:i}){ll(t,n,r),o&&e(t,o),i&&e(t,i)}(e,t)}function hl(e){let t=ul(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&dc(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||dc(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function dl(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const t="r"===o?"l":"r",n={...e},r=e[o];e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],e[t]=n,n.d=pl(n)}e.d=pl(e)}function pl({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ua(cl.prototype,{add(e){return fl(this,e),this},addKey(e){return ll(this,e,e),this},addKeys(e){return e.forEach((e=>ll(this,e,e))),this},[fs](){return hl(this)}});const vl={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new cl(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:i}=o,{primaryKey:a}=i,{extractKey:s,outbound:u}=a,c={...o,mutate:e=>{const a=e.trans,s=a.mutatedParts||(a.mutatedParts={}),u=e=>{const n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new cl)},c=u(""),l=u(":dels"),{type:f}=e;let[h,d]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return o.mutate(e).then((e=>{if(Na(h)){"delete"!==f&&(h=e.results),c.addKeys(h);const t=al(h,p);t||"add"===f||l.addKeys(h),(t||d)&&function(e,t,n,r){t.indexes.forEach((function(t){const o=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&Na(e)?e.forEach((e=>o.addKey(e))):o.addKey(e);(n||r).forEach(((e,t)=>{const o=n&&i(n[t]),s=r&&i(r[t]);0!==dc(o,s)&&(null!=o&&a(o),null!=s&&a(s))}))}))}(u,i,t,d)}else if(h){const e={from:h.lower,to:h.upper};l.add(e),c.add(e)}else c.add(n),l.add(n),i.indexes.forEach((e=>u(e.name).add(n)));return e}))}},l=({query:{index:t,range:n}})=>{var r,o;return[t,new cl(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(o=n.upper)&&void 0!==o?o:e.MAX_KEY)]},f={get:e=>[a,new cl(e.key)],getMany:e=>[a,(new cl).addKeys(e.keys)],count:l,query:l,openCursor:l};return Ra(f).forEach((e=>{c[e]=function(i){const{subscr:a}=au;if(a){const c=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new cl)},l=c(""),h=c(":dels"),[d,p]=f[e](i);if(c(d.name||"").add(p),!d.isPrimaryKey){if("count"!==e){const t="query"===e&&u&&i.values&&o.query({...i,values:!1});return o[e].apply(this,arguments).then((n=>{if("query"===e){if(u&&i.values)return t.then((({result:e})=>(l.addKeys(e),n)));const e=i.values?n.result.map(s):n.result;i.values?l.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return o[e].apply(this,arguments)}})),c}}}};class yl{constructor(e,t){this._middlewares={},this.verno=0;const n=yl.dependencies;this._options=t={addons:yl.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Is,dbReadyPromise:null,cancelOpen:Is,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;o.dbReadyPromise=new lu((e=>{o.dbReadyResolve=e})),o.openCanceller=new lu(((e,t)=>{o.cancelOpen=t})),this._state=o,this.name=e,this.on=oc(this,"populate","blocked","versionchange","close",{ready:[Vs,Is]}),this.on.ready.subscribe=Qa(this.on.ready.subscribe,(e=>(t,n)=>{yl.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||lu.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,ic(yc.prototype,(function(e,t){this.db=i;let n=tc,r=null;if(t)try{n=t()}catch(e){r=e}const o=e._ctx,a=o.table,s=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:s!==Rs?s:null}}))),this.Table=function(e){return ic(rc.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:oc(null,{creating:[Ls,Is],reading:[Ns,Rs],updating:[Ks,Is],deleting:[zs,Is]})}))}(this),this.Transaction=function(e){return ic(Cc.prototype,(function(t,n,r,o,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=oc(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new lu(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),qu(e)}))}))}(this),this.Version=function(e){return ic($c.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return ic(kc.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const o=e._deps.indexedDB;if(!o)throw new Ts.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(e,t)=>o.cmp(t,e),this._max=(e,t)=>o.cmp(e,t)>0?e:t,this._min=(e,t)=>o.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Ic(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),Qu.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(rl),this.use(il),this.use(vl),this.use(sl),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Ts.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Ts.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Vc),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||au.letThrough||this._vip)?e():new lu(((e,t)=>{if(this._state.openComplete)return t(new Ts.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Ts.DatabaseClosed);this.open().catch(Is)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:t,level:null==n?10:n,name:r}),o.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?qu(t.dbOpenError):e));ys&&(t.openCanceller._stackHolder=ws()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new Ts.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,a=null,s=!1;return lu.race([r,("undefined"==typeof navigator?lu.resolve():Jc()).then((()=>new lu(((r,i)=>{if(o(),!n)throw new Ts.MissingAPI;const u=e.name,c=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!c)throw new Ts.MissingAPI;c.onerror=Pc(i),c.onblocked=xu(e._fireOnBlocked),c.onupgradeneeded=xu((r=>{if(a=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=Ac,a.abort(),c.result.close();const e=n.deleteDatabase(u);e.onsuccess=e.onerror=xu((()=>{i(new Ts.NoSuchDatabase(`Database ${u} doesnt exist`))}))}else{a.onerror=Pc(i);var o=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=o<1,e._novip.idbdb=c.result,function(e,t,n,r){const o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),s=au.transless||au;Mu((()=>{au.trans=i,au.transless=s,0===t?(Ra(o).forEach((e=>{Hc(n,e,o[e].primKey,o[e].indexes)})),zc(e,n),lu.follow((()=>e.on.populate.fire(i))).catch(a)):function({_novip:e},t,n,r){const o=[],i=e._versions;let a=e._dbSchema=Wc(0,e.idbdb,r),s=!1;return i.filter((e=>e._cfg.version>=t)).forEach((i=>{o.push((()=>{const o=a,u=i._cfg.dbschema;Gc(e,o,r),Gc(e,u,r),a=e._dbSchema=u;const c=Fc(o,u);c.add.forEach((e=>{Hc(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new Ts.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>qc(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),qc(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=i._cfg.contentUpgrade;if(l&&i._cfg.version>t){zc(e,r),n._memoizedTables={},s=!0;let t=ts(u);c.del.forEach((e=>{t[e]=o[e]})),Uc(e,[e.Transaction.prototype]),Kc(e,[e.Transaction.prototype],Ra(t),t),n.schema=t;const i=vs(l);let a;i&&Du();const f=lu.follow((()=>{if(a=l(n),a&&i){var e=Iu.bind(null,null);a.then(e,e)}}));return a&&"function"==typeof a.then?lu.resolve(a):f.then((()=>a))}})),o.push((t=>{s&&Xu||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(i._cfg.dbschema,t),Uc(e,[e.Transaction.prototype]),Kc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?lu.resolve(o.shift()(n.idbtrans)).then(e):lu.resolve()}().then((()=>{var e,t;t=r,Ra(e=a).forEach((n=>{t.db.objectStoreNames.contains(n)||Hc(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}(e,o/10,a,i)}}),i),c.onsuccess=xu((()=>{a=null;const n=e._novip.idbdb=c.result,o=$a(n.objectStoreNames);if(o.length>0)try{const r=n.transaction(1===(i=o).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=Wc(0,t,n);e._storeNames=$a(t.objectStoreNames,0),Kc(e,[e._allTables],Ra(r),r)}(e,n,r):(Gc(e,e._dbSchema,r),function(e,t){const n=Fc(Wc(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),zc(e,r)}catch(e){}var i;Qu.push(e),n.onversionchange=xu((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=xu((t=>{e.on("close").fire(t)})),s&&function({indexedDB:e,IDBKeyRange:t},n){!Yc(e)&&"__dbnames"!==n&&Qc(e,t).put({name:n}).catch(Is)}(e._deps,u),r()}),i)}))))]).then((()=>(o(),t.onReadyBeingFired=[],lu.resolve(Xc((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(Vs,Is);return t.onReadyBeingFired=[],lu.resolve(Xc((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),qu(n)})).finally((()=>{t.openComplete=!0,i()}))}(this)}_close(){const e=this._state,t=Qu.indexOf(this);if(t>=0&&Qu.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new lu((t=>{e.dbReadyResolve=t})),e.openCanceller=new lu(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ts.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new lu(((n,r)=>{const o=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=xu((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Yc(e)&&"__dbnames"!==n&&Qc(e,t).delete(n).catch(Is)}(this._deps,this.name),n()})),e.onerror=Pc(r),e.onblocked=this._fireOnBlocked};if(e)throw new Ts.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(o):o()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ra(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=el.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=au.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const o=-1!==e.indexOf("?");let i,a;e=e.replace("!","").replace("?","");try{if(a=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Ts.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===i){if(!o)throw new Ts.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new Ts.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):qu(e)}const s=tl.bind(null,this,i,a,r,n);return r?r._promise(i,s,"lock"):au.trans?Ku(au.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(e){if(!Ka(this._allTables,e))throw new Ts.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const ml="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class gl{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[ml](){return this}}function bl(e,t){return Ra(t).forEach((n=>{fl(e[n]||(e[n]=new cl),t[n])})),e}let wl;try{wl={indexedDB:Ia.indexedDB||Ia.mozIndexedDB||Ia.webkitIndexedDB||Ia.msIndexedDB,IDBKeyRange:Ia.IDBKeyRange||Ia.webkitIDBKeyRange}}catch(P){wl={indexedDB:null,IDBKeyRange:null}}const _l=yl;function Sl(e){let t=Ol;try{Ol=!0,jc.storagemutated.fire(e)}finally{Ol=t}}Ua(_l,{...Ds,delete:e=>new _l(e,{addons:[]}).delete(),exists:e=>new _l(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Yc(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):Qc(e,t).toCollection().primaryKeys()}(_l.dependencies).then(e)}catch(e){return qu(new Ts.MissingAPI)}},defineClass:()=>function(e){Ba(this,e)},ignoreTransaction:e=>au.trans?Ku(au.transless,e):e(),vip:Xc,async:function(e){return function(){try{var t=Zc(e.apply(this,arguments));return t&&"function"==typeof t.then?t:lu.resolve(t)}catch(e){return qu(e)}}},spawn:function(e,t,n){try{var r=Zc(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:lu.resolve(r)}catch(e){return qu(e)}},currentTransaction:{get:()=>au.trans||null},waitFor:function(e,t){const n=lu.resolve("function"==typeof e?_l.ignoreTransaction(e):e).timeout(t||6e4);return au.trans?au.trans.waitFor(n):n},Promise:lu,debug:{get:()=>ys,set:e=>{ms(e,"dexie"===e?()=>!0:Zu)}},derive:Ha,extend:Ba,props:Ua,override:Qa,Events:oc,on:jc,liveQuery:function(e){return new gl((t=>{const n=vs(e);let r=!1,o={},i={};const a={get closed(){return r},unsubscribe:()=>{r=!0,jc.storagemutated.unsubscribe(l)}};t.start&&t.start(a);let s=!1,u=!1;function c(){return Ra(i).some((e=>o[e]&&function(e,t){const n=hl(t);let r=n.next();if(r.done)return!1;let o=r.value;const i=hl(e);let a=i.next(o.from),s=a.value;for(;!r.done&&!a.done;){if(dc(s.from,o.to)<=0&&dc(s.to,o.from)>=0)return!0;dc(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}(o[e],i[e])))}const l=e=>{bl(o,e),c()&&f()},f=()=>{if(s||r)return;o={};const h={},d=function(t){n&&Du();const r=()=>Mu(e,{subscr:t,trans:null}),o=au.trans?Ku(au.transless,r):r();return n&&o.then(Iu,Iu),o}(h);u||(jc("storagemutated",l),u=!0),s=!0,Promise.resolve(d).then((e=>{s=!1,r||(c()?f():(o={},i=h,t.next&&t.next(e)))}),(e=>{s=!1,t.error&&t.error(e),a.unsubscribe()}))};return f(),a}))},extendObservabilitySet:bl,getByKeyPath:Za,setByKeyPath:es,delByKeyPath:function(e,t){"string"==typeof t?es(e,t,void 0):"length"in t&&[].map.call(t,(function(t){es(e,t,void 0)}))},shallowClone:ts,deepClone:ss,getObjectDiff:ol,cmp:dc,asap:Xa,minKey:-1/0,addons:[],connections:Qu,errnames:js,dependencies:wl,semVer:"3.2.3",version:"3.2.3".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),_l.maxKey=Ic(_l.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(jc("storagemutated",(e=>{if(!Ol){let t;Yu?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ol=!0,dispatchEvent(t),Ol=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Ol||Sl(e)})));let Ol=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");"function"==typeof e.unref&&e.unref(),jc("storagemutated",(t=>{Ol||e.postMessage(t)})),e.onmessage=e=>{e.data&&Sl(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){jc("storagemutated",(e=>{try{Ol||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Sl(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Sl(e.changedParts)}))}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kl(e){return kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kl(e)}function Pl(e,t){return Pl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pl(e,t)}function Al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kl(e);if(t){var o=kl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?El(e):t;var n}(this,n)}}lu.rejectionMapper=function(e,t){if(!e||e instanceof xs||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ms[e.name])return e;var n=new Ms[e.name](t||e.message,e);return"stack"in e&&Fa(n,"stack",{get:function(){return this.inner.stack}}),n},ms(ys,Zu);var jl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pl(e,t)}(n,e);var t=Al(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),xl(El(e=t.call(this,"EsmOffline")),"syncQueue",void 0),xl(El(e),"dynamicOfflineData",void 0),e.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),e.syncQueue=e.table("syncQueue"),e.dynamicOfflineData=e.table("dynamicOfflineData"),e}return n}(yl);(0,ft.createGlobalStore)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});try{self["workbox:window:6.5.4"]&&_()}catch(A){}function Cl(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])}))}function Tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}try{self["workbox:core:6.5.4"]&&_()}catch(A){}var Ml=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function Dl(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var Il=function(e,t){this.type=e,Object.assign(this,t)};function Rl(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Nl(){}var Bl,Ll={type:"SKIP_WAITING"};function zl(e,t){if(!t)return e&&e.then?e.then(Nl):Promise.resolve()}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vl(e){return function(e){if(Array.isArray(e))return Kl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fl(e,t){if(e){if("string"==typeof e)return Kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kl(e,t):void 0}}function Hl(e){return function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Fl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,c.useState)(e.getState()),2),r=n[0],o=n[1];return(0,c.useEffect)((function(){return e.subscribe((function(e){return o(e)}))}),[]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ul(e,t,n[t])}))}return e}({},r,(0,c.useMemo)((function(){return t?function(e,t){var n=function(n){r[n]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.setState((function(e){var r,i=[e].concat(Vl(o));return(r=t)[n].apply(r,Vl(i))}))}};"function"==typeof t&&(t=t(e));var r={};for(var o in t)n(o);return r}(e,t):{}}),[t]))}}!function(e){var t,n;function r(t,n){var r,o;return void 0===n&&(n={}),(r=e.call(this)||this).nn={},r.tn=0,r.rn=new Ml,r.en=new Ml,r.on=new Ml,r.un=0,r.an=new Set,r.cn=function(){var e=r.fn,t=e.installing;r.tn>0||!Dl(t.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=t,e.removeEventListener("updatefound",r.cn)):(r.hn=t,r.an.add(t),r.rn.resolve(t)),++r.tn,t.addEventListener("statechange",r.ln)},r.ln=function(e){var t=r.fn,n=e.target,o=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:e};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new Il(o,a)),"installed"===o?r.wn=self.setTimeout((function(){"installed"===o&&t.waiting===n&&r.dispatchEvent(new Il("waiting",a))}),200):"activating"===o&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.dn=function(e){var t=r.hn,n=t!==navigator.serviceWorker.controller;r.dispatchEvent(new Il("controlling",{isExternal:n,originalEvent:e,sw:t,isUpdate:r.mn})),n||r.on.resolve(t)},r.gn=(o=function(e){var t=e.data,n=e.ports,o=e.source;return Rl(r.getSW(),(function(){r.an.has(o)&&r.dispatchEvent(new Il("message",{data:t,originalEvent:e,ports:n,sw:o}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(o.apply(this,e))}catch(e){return Promise.reject(e)}}),r.sn=t,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,i=r.prototype;i.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return zl(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),Rl(r.bn(),(function(e){r.fn=e,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var t=r.fn.waiting;return t&&Dl(t.scriptURL,r.sn.toString())&&(r.hn=t,Promise.resolve().then((function(){r.dispatchEvent(new Il("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(e){return Promise.reject(e)}},i.update=function(){try{return this.fn?zl(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},i.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},i.messageSW=function(e){try{return Rl(this.getSW(),(function(t){return Cl(t,e)}))}catch(e){return Promise.reject(e)}},i.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Cl(this.fn.waiting,Ll)},i.pn=function(){var e=navigator.serviceWorker.controller;return e&&Dl(e.scriptURL,this.sn.toString())?e:void 0},i.bn=function(){try{var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return Rl(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,o)}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tl(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.Sn(e.type));!(t=n()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}()),new jl,(0,ft.createGlobalStore)("offline-synchronization",{}),c.default.createContext({moduleName:"",featureName:""}),p(103),Hl((0,ht.getExtensionStore)()),bn.openmrsFetch,Hl((0,ht.getExtensionInternalStore)()),function(e){e.loadPatient="loadPatient",e.newPatient="newPatient",e.loadError="patientLoadError"}(Bl||(Bl={}));var ql=p(701),Wl=p.n(ql);_t.default.extend(Wl());const Gl=c.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),$l={dedupe:!0};xt.defineProperty(un,"defaultValue",{value:on});const Ql=pn(((e,t,n)=>{const{cache:r,compare:o,suspense:i,fallbackData:a,revalidateOnMount:s,revalidateIfStale:u,refreshInterval:l,refreshWhenHidden:f,refreshWhenOffline:h,keepPreviousData:d}=n,[p,v,y,m]=Mt.get(r),[g,b]=Yt(e),w=(0,c.useRef)(!1),_=(0,c.useRef)(!1),S=(0,c.useRef)(g),O=(0,c.useRef)(t),E=(0,c.useRef)(n),x=()=>E.current,k=()=>x().isVisible()&&x().isOnline(),[P,A,j,C]=Lt(r,g),T=(0,c.useRef)({}).current,M=kt(a)?n.fallback[g]:a,D=(e,t)=>{for(const n in T){const r=n;if("data"===r){if(!o(e[r],t[r])){if(!kt(e[r]))return!1;if(!o(V,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},I=(0,c.useMemo)((()=>{const e=!!g&&!!t&&(kt(s)?!x().isPaused()&&!i&&(!!kt(u)||u):s),n=t=>{const n=At(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=P(),o=C(),a=n(r),c=r===o?a:n(o);let l=a;return[()=>{const e=n(P());return D(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>c]}),[r,g]),R=(0,St.useSyncExternalStore)((0,c.useCallback)((e=>j(g,((t,n)=>{D(n,t)||e()}))),[r,g]),I[0],I[1]),N=!w.current,B=p[g]&&p[g].length>0,L=R.data,z=kt(L)?M:L,K=R.error,U=(0,c.useRef)(z),V=d?kt(L)?U.current:L:z,F=!(B&&!kt(K))&&(N&&!kt(s)?s:!x().isPaused()&&(i?!kt(z)&&u:kt(z)||u)),H=!!(g&&t&&N&&F),q=kt(R.isValidating)?H:R.isValidating,W=kt(R.isLoading)?H:R.isLoading,G=(0,c.useCallback)((async e=>{const t=O.current;if(!g||!t||_.current||x().isPaused())return!1;let r,i,a=!0;const s=e||{},u=!y[g]||!s.dedupe,c=()=>Ht?!_.current&&g===S.current&&w.current:g===S.current,l={isValidating:!1,isLoading:!1},f=()=>{A(l)},h=()=>{const e=y[g];e&&e[1]===i&&delete y[g]},d={isValidating:!0};kt(P().data)&&(d.isLoading=!0);try{if(u&&(A(d),n.loadingTimeout&&kt(P().data)&&setTimeout((()=>{a&&c()&&x().onLoadingSlow(g,n)}),n.loadingTimeout),y[g]=[t(b),Jt()]),[r,i]=y[g],r=await r,u&&setTimeout(h,n.dedupingInterval),!y[g]||y[g][1]!==i)return u&&c()&&x().onDiscarded(g),!1;l.error=Et;const e=v[g];if(!kt(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return f(),u&&c()&&x().onDiscarded(g),!1;const s=P().data;l.data=o(s,r)?s:r,u&&c()&&x().onSuccess(r,g,n)}catch(e){h();const t=x(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,u&&c()&&(t.onError(e,g,t),(!0===n||Pt(n)&&n(e))&&(x().revalidateOnFocus&&x().revalidateOnReconnect&&!k()||t.onErrorRetry(e,g,t,(e=>{const t=p[g];t&&t[0]&&t[0](3,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0}))))}return a=!1,f(),!0}),[g,r]),$=(0,c.useCallback)(((...e)=>Zt(r,S.current,...e)),[]);if(Gt((()=>{O.current=t,E.current=n,kt(L)||(U.current=L)})),Gt((()=>{if(!g)return;const e=G.bind(Et,$l);let t=0;const n=vn(g,p,((n,r={})=>{if(0==n){const n=Date.now();x().revalidateOnFocus&&n>t&&k()&&(t=n+x().focusThrottleInterval,e())}else if(1==n)x().revalidateOnReconnect&&k()&&e();else{if(2==n)return G();if(3==n)return G(r)}}));return _.current=!1,S.current=g,w.current=!0,A({_k:b}),F&&(kt(z)||qt?e():Wt(e)),()=>{_.current=!0,n()}}),[g]),Gt((()=>{let e;function t(){const t=Pt(l)?l(P().data):l;t&&-1!==e&&(e=setTimeout(n,t))}function n(){P().error||!f&&!x().isVisible()||!h&&!x().isOnline()?t():G($l).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[l,f,h,g]),(0,c.useDebugValue)(V),i&&kt(z)&&g){if(!Ht&&qt)throw new Error("Fallback data is required when using suspense in SSR.");O.current=t,E.current=n,_.current=!1;const e=m[g];if(!kt(e)){const t=$(e);Gl(t)}if(!kt(K))throw K;{const e=G($l);kt(V)||(e.status="fulfilled",e.value=!0),Gl(e)}}return{mutate:$,get data(){return T.data=!0,V},get error(){return T.error=!0,K},get isValidating(){return T.isValidating=!0,q},get isLoading(){return T.isLoading=!0,W}}}));yn(Ql,(e=>(t,n,r)=>(r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,e(t,n,r))));const Yl=c.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),Xl={dedupe:!0};xt.defineProperty(un,"defaultValue",{value:on});const Jl=pn(((e,t,n)=>{const{cache:r,compare:o,suspense:i,fallbackData:a,revalidateOnMount:s,revalidateIfStale:u,refreshInterval:l,refreshWhenHidden:f,refreshWhenOffline:h,keepPreviousData:d}=n,[p,v,y,m]=Mt.get(r),[g,b]=Yt(e),w=(0,c.useRef)(!1),_=(0,c.useRef)(!1),S=(0,c.useRef)(g),O=(0,c.useRef)(t),E=(0,c.useRef)(n),x=()=>E.current,k=()=>x().isVisible()&&x().isOnline(),[P,A,j,C]=Lt(r,g),T=(0,c.useRef)({}).current,M=kt(a)?n.fallback[g]:a,D=(e,t)=>{for(const n in T){const r=n;if("data"===r){if(!o(e[r],t[r])){if(!kt(e[r]))return!1;if(!o(V,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},I=(0,c.useMemo)((()=>{const e=!!g&&!!t&&(kt(s)?!x().isPaused()&&!i&&(!!kt(u)||u):s),n=t=>{const n=At(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=P(),o=C(),a=n(r),c=r===o?a:n(o);let l=a;return[()=>{const e=n(P());return D(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>c]}),[r,g]),R=(0,St.useSyncExternalStore)((0,c.useCallback)((e=>j(g,((t,n)=>{D(n,t)||e()}))),[r,g]),I[0],I[1]),N=!w.current,B=p[g]&&p[g].length>0,L=R.data,z=kt(L)?M:L,K=R.error,U=(0,c.useRef)(z),V=d?kt(L)?U.current:L:z,F=!(B&&!kt(K))&&(N&&!kt(s)?s:!x().isPaused()&&(i?!kt(z)&&u:kt(z)||u)),H=!!(g&&t&&N&&F),q=kt(R.isValidating)?H:R.isValidating,W=kt(R.isLoading)?H:R.isLoading,G=(0,c.useCallback)((async e=>{const t=O.current;if(!g||!t||_.current||x().isPaused())return!1;let r,i,a=!0;const s=e||{},u=!y[g]||!s.dedupe,c=()=>Ht?!_.current&&g===S.current&&w.current:g===S.current,l={isValidating:!1,isLoading:!1},f=()=>{A(l)},h=()=>{const e=y[g];e&&e[1]===i&&delete y[g]},d={isValidating:!0};kt(P().data)&&(d.isLoading=!0);try{if(u&&(A(d),n.loadingTimeout&&kt(P().data)&&setTimeout((()=>{a&&c()&&x().onLoadingSlow(g,n)}),n.loadingTimeout),y[g]=[t(b),Jt()]),[r,i]=y[g],r=await r,u&&setTimeout(h,n.dedupingInterval),!y[g]||y[g][1]!==i)return u&&c()&&x().onDiscarded(g),!1;l.error=Et;const e=v[g];if(!kt(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return f(),u&&c()&&x().onDiscarded(g),!1;const s=P().data;l.data=o(s,r)?s:r,u&&c()&&x().onSuccess(r,g,n)}catch(e){h();const t=x(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,u&&c()&&(t.onError(e,g,t),(!0===n||Pt(n)&&n(e))&&(x().revalidateOnFocus&&x().revalidateOnReconnect&&!k()||t.onErrorRetry(e,g,t,(e=>{const t=p[g];t&&t[0]&&t[0](3,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0}))))}return a=!1,f(),!0}),[g,r]),$=(0,c.useCallback)(((...e)=>Zt(r,S.current,...e)),[]);if(Gt((()=>{O.current=t,E.current=n,kt(L)||(U.current=L)})),Gt((()=>{if(!g)return;const e=G.bind(Et,Xl);let t=0;const n=vn(g,p,((n,r={})=>{if(0==n){const n=Date.now();x().revalidateOnFocus&&n>t&&k()&&(t=n+x().focusThrottleInterval,e())}else if(1==n)x().revalidateOnReconnect&&k()&&e();else{if(2==n)return G();if(3==n)return G(r)}}));return _.current=!1,S.current=g,w.current=!0,A({_k:b}),F&&(kt(z)||qt?e():Wt(e)),()=>{_.current=!0,n()}}),[g]),Gt((()=>{let e;function t(){const t=Pt(l)?l(P().data):l;t&&-1!==e&&(e=setTimeout(n,t))}function n(){P().error||!f&&!x().isVisible()||!h&&!x().isOnline()?t():G(Xl).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[l,f,h,g]),(0,c.useDebugValue)(V),i&&kt(z)&&g){if(!Ht&&qt)throw new Error("Fallback data is required when using suspense in SSR.");O.current=t,E.current=n,_.current=!1;const e=m[g];if(!kt(e)){const t=$(e);Yl(t)}if(!kt(K))throw K;{const e=G(Xl);kt(V)||(e.status="fulfilled",e.value=!0),Yl(e)}}return{mutate:$,get data(){return T.data=!0,V},get error(){return T.error=!0,K},get isValidating(){return T.isValidating=!0,q},get isLoading(){return T.isLoading=!0,W}}})),Zl=Promise.resolve();yn(Jl,(e=>(t,n,r)=>{const o=(0,c.useRef)(!1),{cache:i,initialSize:a=1,revalidateAll:s=!1,persistSize:u=!1,revalidateFirstPage:l=!0,revalidateOnMount:f=!1,parallel:h=!1}=r,[,,,d]=Mt.get(nn);let p;try{p=(e=>Yt(e?e(0,null):null)[0])(t),p&&(p=cn+p)}catch(e){}const[v,y,m]=Lt(i,p),g=(0,c.useCallback)((()=>kt(v()._l)?a:v()._l),[i,p,a]);(0,St.useSyncExternalStore)((0,c.useCallback)((e=>p?m(p,(()=>{e()})):()=>{}),[i,p]),g,g);const b=(0,c.useCallback)((()=>{const e=v()._l;return kt(e)?a:e}),[p,a]),w=(0,c.useRef)(b());Gt((()=>{o.current?p&&y({_l:u?w.current:b()}):o.current=!0}),[p,i]);const _=f&&!o.current,S=e(p,(async e=>{const o=v()._i,a=v()._r;y({_r:Et});const u=[],c=b(),[f]=Lt(i,e),p=f().data,m=[];let g=null;for(let e=0;e<c;++e){const[c,f]=Yt(t(e,h?null:g));if(!c)break;const[v,y]=Lt(i,c);let b=v().data;const w=s||o||kt(b)||l&&!e&&!kt(p)||_||p&&!kt(p[e])&&!r.compare(p[e],b);if(n&&("function"==typeof a?a(b,f):w)){const t=async()=>{if(c in d){const e=d[c];delete d[c],b=await e}else b=await n(f);y({data:b,_k:f}),u[e]=b};h?m.push(t):await t()}else u[e]=b;h||(g=b)}return h&&await Promise.all(m.map((e=>e()))),y({_i:Et}),u}),r),O=(0,c.useCallback)((function(e,t){const n="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==n.revalidate;return p?(r&&(kt(e)?y({_i:!0,_r:n.revalidate}):y({_i:!1,_r:n.revalidate})),arguments.length?S.mutate(e,{...n,revalidate:r}):S.mutate()):Zl}),[p,i]),E=(0,c.useCallback)((e=>{if(!p)return Zl;const[,n]=Lt(i,p);let r;if(Pt(e)?r=e(b()):"number"==typeof e&&(r=e),"number"!=typeof r)return Zl;n({_l:r}),w.current=r;const o=[],[a]=Lt(i,p);let s=null;for(let e=0;e<r;++e){const[n]=Yt(t(e,s)),[r]=Lt(i,n),u=n?r().data:Et;if(kt(u))return O(a().data);o.push(u),s=u}return O(o)}),[p,i,O,b]);return{size:b(),setSize:E,mutate:O,get data(){return S.data},get error(){return S.error},get isValidating(){return S.isValidating},get isLoading(){return S.isLoading}}}));var ef={};function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}setTimeout((function(){"development"===window.spaEnv&&(window.stores=ef)}),1e3),nf=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tf(e,t,n[t])}))}return e}({},{address1:"Address line 1",address2:"Address line 2",address3:"Address line 3",address4:"Address line 4",address5:"Address line 5",address6:"Address line 6",city:"City",cityVillage:"City",country:"Country",countyDistrict:"District",postalCode:"Postal code",state:"State",stateProvince:"State"},{closeAllOpenedWorkspaces:"Discard changes in {{count}} workspaces",closingAllWorkspacesPromptBody:"There are unsaved changes in the following workspaces. Do you want to discard changes in the following workspaces? {{workspaceNames}}",closingAllWorkspacesPromptTitle:"You have unsaved changes",discard:"Discard",hide:"Hide",maximize:"Maximize",minimize:"Minimize",openAnyway:"Open anyway",unsavedChangesInOpenedWorkspace:"You have unsaved changes in the opened workspace. Do you want to discard these changes?",unsavedChangesInWorkspace:"There are unsaved changes in {{workspaceName}}. Please save them before opening another workspace.",unsavedChangesTitleText:"Unsaved changes",workspaceHeader:"Workspace header"}),rf=null!=(rf={actions:"Actions",address:"Address",age:"Age",cancel:"Cancel",change:"Change",close:"Close",confirm:"Confirm",contactAdministratorIfIssuePersists:"Contact your system administrator if the problem persists.",contactDetails:"Contact details",error:"Error",errorCopy:"Sorry, there was a problem displaying this information. You can try to reload this page, or contact the site administrator and quote the error code above.",female:"Female",hideDetails:"Hide details",loading:"Loading",male:"Male",other:"Other",patientIdentifierSticker:"Patient identifier sticker",patientLists:"Patient lists",print:"Print",printError:"Print error",printErrorExplainer:"An error occurred in {{errorLocation}}",printIdentifierSticker:"Print identifier sticker",printing:"Printing",relationships:"Relationships",resetOverrides:"Reset overrides",scriptLoadingFailed:"Error: Script failed to load",scriptLoadingError:"Failed to load overridden script from {{url}}. Please check that the bundled script is available at the expected URL. Click the button below to reset all import map overrides.",seeMoreLists:"See {{count}} more lists",sex:"Sex",showDetails:"Show details",unknown:"Unknown"})?rf:{},Object.getOwnPropertyDescriptors?Object.defineProperties(nf,Object.getOwnPropertyDescriptors(rf)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(rf)).forEach((function(e){Object.defineProperty(nf,e,Object.getOwnPropertyDescriptor(rf,e))}));var nf,rf,of,af=p(64);(af.default.default||af.default).on("initialized",(function(){window.i18next.loadNamespaces(["core"])})),(0,e.defineConfigSchema)("@openmrs/esm-styleguide",u),of=function(e,t){document.documentElement.style.setProperty(e,t)},(0,e.getConfigStore)("@openmrs/esm-styleguide").subscribe((function(e){e.loaded&&e.config&&(of("--brand-01",e.config["Brand color #1"]),of("--brand-02",e.config["Brand color #2"]),of("--brand-03",e.config["Brand color #3"]))})),a("omrs-logo-full-color",t),a("omrs-logo-full-mono",t),a("omrs-logo-full-grey",t),a("omrs-logo-partial-color",n),a("omrs-logo-partial-mono",n),a("omrs-logo-partial-grey",n),a("omrs-logo-icon-color",r),a("omrs-logo-icon-mono",r),a("omrs-logo-icon-grey",r),a("omrs-logo-white",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 380 119"><path fill="var(--logo-white)" fill-rule="evenodd" d="M40.29 40.328a27.76 27.76 0 0 1 19.688-8.154c7.669 0 14.613 3.102 19.647 8.116l.02-18.54A42.84 42.84 0 0 0 59.978 17c-7.089 0-13.813 1.93-19.709 4.968zM79.645 79.671a27.74 27.74 0 0 1-19.684 8.154c-7.67 0-14.614-3.101-19.651-8.116l-.02 18.54A42.86 42.86 0 0 0 59.96 103a42.8 42.8 0 0 0 19.672-4.751z" clip-rule="evenodd"/><path fill="var(--logo-grey)" fill-rule="evenodd" d="M40.328 79.696c-5.038-5.037-8.154-11.995-8.154-19.685 0-7.669 3.102-14.612 8.116-19.65l-18.54-.02A42.85 42.85 0 0 0 17 60.012a42.8 42.8 0 0 0 4.752 19.672zM79.634 40.289a27.75 27.75 0 0 1 8.154 19.688 27.74 27.74 0 0 1-8.117 19.646l18.542.02a42.84 42.84 0 0 0 4.749-19.666c0-7.09-1.714-13.779-4.751-19.675z" clip-rule="evenodd"/><path fill="var(--logo-white)" fill-rule="evenodd" d="M156.184 60.003c0-8.749-6.118-15.777-15.025-15.777-8.909 0-15.025 7.028-15.025 15.776s6.116 15.78 15.025 15.78c8.907 0 15.025-7.031 15.025-15.78m-34.881 0c0-11.483 8.318-19.96 19.856-19.96 11.536 0 19.855 8.478 19.855 19.96 0 11.484-8.319 19.964-19.855 19.964-11.538 0-19.856-8.48-19.856-19.964M179.514 75.54c5.507 0 9.05-4.14 9.05-9.482s-3.543-9.483-9.05-9.483c-5.505 0-9.046 4.142-9.046 9.483s3.541 9.482 9.046 9.482M166.22 53.306h4.248v3.704h.11c2.344-2.725 5.449-4.36 9.154-4.36 8.014 0 13.408 5.67 13.408 13.408 0 7.63-5.613 13.406-12.752 13.406-4.58 0-8.231-2.29-9.81-5.178h-.11V90.87h-4.248zM217.773 63.768c-.163-4.305-3-7.193-7.686-7.193-4.685 0-7.79 2.888-8.335 7.193zm3.653 10.412c-3.001 3.868-6.596 5.284-11.339 5.284-8.01 0-12.914-5.993-12.914-13.406 0-7.901 5.559-13.407 13.08-13.407 7.196 0 12.096 4.906 12.096 13.354v1.362h-20.597c.325 4.413 3.704 8.173 8.335 8.173 3.65 0 6.105-1.307 8.12-3.868zM227.854 59.357c0-2.347-.216-4.361-.216-6.05h4.031c0 1.362.11 2.776.11 4.194h.11c1.144-2.505 4.306-4.85 8.5-4.85 6.705 0 9.699 4.252 9.699 10.41v15.748h-4.248v-15.31c0-4.253-1.856-6.924-5.833-6.924-5.503 0-7.903 3.979-7.903 9.811V78.81h-4.25zM259.211 41.009h6.708L278.8 70.79h.107l12.982-29.782h6.549v37.99h-4.506V47.124h-.106L280.192 79h-2.738l-13.629-31.875h-.107V79h-4.507zM312.392 57.752h4.023c4.992 0 11.487 0 11.487-6.282 0-5.47-4.776-6.276-9.177-6.276h-6.333zm-4.506-16.744h9.711c7.352 0 15.132 1.072 15.132 10.462 0 5.527-3.594 9.125-9.495 10.037L334.018 79h-5.525l-10.304-17.063h-5.797V79h-4.506zM358.123 47.713c-1.506-2.414-4.187-3.487-6.926-3.487-3.973 0-8.1 1.88-8.1 6.385 0 3.49 1.931 5.047 7.994 6.98 5.903 1.878 11.377 3.809 11.377 11.267 0 7.567-6.495 11.11-13.36 11.11-4.402 0-9.125-1.45-11.7-5.262l3.862-3.165c1.61 2.794 4.83 4.24 8.105 4.24 3.862 0 8.263-2.253 8.263-6.601 0-4.669-3.165-5.474-9.928-7.728-5.366-1.771-9.442-4.134-9.442-10.463 0-7.298 6.277-10.945 12.929-10.945 4.241 0 7.836 1.178 10.625 4.45z" clip-rule="evenodd"/></svg>'),a("omrs-icon-activity",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M6 14.5a.5.5 0 0 1-.46-.31L3.165 8.5H1v-1h2.5a.5.5 0 0 1 .46.31L6 12.64l4.03-10.815a.5.5 0 0 1 .47-.325.5.5 0 0 1 .465.34L12.86 7.5H15v1h-2.5a.5.5 0 0 1-.475-.34L10.5 3.5 6.47 14.175A.5.5 0 0 1 6 14.5"/></svg>'),a("omrs-icon-add",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8.5 7.5V4h-1v3.5H4v1h3.5V12h1V8.5H12v-1z"/></svg>'),a("omrs-icon-arrow-down",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M12.295 8.295 8.5 12.085V2h-1v10.085l-3.795-3.79L3 9l5 5 5-5z"/></svg>'),a("omrs-icon-arrow-left",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m7 13 .705-.705L3.915 8.5H14v-1H3.915l3.79-3.795L7 3 2 8z"/></svg>'),a("omrs-icon-arrow-right",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m9 3-.715.696 3.79 3.804H2v1h10.075l-3.79 3.787L9 13l5-5z"/></svg>'),a("omrs-icon-arrow-up",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 2 3 7l.705.705L7.5 3.915V14h1V3.915l3.795 3.79L13 7z"/></svg>'),a("omrs-icon-baby",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 5.667A1.833 1.833 0 1 0 8 2a1.833 1.833 0 0 0 0 3.667m1.667 1.845a19 19 0 0 0 1.826-.369.667.667 0 1 0-.32-1.294c-1.27.314-2.229.455-3.17.452-.945-.004-1.905-.153-3.184-.454a.667.667 0 1 0-.305 1.298c.658.155 1.253.275 1.82.358v.83h3.333zM8.893 10.66c.584-.26.774-.802.774-1.013V9H6.333v.647c0 .21.19.753.774 1.013.067.03.142.067.21.1l.039.02a4 4 0 0 0 .244.114q.253.107.4.106.147.001.4-.106a5 5 0 0 0 .244-.114l.04-.02m.21-.1c-.068.03-.143.067-.21.1zM6.812 11.286a1.8 1.8 0 0 1-.818-.72c-.518.45-.802 1.017-.802 1.764 0 .298.063.745.229 1.107.17.371.397.563.685.563.31 0 .57-.236.57-.54 0-.136-.057-.264-.147-.454l-.006-.013c-.082-.172-.19-.399-.19-.663 0-.29.142-.596.31-.844q.08-.119.169-.2m2.376-.001a1.8 1.8 0 0 0 .818-.719c.518.45.802 1.017.802 1.764 0 .298-.063.745-.229 1.107-.17.371-.397.563-.685.563-.31 0-.57-.236-.57-.54 0-.136.057-.264.147-.454l.006-.013c.082-.172.19-.399.19-.663 0-.29-.142-.596-.31-.844a1.2 1.2 0 0 0-.169-.2z"/></svg>'),a("omrs-icon-calendar-heat-map",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13 2h-2V1h-1v1H6V1H5v1H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1M3 3h2v1h1V3h4v1h1V3h2v2H3zm0 3h2.5v3H3zm6.5 7h-3v-3h3zm0-4h-3V6h3zm1 4v-3H13v3z"/></svg>'),a("omrs-icon-calendar",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13 2h-2V1h-1v1H6V1H5v1H3c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1m0 11H3V6h10zm0-8H3V3h2v1h1V3h4v1h1V3h2z"/></svg>'),a("omrs-icon-caret-down",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m12 6-4 5-4-5z"/></svg>'),a("omrs-icon-caret-left",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M10 12 5 8l5-4z"/></svg>'),a("omrs-icon-caret-right",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m6 4 5 4-5 4z"/></svg>'),a("omrs-icon-caret-up",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m4 10 4-5 4 5z"/></svg>'),a("omrs-icon-chart-average",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M11.5 12c-1.8 0-2.515-2.088-3.206-4.107C7.638 5.979 6.96 4 5.5 4a1.72 1.72 0 0 0-1.527 1.16l-.947-.318C3.05 4.767 3.66 3 5.5 3c2.175 0 3.006 2.427 3.74 4.569C9.844 9.333 10.415 11 11.5 11a1.72 1.72 0 0 0 1.527-1.16l.947.318C13.95 10.233 13.34 12 11.5 12"/><path d="M2 14V8.5h1v-1H2V1H1v13a1 1 0 0 0 1 1h13v-1z"/><path d="M5 7.5H4v1h1zM7 7.5H6v1h1zM11 7.5h-1v1h1zM13 7.5h-1v1h1zM15 7.5h-1v1h1z"/></svg>'),a("omrs-icon-chemistry",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13.616 11.81 10 6.836V2h1V1H5v1h1v4.837L2.384 11.81A2.009 2.009 0 0 0 4.01 15h7.982a2.01 2.01 0 0 0 1.625-3.19M7 7.162V2h2v5.163L10.336 9H5.664zM11.99 14H4.01a1.01 1.01 0 0 1-.817-1.603L4.936 10h6.128l1.743 2.397A1.011 1.011 0 0 1 11.991 14"/></svg>'),a("omrs-icon-chevron-down",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 11 3 6l.7-.7L8 9.6l4.3-4.3.7.7z"/></svg>'),a("omrs-icon-chevron-left",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m5 8 5-5 .7.7L6.4 8l4.3 4.3-.7.7z"/></svg>'),a("omrs-icon-chevron-right",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m11 8-5 5-.7-.7L9.6 8 5.3 3.7 6 3z"/></svg>'),a("omrs-icon-chevron-up",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m8 5 5 5-.7.7L8 6.4l-4.3 4.3L3 10z"/></svg>'),a("omrs-icon-close",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"/></svg>'),a("omrs-icon-close-filled",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7m2.7 10.5L8 8.8l-2.7 2.7-.8-.8L7.2 8 4.5 5.3l.8-.8L8 7.2l2.7-2.7.8.8L8.8 8l2.7 2.7z"/></svg>'),a("omrs-icon-close-outline",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7m0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6"/><path d="M10.7 11.5 8 8.8l-2.7 2.7-.8-.8L7.2 8 4.5 5.3l.8-.8L8 7.2l2.7-2.7.8.8L8.8 8l2.7 2.7z"/></svg>'),a("omrs-icon-document",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m12.85 4.65-3.5-3.5C9.25 1.05 9.15 1 9 1H4c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h8c.55 0 1-.45 1-1V5c0-.15-.05-.25-.15-.35M9 2.2 11.8 5H9zM12 14H4V2h4v3c0 .55.45 1 1 1h3z"/><path d="M11 11H5v1h6zM11 8H5v1h6z"/></svg>'),a("omrs-icon-document-attachment",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13 15H5.5a1 1 0 0 1-1-1v-3h1v3H13V3H8.5V2H13a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1"/><path d="M12 5H8.5v1H12zM12 7.5H8v1h4zM12 10H7.5v1H12zM4.5 9.5A2.503 2.503 0 0 1 2 7V1.5h1V7a1.5 1.5 0 0 0 3 0V2.5a.5.5 0 1 0-1 0v5H4v-5a1.5 1.5 0 0 1 3 0V7a2.503 2.503 0 0 1-2.5 2.5"/></svg>'),a("omrs-icon-download",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zM13 7l-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z"/></svg>'),a("omrs-icon-edit",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M15 13H1v1h14zM12.7 4.5c.4-.4.4-1 0-1.4l-1.8-1.8c-.4-.4-1-.4-1.4 0L2 8.8V12h3.2zM10.2 2 12 3.8l-1.5 1.5-1.8-1.8zM3 11V9.2l5-5L9.8 6l-5 5z"/></svg>'),a("omrs-icon-event-schedule",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M10.5 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8m0-7a3 3 0 1 0 0 6 3 3 0 0 0 0-6"/><path d="M11.295 12.5 10 11.205V9h1v1.795l1 1z"/><path d="M14 3a1 1 0 0 0-1-1h-2V1h-1v1H6V1H5v1H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2v-1H3V3h2v1h1V3h4v1h1V3h2v3h1z"/></svg>'),a("omrs-icon-events",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13 7h-1v1h1a1.5 1.5 0 0 1 1.5 1.5v2h1v-2A2.503 2.503 0 0 0 13 7M12 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M11.5 15h-1v-1A1.5 1.5 0 0 0 9 12.5H7A1.5 1.5 0 0 0 5.5 14v1h-1v-1A2.503 2.503 0 0 1 7 11.5h2a2.503 2.503 0 0 1 2.5 2.5zM8 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4 7H3A2.503 2.503 0 0 0 .5 9.5v2h1v-2A1.5 1.5 0 0 1 3 8h1zM4 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5"/></svg>'),a("omrs-icon-group",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M15.5 15h-1v-1.5A1.5 1.5 0 0 0 13 12h-2a1.5 1.5 0 0 0-1.5 1.5V15h-1v-1.5A2.5 2.5 0 0 1 11 11h2a2.5 2.5 0 0 1 2.5 2.5zM12 6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M7.5 11h-1V9.5A1.5 1.5 0 0 0 5 8H3a1.5 1.5 0 0 0-1.5 1.5V11h-1V9.5A2.5 2.5 0 0 1 3 7h2a2.5 2.5 0 0 1 2.5 2.5zM4 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5"/></svg>'),a("omrs-icon-group-access",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M4 9.5H3v-1A1.5 1.5 0 0 1 4.5 7H7v1H4.5a.5.5 0 0 0-.5.5zM6 6.5a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2M10 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2M13 13h-1v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1H7v-1a1.5 1.5 0 0 1 1.5-1.5h3A1.5 1.5 0 0 1 13 12z"/><path d="M4 15H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h2v1H2v12h2zM14 15h-2v-1h2V2h-2V1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1"/></svg>'),a("omrs-icon-hospital-bed",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M12.5 8h-4a1 1 0 0 0-1 1v3H2V7H1v8h1v-2h12v2h1v-4.5A2.503 2.503 0 0 0 12.5 8m1.5 4H8.5V9h4a1.5 1.5 0 0 1 1.5 1.5z"/><path d="M4.75 8.5a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5m0-1a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M10.5 3h-2V1h-1v2h-2v1h2v2h1V4h2z"/></svg>'),a("omrs-icon-image-medical",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13 3v10H3V3zm0-1H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1"/><path d="M11 8V7H8.5V6H10V5H8.5V4h-1v1H6v1h1.5v1H5v1h2.5v1H5v1h2.5v1H6v1h4v-1H8.5v-1H11V9H8.5V8z"/></svg>'),a("omrs-icon-inventory-management",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M11.5 12h-2v2h2zM15 12h-2v2h2zM11.5 8.5h-2v2h2zM15 8.5h-2v2h2z"/><path d="M8.5 12H2V5h12v2.5h1V5a1 1 0 0 0-1-1h-3V2a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v2H2a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h6.5zM6 2h4v2H6z"/></svg>'),a("omrs-icon-list-checked",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M15 4H8v1h7zM3 5.295 1.705 4 1 4.705l2 2 4-4L6.295 2zM15 11H8v1h7zM3 12.295 1.705 11 1 11.705l2 2 4-4L6.295 9z"/></svg>'),a("omrs-icon-location",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 9a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0-4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3"/><path d="m8 15-4.218-4.974-.174-.226A5.44 5.44 0 0 1 2.5 6.5a5.5 5.5 0 1 1 11 0 5.44 5.44 0 0 1-1.107 3.299h-.001s-.15.198-.172.225zM4.406 9.198s.117.154.144.187L8 13.454l3.455-4.075.14-.183A4.45 4.45 0 0 0 12.5 6.5a4.5 4.5 0 1 0-9 0 4.45 4.45 0 0 0 .906 2.698"/></svg>'),a("omrs-icon-maximize",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M10 1v1h3.293L9 6.291 9.707 7 14 2.707V6h1V1zM7 9.708 6.296 9 2 13.293V10H1v5h5v-1H2.707z"/></svg>'),a("omrs-icon-medication",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M12 1H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v9a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1M5 7h1.5v5H5zm6 7H5v-1h2.5V6H5V5h6zM4 4V2h8v2z"/></svg>'),a("omrs-icon-message-queue",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M14 14H2a1 1 0 0 1-1-1v-2.5h1V13h12v-2.5h1V13a1 1 0 0 1-1 1"/><path d="M12.5 10.5h-9v1h9zM12.5 8h-9v1h9zM12.5 5.5h-9v1h9zM12.5 3h-9v1h9z"/></svg>'),a("omrs-icon-microscope",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M12.697 12a3.94 3.94 0 0 0-.835-4.284 1.96 1.96 0 0 0-.542-2.207l1.388-1.388a1 1 0 0 0 0-1.415l-1.415-1.414a1 1 0 0 0-1.414 0L3.293 7.88a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0L8.51 8.319a1.966 1.966 0 0 0 2.757.217A2.97 2.97 0 0 1 11.589 12H8v2H2v1h12v-3zm-7.283-2L4 8.586l.94-.94L6.353 9.06zM8 7q0 .19.038.376l-.977.977L5.646 6.94 10.586 2l1.415 1.414-1.625 1.625A1.99 1.99 0 0 0 8 7m2 1a1 1 0 1 1 0-2 1 1 0 0 1 0 2m3 6H9v-1h4z"/></svg>'),a("omrs-icon-money",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M15 11H1v1h14zM15 13H1v1h14zM12 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2M4 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2"/><path d="M14 10H2a1.003 1.003 0 0 1-1-1V3a1.003 1.003 0 0 1 1-1h12a1.003 1.003 0 0 1 1 1v6a1 1 0 0 1-1 1m0-7H2v6h12z"/></svg>'),a("omrs-icon-mother",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M11.022 7.123a.83.83 0 0 0-.878-.445l-4.417.725c-.367.06-.683.291-.852.622l-1.451 2.859a.83.83 0 0 0 .068.866l1.91 2.633a.833.833 0 0 0 1.35-.979l-.564-.776a.67.67 0 0 1 .358-.46l1.077-.531-1.077-.53a.67.67 0 0 1-.372-.598V9.192a.667.667 0 0 1 1.333 0v.902l1.92.945a.667.667 0 0 1 .206 1.04l.007-.003-.418.576a.833.833 0 1 0 1.35.979l1.91-2.633a.83.83 0 0 0 .068-.867zm.311 2.377A1.167 1.167 0 1 1 9 9.5a1.167 1.167 0 0 1 2.333 0M10.333 3.667a2.333 2.333 0 1 1-4.666 0 2.333 2.333 0 0 1 4.666 0"/></svg>'),a("omrs-icon-movement",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m12 10-.705.705 1.79 1.795H5a2 2 0 1 1 0-4h6a3 3 0 0 0 0-6H2.915L4.705.705 4 0 1 3l3 3 .705-.705L2.915 3.5H11a2 2 0 0 1 0 4H5a3 3 0 1 0 0 6h8.085l-1.79 1.795L12 16l3-3z"/></svg>'),a("omrs-icon-overflow-menu--horizontal",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M4 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2M8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2M12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></svg>'),a("omrs-icon-overflow-menu--vertical",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2M8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></svg>'),a("omrs-icon-pedestrian-family",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M10 15H8.5a1 1 0 0 1-1-1v-2.5h1V14H10v-2.5h1v-2a.5.5 0 0 0-.5-.5H6.14l-1-3H2a.5.5 0 0 0-.5.5v3h1V14h2v-3.5h1V14a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3.5a1 1 0 0 1-1-1v-3A1.5 1.5 0 0 1 2 5h3.14a1 1 0 0 1 .948.684L6.86 8h3.64A1.5 1.5 0 0 1 12 9.5v2a1 1 0 0 1-1 1V14a1 1 0 0 1-1 1M14 15h-1V9.5h1.5v-3A.5.5 0 0 0 14 6h-2V5h2a1.5 1.5 0 0 1 1.5 1.5v3a1 1 0 0 1-1 1H14zM3.5 4.5a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2M12.5 4.5a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2"/><path d="M9.25 7.5a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5m0-2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5"/></svg>'),a("omrs-icon-pen",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13.654 3.053 15 1.707 14.293 1l-1.346 1.346L12.4 1.8a.967.967 0 0 0-1.4 0l-9 9V14h3.2l9-9a.967.967 0 0 0 0-1.4zM4.8 13H3v-1.8l8.7-8.7 1.8 1.8zM8.293 2 4.5 5.793l.707.707L9 2.707z"/></svg>'),a("omrs-icon-printer",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M14 4.5h-1.5v-3h-9v3H2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h1.5v3h9v-3H14a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1m-9.5-2h7v2h-7zm7 11h-7v-5h7zm2.5-3h-1.5v-3h-9v3H2v-5h12z"/></svg>'),a("omrs-icon-renew",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M6 5H3.39A5.5 5.5 0 0 1 13.5 8h1A6.5 6.5 0 0 0 3 3.84V2H2v4h4zM10 11h2.61A5.5 5.5 0 0 1 2.5 8h-1A6.5 6.5 0 0 0 13 12.16V14h1v-4h-4z"/></svg>'),a("omrs-icon-password",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M10.5 1a4.5 4.5 0 0 0-4.306 5.806L1 12v3h3l5.194-5.194A4.5 4.5 0 1 0 10.5 1m0 8c-.344 0-.687-.051-1.016-.151l-.573-.174-2.015 2.014L6.207 10l-.707.707.69.69-.794.792-.689-.689-.707.707.69.69L3.585 14H2v-1.586L7.325 7.09l-.174-.573A3.5 3.5 0 1 1 10.5 9"/><path d="M11 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></svg>'),a("omrs-icon-reset",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path fill="#161616" d="M9 14a6 6 0 1 0-6-6v3.1L1.2 9.3l-.7.7 3 3 3-3-.7-.7L4 11.1V8a5 5 0 1 1 5 5z"/></svg>'),a("omrs-icon-search",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0"/></svg>'),a("omrs-icon-save",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path fill="#161616" d="m13.855 4.645-2.5-2.5A.5.5 0 0 0 11 2H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a.5.5 0 0 0-.145-.355M6 3h4v2H6zm4 10H6V9h4zm1 0V9a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v4H3V3h2v2a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V3.205l2 2V13z"/></svg>'),a("omrs-icon-shopping-cart",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M5 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2M12 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2M14 3.5H2.91L2.5 1.4A.5.5 0 0 0 2 1H0v1h1.59l1.91 9.6a.5.5 0 0 0 .5.4h9v-1H4.41L4 9h9a.5.5 0 0 0 .5-.39l1-4.5a.5.5 0 0 0-.5-.61M12.6 8H3.81l-.7-3.5h10.265z"/></svg>'),a("omrs-icon-shopping-cart--arrow-down",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M5 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2M12 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2M2.49 1.402A.5.5 0 0 0 2 1H0v1h1.59l1.92 9.598A.5.5 0 0 0 4 12h9v-1H4.41l-.4-2H13a.5.5 0 0 0 .488-.392L14.622 3.5h-1.024L12.6 8H3.81z"/><path d="M10.793 3.293 9 5.086V1H8v4.086L6.207 3.293 5.5 4l3 3 3-3z"/></svg>'),a("omrs-icon-sticky-note-add",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M11.5 1h-1v2h-2v1h2v2h1V4h2V3h-2z"/><path d="M7.5 2h-4a1.003 1.003 0 0 0-1 1v10a1.003 1.003 0 0 0 1 1h6a.45.45 0 0 0 .35-.15l3.5-3.5a.45.45 0 0 0 .15-.35V7h-1v2h-3a1.003 1.003 0 0 0-1 1v3h-5V3h4zm4.8 8-2.8 2.8V10z"/></svg>'),a("omrs-icon-switcher",s),a("omrs-icon-switcher",s),a("omrs-icon-table-of-contents",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M11 3H2v1h9zM11 6H2v1h9zM11 9H2v1h9zM11 12H2v1h9zM14 3h-1v1h1zM14 6h-1v1h1zM14 9h-1v1h1zM14 12h-1v1h1z"/></svg>'),a("omrs-icon-table",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M14.5 2.5a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1zm-1 0v2h-11v-2zm0 11h-11v-2h11zm0-3h-11v-2h11zm0-3h-11v-2h11z"/></svg>'),a("omrs-icon-time",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2"/><path d="M10.295 11 7.5 8.205V3.5h1v4.29l2.5 2.505z"/></svg>'),a("omrs-icon-tools",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M6.05 1a4.9 4.9 0 0 0-2.7.8L6.55 5a1.05 1.05 0 0 1 .1 1.5 1.05 1.05 0 0 1-1.5-.1l-3.3-3.2A4.9 4.9 0 0 0 1 6.05a5.07 5.07 0 0 0 5.05 5.05c.438.002.874-.048 1.3-.15l3.35 3.35a2.51 2.51 0 1 0 3.55-3.55L10.9 7.4q.153-.641.15-1.3a5 5 0 0 0-5-5.1m4 5.05c0 .355-.051.709-.15 1.05l-.15.55.4.4 3.35 3.35a1.44 1.44 0 0 1 .45 1.05 1.36 1.36 0 0 1-.45 1.05 1.45 1.45 0 0 1-2.1 0l-3.35-3.35-.4-.4-.55.15c-.341.099-.695.15-1.05.15A4.14 4.14 0 0 1 3.2 8.9 3.82 3.82 0 0 1 2 6.05c0-.372.051-.742.15-1.1l2.2 2.2a2.07 2.07 0 0 0 2.95.1 2.07 2.07 0 0 0-.1-2.95L5 2.1c.323-.102.66-.153 1-.15A4.14 4.14 0 0 1 8.85 3.1a4.25 4.25 0 0 1 1.2 2.95"/></svg>'),a("omrs-icon-translate",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M13.925 14.5H15L12 7h-1.175l-3 7.5H8.9l.8-2h3.425zm-3.825-3 1.31-3.28 1.315 3.28zM9 3.5v-1H5.5V1h-1v1.5H1v1h5.37a7.36 7.36 0 0 1-1.595 3.09A6.8 6.8 0 0 1 3.63 4.5H2.58a8.2 8.2 0 0 0 1.5 2.79A8.4 8.4 0 0 1 1.5 9l.375.93A9.2 9.2 0 0 0 4.765 8a8.5 8.5 0 0 0 2.88 1.92L8 9a7.2 7.2 0 0 1-2.56-1.685A8.8 8.8 0 0 0 7.4 3.5z"/></svg>'),a("omrs-icon-trash-can",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M7 6H6v6h1zM10 6H9v6h1z"/><path d="M2 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zM10 1H6v1h4z"/></svg>'),a("omrs-icon-tree-view--alt",'<svg xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M11.5 4.502h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v.5h-5v-.5a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-.5h2v10a1 1 0 0 0 1 1h2v.5a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v.5h-2v-4.5h2v.5a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v.5h-2v-4.5h2v.5a1 1 0 0 0 1 1m0-3h3v2h-3zm-7 2h-3v-2h3zm7 9h3v2h-3zm0-5.5h3v2h-3z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>'),a("omrs-icon-user-avatar",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/><path d="M8 1a7 7 0 1 0 7 7 7.01 7.01 0 0 0-7-7M5 13.188V12.5A1.5 1.5 0 0 1 6.5 11h3a1.5 1.5 0 0 1 1.5 1.5v.688a5.95 5.95 0 0 1-6 0m6.996-.725A2.5 2.5 0 0 0 9.5 10h-3a2.5 2.5 0 0 0-2.496 2.463 6 6 0 1 1 7.992 0"/></svg>'),a("omrs-icon-user-follow",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M16 7h-2V5h-1v2h-2v1h2v2h1V8h2zM6 2a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5m0-1a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7M11 15h-1v-2.5A2.5 2.5 0 0 0 7.5 10h-3A2.5 2.5 0 0 0 2 12.5V15H1v-2.5A3.5 3.5 0 0 1 4.5 9h3a3.5 3.5 0 0 1 3.5 3.5z"/></svg>'),a("omrs-icon-user-xray",'<svg xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M15.5 1.5h-7A.5.5 0 0 0 8 2v6.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V2a.5.5 0 0 0-.5-.5m-1.5 3h-1.5V6H14v1h-1.5v1h-1V7H10V6h1.5V4.5H10v-1h1.5v-1h1v1H14zM7.5 15h-1v-2A1.473 1.473 0 0 0 5 11.5H3A1.474 1.474 0 0 0 1.5 13v2h-1v-2A2.475 2.475 0 0 1 3 10.5h2A2.476 2.476 0 0 1 7.5 13zM4 5.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>'),a("omrs-icon-user",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 2a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5m0-1a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7M13 15h-1v-2.5A2.5 2.5 0 0 0 9.5 10h-3A2.5 2.5 0 0 0 4 12.5V15H3v-2.5A3.5 3.5 0 0 1 6.5 9h3a3.5 3.5 0 0 1 3.5 3.5z"/></svg>'),a("omrs-icon-view-off",'<svg xmlns="http://www.w3.org/2000/svg"><path d="m2.62 11.255.715-.71A7 7 0 0 1 1.535 8C2.55 5.465 5.35 3.5 8 3.5a6.2 6.2 0 0 1 2 .36l.775-.78A7.4 7.4 0 0 0 8 2.5 8.35 8.35 0 0 0 .53 7.83a.5.5 0 0 0 0 .34 8 8 0 0 0 2.09 3.085"/><path d="M6 7.865a2 2 0 0 1 1.85-1.85l.905-.91A3 3 0 0 0 5.09 8.77zM15.47 7.83a8.2 8.2 0 0 0-2.87-3.72L15 1.705 14.295 1 1 14.295l.705.705 2.55-2.55A7.65 7.65 0 0 0 8 13.5a8.35 8.35 0 0 0 7.47-5.33.5.5 0 0 0 0-.34M10 8a2 2 0 0 1-3 1.72L9.72 7A2 2 0 0 1 10 8m-2 4.5a6.5 6.5 0 0 1-3-.79l1.27-1.27a3 3 0 0 0 4.175-4.175L11.88 4.83A7.27 7.27 0 0 1 14.465 8C13.45 10.535 10.65 12.5 8 12.5"/></svg>'),a("omrs-icon-view",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M15.47 7.83A8.34 8.34 0 0 0 8 2.5 8.35 8.35 0 0 0 .53 7.83a.5.5 0 0 0 0 .34A8.35 8.35 0 0 0 8 13.5a8.35 8.35 0 0 0 7.47-5.33.5.5 0 0 0 0-.34M8 12.5c-2.65 0-5.45-1.965-6.465-4.5C2.55 5.465 5.35 3.5 8 3.5s5.45 1.965 6.465 4.5C13.45 10.535 10.65 12.5 8 12.5"/><path d="M8 5a3 3 0 1 0 0 6 3 3 0 0 0 0-6m0 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4"/></svg>'),a("omrs-icon-warning",'<svg xmlns="http://www.w3.org/2000/svg"><path d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1m0 13A6 6 0 1 1 8 2a6 6 0 0 1 0 12"/><path d="M8.5 4h-1v5.5h1zM8 11a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5"/></svg>'),a("omrs-pict-home",'<svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="none" viewBox="0 0 80 80"><path fill="#CEE6E5" d="M61.48 62H18.52c-.29 0-.52-.23-.52-.52V28.54c0-.29.23-.52.52-.52h30.99v-9.5c0-.29.23-.52.52-.52h11.46c.28 0 .52.23.52.52v42.96c0 .28-.23.52-.52.52z"/><path fill="#7BBCB9" d="M39.63 51.97h-6.85v8.99h6.85zM56.41 52.89h-1.03v-2.87h1.03zM48.54 52.89h-1.03v-2.87h1.03zM24.9 50.02h-1.03v2.86h1.03zM56.41 47.16h-1.03v-2.87h1.03zM48.54 47.16h-1.03v-2.87h1.03zM40.66 44.29h-1.03v2.86h1.03zM32.78 44.29h-1.03v2.86h1.03zM24.9 44.29h-1.03v2.86h1.03zM56.41 41.43h-1.03v-2.86h1.03zM48.54 41.43h-1.03v-2.86h1.03zM40.66 38.57h-1.03v2.86h1.03zM32.78 38.57h-1.03v2.86h1.03zM24.9 38.57h-1.03v2.86h1.03zM56.41 35.7h-1.03v-2.86h1.03zM48.54 35.7h-1.03v-2.86h1.03zM40.66 32.84h-1.03v2.86h1.03zM32.78 32.84h-1.03v2.86h1.03zM24.9 32.84h-1.03v2.86h1.03zM56.41 26.39h-1.03v-2.35h-2.35v-1.03h2.35v-2.35h1.03v2.35h2.35v1.03h-2.35z"/></svg>'),a("omrs-pict-laboratory",'<svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="none" viewBox="0 0 80 80"><path fill="#CEE6E5" d="M49.579 55.196h3.66c1.15-2.11 1.76-4.5 1.76-6.93 0-5.11-2.69-9.81-7.06-12.42a5.09 5.09 0 0 1-4.38 2.48c-.86 0-1.67-.21-2.39-.59l-5.02 8.7a.59.59 0 0 1-.81.22l-2.09-1.21-.91 1.58 2.09 1.21c.14.08.23.21.27.36s.02.31-.06.45l-1.5 2.6c-.16.28-.52.38-.81.22l-7.81-4.51a.6.6 0 0 1-.22-.81l1.5-2.6a.59.59 0 0 1 .81-.22l2.09 1.21.91-1.58-2.09-1.21a.58.58 0 0 1-.27-.36.6.6 0 0 1 .06-.45l15.05-26.04a.6.6 0 0 1 .81-.22l7.81 4.51a.59.59 0 0 1 .22.81l-4.92 8.51c1.44.9 2.39 2.5 2.39 4.32 0 .53-.08 1.05-.24 1.54 4.79 2.8 7.75 7.93 7.75 13.5 0 2.41-.56 4.78-1.61 6.93h4.03"/><path fill="#7BBCB9" d="m25.629 46.626 6.79 3.92.91-1.58-4.7-2.71s-.02 0-.02-.01l-2.07-1.2z"/><path fill="#CEE6E5" d="m30.539 45.986.78.45.92-1.58-1.58-.92-.92 1.59z"/><path fill="#7BBCB9" d="M41.399 36.496a3.93 3.93 0 0 0 5.75-1.67c0-.02.02-.04.03-.06a3.926 3.926 0 0 0-3.61-5.46c-2.16 0-3.92 1.76-3.92 3.92 0 1.29.62 2.43 1.58 3.14.01 0 .03.01.05.02.05.03.09.06.13.1z"/><path fill="#CEE6E5" d="M53.659 55.196h4.03c.33 0 .59.26.59.59v9.02c0 .33-.26.59-.59.59h-36.09c-.24 0-.45-.14-.55-.37s-.04-.47.13-.64l6.02-6.01a.6.6 0 0 1 .42-.17h20.46v-2.42c0-.33.26-.59.59-.59h3.66"/></svg>'),a("omrs-pict-patient-lists",'<svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="none" viewBox="0 0 80 80"><path fill="#CEE6E5" fill-rule="evenodd" d="M34.824 27.412c.659-.473.879-1.41.784-2.353C35.703 21.133 32.502 18 28.55 18s-7.153 3.133-7.059 7.059c-.094 2.802 1.647 5.26 3.922 6.275C20.11 32.699 16 37.538 16 43.099v11.765h21.961V27.412zM63.06 54.864V43.099c0-5.561-4.11-10.415-9.412-11.765 2.274-1.015 4.016-3.473 3.922-6.275.094-3.926-3.106-7.059-7.06-7.059-3.952 0-7.152 3.133-7.058 7.059-.094.944.11 1.88.784 2.353h-3.137v27.452z" clip-rule="evenodd"/><path fill="#7BBCB9" fill-rule="evenodd" d="M28.55 61.138v-11.52c0-5.806 4.11-10.66 9.647-11.934-2.51-1.09-4.251-3.548-4.251-6.405 0-3.87 3.2-7.004 7.153-7.004s7.153 3.133 7.153 7.004c0 2.857-1.741 5.314-4.251 6.405 5.537 1.29 9.647 6.128 9.647 11.934v11.52" clip-rule="evenodd"/></svg>'),a("omrs-pict-appointments",'<svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="none" viewBox="0 0 80 80"><path fill="#CEE6E5" d="M59.73 22.18H19.85c-.28 0-.51.23-.51.51v38.45c0 .28.23.51.51.51h39.88c.28 0 .51-.23.51-.51V22.7c0-.28-.23-.51-.51-.51z"/><path fill="#7BBCB9" d="M54.03 46.4h-11.4a.51.51 0 0 0-.51.51v5.7c0 .282.228.51.51.51h11.4a.51.51 0 0 0 .51-.51v-5.7a.51.51 0 0 0-.51-.51M36.94 46.4h-11.4a.51.51 0 0 0-.51.51v5.7c0 .282.228.51.51.51h11.4a.51.51 0 0 0 .51-.51v-5.7a.51.51 0 0 0-.51-.51M54.03 33.58h-11.4a.51.51 0 0 0-.51.51v5.7c0 .282.228.51.51.51h11.4a.51.51 0 0 0 .51-.51v-5.7a.51.51 0 0 0-.51-.51M36.94 33.58h-11.4a.51.51 0 0 0-.51.51v5.7c0 .282.228.51.51.51h11.4a.51.51 0 0 0 .51-.51v-5.7a.51.51 0 0 0-.51-.51M49.76 27.48c-1.07 0-1.94-.87-1.94-1.94v-5.69c0-1.07.87-1.94 1.94-1.94s1.94.87 1.94 1.94v5.7c0 1.07-.87 1.94-1.94 1.94zM29.82 27.48c-1.07 0-1.94-.87-1.94-1.94v-5.69c0-1.07.87-1.94 1.94-1.94s1.94.87 1.94 1.94v5.7c0 1.07-.87 1.94-1.94 1.94z"/><path fill="#CEE6E5" d="M45.48 22.18H34.09v1.03h11.39z"/></svg>'),a("omrs-pict-service-queues",'<svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="none" viewBox="0 0 80 80"><path fill="#CEE6E5" fill-rule="evenodd" d="M34.824 27.412c.659-.473.879-1.41.784-2.353C35.703 21.133 32.502 18 28.55 18s-7.153 3.133-7.059 7.059c-.094 2.802 1.647 5.26 3.922 6.275C20.11 32.699 16 37.538 16 43.099v11.765h21.961V27.412zM63.06 54.864V43.099c0-5.561-4.11-10.415-9.412-11.765 2.274-1.015 4.016-3.473 3.922-6.275.094-3.926-3.106-7.059-7.06-7.059-3.952 0-7.152 3.133-7.058 7.059-.094.944.11 1.88.784 2.353h-3.137v27.452z" clip-rule="evenodd"/><path fill="#7BBCB9" fill-rule="evenodd" d="M28.55 61.138v-11.52c0-5.806 4.11-10.66 9.647-11.934-2.51-1.09-4.251-3.548-4.251-6.405 0-3.87 3.2-7.004 7.153-7.004s7.153 3.133 7.153 7.004c0 2.857-1.741 5.314-4.251 6.405 5.537 1.29 9.647 6.128 9.647 11.934v11.52" clip-rule="evenodd"/></svg>')})(),(()=>{"use strict";p.r(v)})(),v})())}}}));
//# sourceMappingURL=openmrs-esm-styleguide.js.map