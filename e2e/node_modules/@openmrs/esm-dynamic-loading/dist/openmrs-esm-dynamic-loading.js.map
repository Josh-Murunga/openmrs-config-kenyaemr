{"version":3,"file":"openmrs-esm-dynamic-loading.js","mappings":"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","sources":["webpack://@openmrs/esm-dynamic-loading/external system \"@openmrs/esm-globals\"","webpack://@openmrs/esm-dynamic-loading/external system \"@openmrs/esm-translations\"","webpack://@openmrs/esm-dynamic-loading/webpack/bootstrap","webpack://@openmrs/esm-dynamic-loading/webpack/runtime/define property getters","webpack://@openmrs/esm-dynamic-loading/webpack/runtime/hasOwnProperty shorthand","webpack://@openmrs/esm-dynamic-loading/webpack/runtime/make namespace object","webpack://@openmrs/esm-dynamic-loading/webpack/runtime/sharing","webpack://@openmrs/esm-dynamic-loading/./src/dynamic-loading.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__728__;","module.exports = __WEBPACK_EXTERNAL_MODULE__901__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.S = {};\nvar initPromises = {};\nvar initTokens = {};\n__webpack_require__.I = (name, initScope) => {\n\tif(!initScope) initScope = [];\n\t// handling circular init calls\n\tvar initToken = initTokens[name];\n\tif(!initToken) initToken = initTokens[name] = {};\n\tif(initScope.indexOf(initToken) >= 0) return;\n\tinitScope.push(initToken);\n\t// only runs once\n\tif(initPromises[name]) return initPromises[name];\n\t// creates a new share scope if needed\n\tif(!__webpack_require__.o(__webpack_require__.S, name)) __webpack_require__.S[name] = {};\n\t// runs all init snippets from all modules reachable\n\tvar scope = __webpack_require__.S[name];\n\tvar warn = (msg) => {\n\t\tif (typeof console !== \"undefined\" && console.warn) console.warn(msg);\n\t};\n\tvar uniqueName = \"@openmrs/esm-dynamic-loading\";\n\tvar register = (name, version, factory, eager) => {\n\t\tvar versions = scope[name] = scope[name] || {};\n\t\tvar activeVersion = versions[version];\n\t\tif(!activeVersion || (!activeVersion.loaded && (!eager != !activeVersion.eager ? eager : uniqueName > activeVersion.from))) versions[version] = { get: factory, from: uniqueName, eager: !!eager };\n\t};\n\tvar initExternal = (id) => {\n\t\tvar handleError = (err) => (warn(\"Initialization of sharing external failed: \" + err));\n\t\ttry {\n\t\t\tvar module = __webpack_require__(id);\n\t\t\tif(!module) return;\n\t\t\tvar initFn = (module) => (module && module.init && module.init(__webpack_require__.S[name], initScope))\n\t\t\tif(module.then) return promises.push(module.then(initFn, handleError));\n\t\t\tvar initResult = initFn(module);\n\t\t\tif(initResult && initResult.then) return promises.push(initResult['catch'](handleError));\n\t\t} catch(err) { handleError(err); }\n\t}\n\tvar promises = [];\n\tswitch(name) {\n\t}\n\tif(!promises.length) return initPromises[name] = 1;\n\treturn initPromises[name] = Promise.all(promises).then(() => (initPromises[name] = 1));\n};","/** @module @category Dynamic Loading */\n'use strict';\n// hack to make the types defined in esm-globals available here\nimport { dispatchToastShown, type ImportMap } from '@openmrs/esm-globals';\nimport { getCoreTranslation } from '@openmrs/esm-translations';\n\n/**\n * @internal\n *\n * Transforms an ESM module name to a valid JS identifier\n *\n * @param name the name of a module\n * @returns An opaque, equivalent JS identifier for the module\n */\nexport function slugify(name: string) {\n  return name.replace(/[\\/\\-@]/g, '_');\n}\n\n/**\n * Loads the named export from a named package. This might be used like:\n *\n * ```js\n * const { someComponent } = importDynamic(\"@openmrs/esm-template-app\")\n * ```\n *\n * @param jsPackage The package to load the export from.\n * @param share Indicates the name of the shared module; this is an advanced feature if the package you are loading\n *   doesn't use the default OpenMRS shared module name \"./start\".\n * @param options Additional options to control loading this script.\n * @param options.importMap The import map to use to load the script. This is useful for situations where you're\n *   loading multiple scripts at a time, since it allows the calling code to supply an importMap, saving multiple\n *   calls to `getCurrentImportMap()`.\n * @param options.maxLoadingTime A positive integer representing the maximum number of milliseconds to wait for the\n *   script to load before the promise returned from this function will be rejected. Defaults to 600,000 milliseconds,\n *   i.e., 10 minutes.\n */\nexport async function importDynamic<T = any>(\n  jsPackage: string,\n  share: string = './start',\n  options?: {\n    importMap?: ImportMap;\n    maxLoadingTime?: number;\n  },\n): Promise<T> {\n  // default to 10 minutes\n  const maxLoadingTime = !options?.maxLoadingTime || options.maxLoadingTime <= 0 ? 600_000 : options.maxLoadingTime;\n\n  let timeout: ReturnType<typeof setTimeout> | undefined = undefined;\n  await Promise.race([\n    preloadImport(jsPackage, options?.importMap),\n    new Promise((_, reject) => {\n      timeout = setTimeout(() => {\n        reject(\n          new Error(`Could not resolve requested script, ${jsPackage}, within ${humanReadableMs(maxLoadingTime)}.`),\n        );\n      }, maxLoadingTime);\n    }),\n  ]);\n\n  timeout && clearTimeout(timeout);\n\n  const jsPackageSlug = slugify(jsPackage);\n\n  const container = window[jsPackageSlug] as unknown;\n  if (!isFederatedModule(container)) {\n    const error = `The global variable ${jsPackageSlug} does not refer to a federated module`;\n    console.error(error);\n    throw new Error(error);\n  }\n\n  container.init(__webpack_share_scopes__.default);\n\n  const factory = await container.get(share);\n  const module = factory();\n\n  if (!(typeof module === 'object') || module === null) {\n    const error = `Container for ${jsPackage} did not return an ESM module as expected`;\n    console.error(error);\n    throw new Error(error);\n  }\n\n  return module as unknown as T;\n}\n\n/**\n * Utility function to convert milliseconds into human-readable strings with rather absurd\n * levels of precision.\n *\n * @param ms Number of milliseconds\n * @returns A human-readable string useful only for error logging, where we can assume English\n */\nfunction humanReadableMs(ms: number) {\n  if (ms < 1_000) {\n    return `${ms} milliseconds`;\n  } else if (ms < 60_000) {\n    return `${Math.floor(ms / 1000)} seconds`;\n  } else if (ms < 3_600_000) {\n    return `${Math.floor(ms / 60_000)} minutes`;\n  } else if (ms < 86_400_000) {\n    return `${Math.floor(ms / 3_600_000)} hours`;\n  } else {\n    return `${Math.floor(ms / 86_400_000)} days`;\n  }\n}\n\n/**\n * @internal\n *\n * This internal method is used to ensure that the script belonging\n * to the given package is loaded and added to the head.\n *\n * @param jsPackage The package to load\n * @param importMap The import map to use for loading this package.\n *  The main reason for specifying this is to avoid needing to call\n *  `getCurrentPageMap()` for every script when bulk loading.\n */\nexport async function preloadImport(jsPackage: string, importMap?: ImportMap) {\n  if (typeof jsPackage !== 'string' || jsPackage.trim().length === 0) {\n    const error = 'Attempted to call importDynamic() without supplying a package to load';\n    console.error(error);\n    throw new Error(error);\n  }\n\n  const jsPackageSlug = slugify(jsPackage);\n\n  if (!window[jsPackageSlug]) {\n    const activeImportMap = importMap ?? (await getCurrentImportMap());\n    if (!activeImportMap.imports.hasOwnProperty(jsPackage)) {\n      const error = `Could not find the package ${jsPackage} defined in the current importmap`;\n      console.error(error);\n      throw new Error(error);\n    }\n\n    let url = activeImportMap.imports[jsPackage];\n    if (url.startsWith('./')) {\n      url = window.spaBase + url.substring(1);\n    }\n\n    const isOverridden = !!window.localStorage.getItem(`import-map-override:${jsPackage}`);\n    try {\n      return await new Promise<void>((resolve, reject) => {\n        loadScript(url, resolve, reject);\n      });\n    } catch (err: any) {\n      if (isOverridden) {\n        dispatchToastShown({\n          kind: 'error',\n          title: getCoreTranslation('scriptLoadingFailed', 'Error: Script failed to load'),\n          description: getCoreTranslation(\n            'scriptLoadingError',\n            'Failed to load overridden script from {{- url}}. Please check that the bundled script is available at the expected URL. Click the button below to reset all import map overrides.',\n            {\n              url,\n            },\n          ),\n          actionButtonLabel: getCoreTranslation('resetOverrides', 'Reset overrides'),\n          onActionButtonClick() {\n            window.importMapOverrides.resetOverrides();\n            window.location.reload();\n          },\n        });\n      }\n\n      return Promise.reject(err);\n    }\n  }\n\n  return Promise.resolve();\n}\n\n/**\n * @internal\n *\n * Used to load the current import map\n *\n * @returns The current page map\n */\nexport async function getCurrentImportMap() {\n  return window.importMapOverrides.getCurrentPageMap();\n}\n\ninterface FederatedModule {\n  init: (scope: typeof __webpack_share_scopes__.default) => void;\n  get: (_export: string) => Promise<() => unknown>;\n}\n\nfunction isFederatedModule(a: unknown): a is FederatedModule {\n  return (\n    typeof a === 'object' &&\n    a !== null &&\n    'init' in a &&\n    typeof a['init'] === 'function' &&\n    'get' in a &&\n    typeof a['get'] === 'function'\n  );\n}\n\n// internals to track script loading\n// basically, if we're already loading a script, we should wait until the script is loaded\n// we use a global to track this\nconst OPENMRS_SCRIPT_LOADING = Symbol('__openmrs_script_loading');\n\n/**\n * Appends a `<script>` to the DOM with the given URL.\n */\nfunction loadScript(\n  url: string,\n  resolve: (value: unknown | PromiseLike<unknown>) => void,\n  reject: (reason?: any) => void,\n) {\n  const scriptElement = document.head.querySelector(`script[src=\"${url}\"]`);\n  let scriptLoading: Set<String> = window[OPENMRS_SCRIPT_LOADING];\n  if (!scriptLoading) {\n    scriptLoading = window[OPENMRS_SCRIPT_LOADING] = new Set([]);\n  }\n\n  if (!scriptElement) {\n    scriptLoading.add(url);\n    const element = document.createElement('script');\n    element.src = url;\n    element.type = 'text/javascript';\n    element.async = true;\n\n    // loadTime() displays an error if a script takes more than 5 seconds to load\n    const loadTimeout = setTimeout(() => {\n      console.error(\n        `The script at ${url} did not load within 5 seconds. This may indicate an issue with the imports in the script's entry-point file or with the script's bundler configuration.`,\n      );\n    }, 5_000); // 5 seconds; this is arbitrary\n\n    let loadFn: () => void, errFn: (ev: ErrorEvent) => void, finishScriptLoading: () => void;\n\n    finishScriptLoading = () => {\n      clearTimeout(loadTimeout);\n      scriptLoading.delete(url);\n      loadFn && element.removeEventListener('load', loadFn);\n      errFn && element.removeEventListener('error', errFn);\n    };\n\n    loadFn = () => {\n      finishScriptLoading();\n      resolve(null);\n    };\n\n    errFn = (ev: ErrorEvent) => {\n      finishScriptLoading();\n      const msg = `Failed to load script from ${url}`;\n      console.error(msg, ev);\n      reject(ev.message ?? msg);\n    };\n\n    element.addEventListener('load', loadFn);\n    element.addEventListener('error', errFn);\n\n    document.head.appendChild(element);\n  } else {\n    if (scriptLoading.has(url)) {\n      let loadFn: () => void, errFn: (ev: ErrorEvent) => void, finishScriptLoading: () => void;\n\n      finishScriptLoading = () => {\n        loadFn && scriptElement.removeEventListener('load', loadFn);\n        errFn && scriptElement.removeEventListener('error', errFn);\n      };\n\n      loadFn = () => {\n        finishScriptLoading();\n        resolve(null);\n      };\n\n      // this errFn does not log anything\n      errFn = (ev: ErrorEvent) => {\n        finishScriptLoading();\n        reject(ev.message);\n      };\n\n      scriptElement.addEventListener('load', loadFn);\n      scriptElement.addEventListener('error', errFn);\n    } else {\n      console.warn(`Script at ${url} already loaded. Not loading it again.`);\n      resolve(null);\n    }\n  }\n}\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__728__","__WEBPACK_EXTERNAL_MODULE__901__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","S","initPromises","initTokens","I","name","initScope","initToken","indexOf","push","promises","length","Promise","all","then","slugify","replace","importDynamic","jsPackage","share","options","maxLoadingTime","timeout","jsPackageSlug","container","error","factory","race","preloadImport","importMap","_","reject","setTimeout","ms","Error","humanReadableMs","Math","floor","clearTimeout","a","window","console","init","__webpack_share_scopes__","default","activeImportMap","url","isOverridden","err","trim","getCurrentImportMap","imports","startsWith","spaBase","substring","localStorage","getItem","resolve","scriptElement","document","head","querySelector","scriptLoading","OPENMRS_SCRIPT_LOADING","Set","loadFn","errFn","finishScriptLoading","has","removeEventListener","ev","message","addEventListener","warn","add","element","createElement","src","type","async","loadTimeout","delete","msg","appendChild","loadScript","dispatchToastShown","kind","title","getCoreTranslation","description","actionButtonLabel","onActionButtonClick","importMapOverrides","resetOverrides","location","reload","getCurrentPageMap"],"sourceRoot":""}