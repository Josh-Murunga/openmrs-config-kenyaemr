{"version":3,"file":"index.iife.js","sources":["../../src/index.js"],"sourcesContent":["export default {\n\tname: 'new',\n\n\tinit(jsep) {\n\t\tjsep.addUnaryOp('new');\n\n\t\tjsep.hooks.add('after-token', function gobbleNew(env) {\n\t\t\tconst node = env.node;\n\t\t\tif (node && node.operator === 'new') {\n\t\t\t\tif (!node.argument || ![jsep.CALL_EXP, jsep.MEMBER_EXP].includes(node.argument.type)) {\n\t\t\t\t\tthis.throwError('Expected new function()');\n\t\t\t\t}\n\t\t\t\tenv.node = node.argument;\n\n\t\t\t\t// Change CALL_EXP to NewExpression (could be a nested member, even within a call expr)\n\t\t\t\tlet callNode = env.node;\n\t\t\t\twhile (callNode.type === jsep.MEMBER_EXP || (\n\t\t\t\t\tcallNode.type === jsep.CALL_EXP && callNode.callee.type === jsep.MEMBER_EXP)) {\n\t\t\t\t\tcallNode = callNode.type === jsep.MEMBER_EXP\n\t\t\t\t\t\t? callNode.object\n\t\t\t\t\t\t: callNode.callee.object;\n\t\t\t\t}\n\t\t\t\tcallNode.type = 'NewExpression';\n\t\t\t}\n\t\t});\n\t}\n};\n"],"names":[],"mappings":";;;AAAA,aAAe;CACf,CAAC,IAAI,EAAE,KAAK;AACZ;CACA,CAAC,IAAI,CAAC,IAAI,EAAE;CACZ,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AACzB;CACA,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,SAAS,CAAC,GAAG,EAAE;CACxD,GAAG,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;CACzB,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,KAAK,KAAK,EAAE;CACxC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;CAC1F,KAAK,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,CAAC;CAChD,KAAK;CACL,IAAI,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;AAC7B;CACA;CACA,IAAI,IAAI,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;CAC5B,IAAI,OAAO,QAAQ,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU;CAC5C,KAAK,QAAQ,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,EAAE;CACnF,KAAK,QAAQ,GAAG,QAAQ,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU;CACjD,QAAQ,QAAQ,CAAC,MAAM;CACvB,QAAQ,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;CAC/B,KAAK;CACL,IAAI,QAAQ,CAAC,IAAI,GAAG,eAAe,CAAC;CACpC,IAAI;CACJ,GAAG,CAAC,CAAC;CACL,EAAE;CACF,CAAC;;;;;;;;"}